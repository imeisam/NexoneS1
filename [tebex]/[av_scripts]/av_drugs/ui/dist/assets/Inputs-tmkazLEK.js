import{r as m,n as E,o as Se,j as a,B as S,p as je,q as _e,u as ke,s as we,t as Me,v as ge,w as Le,x as Ve,y as Re,z as Te,D as ze,E as De,m as Ee,k as Ne,T as Pe,b as A,S as Ae,G as J,a as Q,f as Z}from"./index-CQANsBws.js";function Be(t,s,o="ltr"){const n=m.useRef(null),l=m.useRef(!1),i=m.useRef(!1),v=m.useRef(0),[r,x]=m.useState(!1);return m.useEffect(()=>{l.current=!0},[]),m.useEffect(()=>{var g,R;const e=({x:f,y:z})=>{cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{if(l.current&&n.current){n.current.style.userSelect="none";const b=n.current.getBoundingClientRect();if(b.width&&b.height){const N=E((f-b.left)/b.width,0,1);t({x:o==="ltr"?N:1-N,y:E((z-b.top)/b.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",w),document.addEventListener("mouseup",u),document.addEventListener("touchmove",M),document.addEventListener("touchend",u)},d=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",u),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",u)},p=()=>{!i.current&&l.current&&(i.current=!0,typeof(s==null?void 0:s.onScrubStart)=="function"&&s.onScrubStart(),x(!0),c())},u=()=>{i.current&&l.current&&(i.current=!1,x(!1),d(),setTimeout(()=>{typeof(s==null?void 0:s.onScrubEnd)=="function"&&s.onScrubEnd()},0))},V=f=>{p(),f.preventDefault(),w(f)},w=f=>e({x:f.clientX,y:f.clientY}),_=f=>{f.cancelable&&f.preventDefault(),p(),M(f)},M=f=>{f.cancelable&&f.preventDefault(),e({x:f.changedTouches[0].clientX,y:f.changedTouches[0].clientY})};return(g=n.current)==null||g.addEventListener("mousedown",V),(R=n.current)==null||R.addEventListener("touchstart",_,{passive:!1}),()=>{n.current&&(n.current.removeEventListener("mousedown",V),n.current.removeEventListener("touchstart",_))}},[o,t]),{ref:n,active:r}}const[Fe,C]=Se("SliderProvider was not found in tree"),ee=m.forwardRef(({size:t,disabled:s,variant:o,color:n,thumbSize:l,radius:i,...v},r)=>{const{getStyles:x}=C();return a.jsx(S,{tabIndex:-1,variant:o,size:t,ref:r,...x("root"),...v})});ee.displayName="@mantine/core/SliderRoot";const te=m.forwardRef(({max:t,min:s,value:o,position:n,label:l,dragging:i,onMouseDown:v,onKeyDownCapture:r,labelTransitionProps:x,labelAlwaysOn:e,thumbLabel:c,onFocus:d,onBlur:p,showLabelOnHover:u,isHovered:V,children:w=null,disabled:_},M)=>{const{getStyles:g}=C(),[R,f]=m.useState(!1),z=e||i||R||u&&V;return a.jsxs(S,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":t,"aria-valuemin":s,"aria-valuenow":o,ref:M,__vars:{"--slider-thumb-offset":`${n}%`},...g("thumb",{focusable:!0}),mod:{dragging:i,disabled:_},onFocus:()=>{f(!0),typeof d=="function"&&d()},onBlur:()=>{f(!1),typeof p=="function"&&p()},onTouchStart:v,onMouseDown:v,onKeyDownCapture:r,onClick:b=>b.stopPropagation(),children:[w,a.jsx(je,{mounted:l!=null&&!!z,transition:"fade",duration:0,...x,children:b=>a.jsx("div",{...g("label",{style:b}),children:l})})]})});te.displayName="@mantine/core/SliderThumb";function se({value:t,min:s,max:o}){const n=(t-s)/(o-s)*100;return Math.min(Math.max(n,0),100)}function Ce({mark:t,offset:s,value:o,inverted:n=!1}){return n?typeof s=="number"&&t.value<=s||t.value>=o:typeof s=="number"?t.value>=s&&t.value<=o:t.value<=o}function re({marks:t,min:s,max:o,disabled:n,value:l,offset:i,inverted:v}){const{getStyles:r}=C();if(!t)return null;const x=t.map((e,c)=>m.createElement(S,{...r("markWrapper"),__vars:{"--mark-offset":`${se({value:e.value,min:s,max:o})}%`},key:c},a.jsx(S,{...r("mark"),mod:{filled:Ce({mark:e,value:l,offset:i,inverted:v}),disabled:n}}),e.label&&a.jsx("div",{...r("markLabel"),children:e.label})));return a.jsx("div",{children:x})}re.displayName="@mantine/core/SliderMarks";function ne({filled:t,children:s,offset:o,disabled:n,marksOffset:l,inverted:i,containerProps:v,...r}){const{getStyles:x}=C();return a.jsx(a.Fragment,{children:a.jsx(S,{...x("trackContainer"),mod:{disabled:n},...v,children:a.jsxs(S,{...x("track"),mod:{inverted:i,disabled:n},children:[a.jsx(S,{mod:{inverted:i,disabled:n},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${o}% - var(--slider-size))`},...x("bar")}),s,a.jsx(re,{...r,offset:l,disabled:n,inverted:i})]})})})}ne.displayName="@mantine/core/SliderTrack";function He({value:t,containerWidth:s,min:o,max:n,step:l,precision:i}){const r=(s?Math.min(Math.max(t,0),s)/s:t)*(n-o),x=(r!==0?Math.round(r/l)*l:0)+o,e=Math.max(x,o);return i!==void 0?Number(e.toFixed(i)):e}function B(t,s){return parseFloat(t.toFixed(s))}function Oe(t){if(!t)return 0;const s=t.toString().split(".");return s.length>1?s[1].length:0}var ae={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const $e={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},Ie=Ve((t,{size:s,color:o,thumbSize:n,radius:l})=>({root:{"--slider-size":Re(s,"slider-size"),"--slider-color":o?Te(o,t):void 0,"--slider-radius":l===void 0?void 0:ze(l),"--slider-thumb-size":n!==void 0?De(n):"calc(var(--slider-size) * 2)"}})),O=_e((t,s)=>{const o=ke("Slider",$e,t),{classNames:n,styles:l,value:i,onChange:v,onChangeEnd:r,size:x,min:e,max:c,step:d,precision:p,defaultValue:u,name:V,marks:w,label:_,labelTransitionProps:M,labelAlwaysOn:g,thumbLabel:R,showLabelOnHover:f,thumbChildren:z,disabled:b,unstyled:N,scale:oe,inverted:ce,className:le,style:ie,vars:ue,hiddenInputProps:de,...fe}=o,me=we({name:"Slider",props:o,classes:ae,classNames:n,className:le,styles:l,style:ie,vars:ue,varsResolver:Ie,unstyled:N}),{dir:H}=Me(),[ve,$]=m.useState(!1),[j,k]=ge({value:typeof i=="number"?E(i,e,c):i,defaultValue:typeof u=="number"?E(u,e,c):u,finalValue:E(0,e,c),onChange:v}),I=m.useRef(j),X=m.useRef(),L=m.useRef(),Y=se({value:j,min:e,max:c}),P=oe(j),xe=typeof _=="function"?_(P):_,T=p??Oe(d),be=m.useCallback(({x:h})=>{if(!b){const D=He({value:h,min:e,max:c,step:d,precision:T});k(D),I.current=D}},[b,e,c,d,T,k]),{ref:pe,active:he}=Be(be,{onScrubEnd:()=>r==null?void 0:r(I.current)},H),ye=h=>{var D,q,G,K,U,W;if(!b)switch(h.key){case"ArrowUp":{h.preventDefault(),(D=L.current)==null||D.focus();const y=B(Math.min(Math.max(j+d,e),c),T);k(y),r==null||r(y);break}case"ArrowRight":{h.preventDefault(),(q=L.current)==null||q.focus();const y=B(Math.min(Math.max(H==="rtl"?j-d:j+d,e),c),T);k(y),r==null||r(y);break}case"ArrowDown":{h.preventDefault(),(G=L.current)==null||G.focus();const y=B(Math.min(Math.max(j-d,e),c),T);k(y),r==null||r(y);break}case"ArrowLeft":{h.preventDefault(),(K=L.current)==null||K.focus();const y=B(Math.min(Math.max(H==="rtl"?j+d:j-d,e),c),T);k(y),r==null||r(y);break}case"Home":{h.preventDefault(),(U=L.current)==null||U.focus(),k(e),r==null||r(e);break}case"End":{h.preventDefault(),(W=L.current)==null||W.focus(),k(c),r==null||r(c);break}}};return a.jsx(Fe,{value:{getStyles:me},children:a.jsxs(ee,{...fe,ref:Le(s,X),onKeyDownCapture:ye,onMouseDownCapture:()=>{var h;return(h=X.current)==null?void 0:h.focus()},size:x,disabled:b,children:[a.jsx(ne,{inverted:ce,offset:0,filled:Y,marks:w,min:e,max:c,value:P,disabled:b,containerProps:{ref:pe,onMouseEnter:f?()=>$(!0):void 0,onMouseLeave:f?()=>$(!1):void 0},children:a.jsx(te,{max:c,min:e,value:P,position:Y,dragging:he,label:xe,ref:L,labelTransitionProps:M,labelAlwaysOn:g,thumbLabel:R,showLabelOnHover:f,isHovered:ve,disabled:b,children:z})}),a.jsx("input",{type:"hidden",name:V,value:P,...de})]})})});O.classes=ae;O.displayName="@mantine/core/Slider";const Xe="_container_yr5ip_1",Ye="_box_yr5ip_19",qe="_divider_yr5ip_41",Ge="_inputBox_yr5ip_63",F={container:Xe,box:Ye,divider:qe,inputBox:Ge};function Ke(t,s,o){const n=Math.min(Math.max(t,s),o),l=o-s,v=(n-s)/l*100;return Math.round(v)}const We=({data:t,show:s})=>{const[o,n]=m.useState(Ee()),[l,i]=m.useState(t.inputs),v=(e,c)=>{const d=l==null?void 0:l.map(p=>p.key===e?{...p,value:c,valueLabel:Ke(c,p.min,p.max)}:p);i(d)},r=()=>{i(e=>{if(!e)return[];const c=e.every(u=>u.value===u.max),d=e.map(u=>({...u,value:c?u.min:u.value!==void 0?u.value:u.min})),p=d.map(u=>({key:u.key,value:u.value!==void 0?u.value:u.min}));return Z("av_drugs","results",p),s(!1),d})},x=()=>{Z("av_drugs","results",!1),s(!1)};return m.useEffect(()=>{var c;const e=(c=t==null?void 0:t.inputs)==null?void 0:c.map(d=>({...d,value:d.min?d.min:0}));i(e),n(!0)},[]),o?a.jsx(S,{className:F.container,children:a.jsxs(S,{className:F.box,p:"md",children:[a.jsx(Pe,{order:1,children:t.title}),a.jsx(A,{fz:"xs",c:"dimmed",mt:3,children:t.description}),a.jsx(S,{className:F.divider}),a.jsx(Ae,{mt:"sm",mah:"50vh",style:{overflowY:"auto",overflowX:"hidden"},children:l==null?void 0:l.map(e=>a.jsxs(S,{className:F.inputBox,children:[a.jsxs(J,{justify:"space-between",children:[a.jsx(A,{fw:500,fz:"sm",children:e.label}),a.jsxs(A,{fw:500,fz:"xs",children:[e.valueLabel?e.valueLabel:0,"%"]})]}),a.jsx(A,{c:"dimmed",fz:"xs",children:e.description}),a.jsx(O,{mt:"xs",showLabelOnHover:!1,defaultValue:e.min,label:null,min:e.min,max:e.max,size:"xs",color:e.color?e.color:"cyan.2",onChange:c=>{v(e.key,c)},step:1})]},e.key))}),a.jsxs(J,{mt:"sm",w:"100%",children:[a.jsx(Q,{ml:"auto",size:"xs",variant:"transparent",color:"red",onClick:x,children:"Cancel"}),a.jsx(Q,{size:"xs",color:"cyan.9",radius:4,onClick:r,children:"Start Cooking"})]})]})}):a.jsx(Ne,{})};export{We as default};
