var e,t=Object.defineProperty,n=(e,n,r)=>((e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r)(e,"symbol"!=typeof n?n+"":n,r);try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="10a58562-32eb-40e7-918b-fcd8f9483f4c",e._sentryDebugIdIdentifier="sentry-dbid-10a58562-32eb-40e7-918b-fcd8f9483f4c")}catch(gG){}function r(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"fb5fd0e007855e29962f2ffc58f02b6c43467df5"};function i(){}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(i.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var o,a,s,l,c,u,d,h,p,f,m,g,v=100,y=1e3,b=1001,x=1002,w=1003,_=1004,S=1005,E=1006,k=1008,M=1009,C=1012,T=1015,L=1016,A=1020,O=1022,P=1023,R=1026,I=1027,N=2300,j=2301,z=2302,D=2400,B=2401,F=2402,$=3e3,H={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*H.DEG2RAD},radToDeg:function(e){return e*H.RAD2DEG},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function U(e,t){this.x=e||0,this.y=t||0}function V(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function G(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function W(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function q(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(U.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(U.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(o=new U,a=new U,function(e,t){return o.set(e,e),a.set(t,t),this.clamp(o,a)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(V.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new V).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(f=new W,function(e){var t=this.elements,n=e.elements,r=1/f.setFromMatrixColumn(e,0).length(),i=1/f.setFromMatrixColumn(e,1).length(),o=1/f.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var d=o*c,h=o*u,p=a*c,f=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=h+p*l,t[5]=d-f*l,t[9]=-a*s,t[2]=f-d*l,t[6]=p+h*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*u,v=l*c,y=l*u;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*c,g=s*u,v=l*c,y=l*u;t[0]=m-y*a,t[4]=-o*u,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){d=o*c,h=o*u,p=a*c,f=a*u;t[0]=s*c,t[4]=p*l-h,t[8]=d*l+f,t[1]=s*u,t[5]=f*l+d,t[9]=h*l-p,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,x=o*l,w=a*s,_=a*l;t[0]=s*c,t[4]=_-b*u,t[8]=w*u+x,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=x*u+w,t[10]=b-_*u}else if("XZY"===e.order){b=o*s,x=o*l,w=a*s,_=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=b*u+_,t[5]=o*c,t[9]=x*u-w,t[2]=w*u-x,t[6]=a*c,t[10]=_*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(h=new W(0,0,0),p=new W(1,1,1),function(e){return this.compose(h,e,p)}),lookAt:(c=new W,u=new W,d=new W,function(e,t,n){var r=this.elements;return d.subVectors(e,t),0===d.lengthSq()&&(d.z=1),d.normalize(),c.crossVectors(n,d),0===c.lengthSq()&&(1===Math.abs(n.z)?d.x+=1e-4:d.z+=1e-4,d.normalize(),c.crossVectors(n,d)),c.normalize(),u.crossVectors(d,c),r[0]=c.x,r[4]=u.x,r[8]=d.x,r[1]=c.y,r[5]=u.y,r[9]=d.y,r[2]=c.z,r[6]=u.z,r[10]=d.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],S=r[8],E=r[12],k=r[1],M=r[5],C=r[9],T=r[13],L=r[2],A=r[6],O=r[10],P=r[14],R=r[3],I=r[7],N=r[11],j=r[15];return i[0]=o*w+a*k+s*L+l*R,i[4]=o*_+a*M+s*A+l*I,i[8]=o*S+a*C+s*O+l*N,i[12]=o*E+a*T+s*P+l*j,i[1]=c*w+u*k+d*L+h*R,i[5]=c*_+u*M+d*A+h*I,i[9]=c*S+u*C+d*O+h*N,i[13]=c*E+u*T+d*P+h*j,i[2]=p*w+f*k+m*L+g*R,i[6]=p*_+f*M+m*A+g*I,i[10]=p*S+f*C+m*O+g*N,i[14]=p*E+f*T+m*P+g*j,i[3]=v*w+y*k+b*L+x*R,i[7]=v*_+y*M+b*A+x*I,i[11]=v*S+y*C+b*O+x*N,i[15]=v*E+y*T+b*P+x*j,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new W;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*a*d+n*l*d+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*o*d-r*o*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*d+r*o*u-n*o*d+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],p=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=p*y*d-v*f*d+v*u*m-c*y*m-p*u*b+c*f*b,w=g*f*d-h*y*d-g*u*m+l*y*m+h*u*b-l*f*b,_=h*v*d-g*p*d+g*c*m-l*v*m-h*c*b+l*p*b,S=g*p*u-h*v*u-g*c*f+l*v*f+h*c*y-l*p*y,E=i*x+o*w+a*_+s*S;if(0===E){var k="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(k);return console.warn(k),this.identity()}var M=1/E;return n[0]=x*M,n[1]=(v*f*s-p*y*s-v*a*m+o*y*m+p*a*b-o*f*b)*M,n[2]=(c*y*s-v*u*s+v*a*d-o*y*d-c*a*b+o*u*b)*M,n[3]=(p*u*s-c*f*s-p*a*d+o*f*d+c*a*m-o*u*m)*M,n[4]=w*M,n[5]=(h*y*s-g*f*s+g*a*m-i*y*m-h*a*b+i*f*b)*M,n[6]=(g*u*s-l*y*s-g*a*d+i*y*d+l*a*b-i*u*b)*M,n[7]=(l*f*s-h*u*s+h*a*d-i*f*d-l*a*m+i*u*m)*M,n[8]=_*M,n[9]=(g*p*s-h*v*s-g*o*m+i*v*m+h*o*b-i*p*b)*M,n[10]=(l*v*s-g*c*s+g*o*d-i*v*d-l*o*b+i*c*b)*M,n[11]=(h*c*s-l*p*s-h*o*d+i*p*d+l*o*m-i*c*m)*M,n[12]=S*M,n[13]=(h*v*a-g*p*a+g*o*f-i*v*f-h*o*y+i*p*y)*M,n[14]=(g*c*a-l*v*a-g*o*u+i*v*u+l*o*y-i*c*y)*M,n[15]=(l*p*a-h*c*a+h*o*u-i*p*u-l*o*f+i*c*f)*M,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,p=i*u,f=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,x=n.x,w=n.y,_=n.z;return r[0]=(1-(f+g))*x,r[1]=(h+b)*x,r[2]=(p-y)*x,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(d+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(p+y)*_,r[9]=(m-v)*_,r[10]=(1-(d+f))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:(s=new W,l=new V,function(e,t,n){var r=this.elements,i=s.set(r[0],r[1],r[2]).length(),o=s.set(r[4],r[5],r[6]).length(),a=s.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],l.copy(this);var c=1/i,u=1/o,d=1/a;return l.elements[0]*=c,l.elements[1]*=c,l.elements[2]*=c,l.elements[4]*=u,l.elements[5]*=u,l.elements[6]*=u,l.elements[8]*=d,l.elements[9]*=d,l.elements[10]*=d,t.setFromRotationMatrix(l),n.x=i,n.y=o,n.z=a,this}),makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(o-i),u=(t+e)*s,d=(n+r)*l,h=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(G,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],d=i[o+0],h=i[o+1],p=i[o+2],f=i[o+3];if(u!==f||s!==d||l!==h||c!==p){var m=1-a,g=s*d+l*h+c*p+u*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var w=a*v;if(s=s*m+d*w,l=l*m+h*w,c=c*m+p*w,u=u*m+f*w,m===1-a){var _=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=_,l*=_,c*=_,u*=_}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}}),Object.defineProperties(G.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(G.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),d=s(n/2),h=s(r/2),p=s(i/2);return"XYZ"===o?(this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p):"YXZ"===o?(this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p):"ZXY"===o?(this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p):"ZYX"===o?(this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p):"YZX"===o?(this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p):"XZY"===o&&(this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=r+s+d;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(u-l)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>d?(t=2*Math.sqrt(1+r-s-d),this._w=(u-l)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>d?(t=2*Math.sqrt(1+s-r-d),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(l+u)/t):(t=2*Math.sqrt(1+d-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(l+u)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new W;return function(n,r){return void 0===t&&(t=new W),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(H.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize()}var c=Math.sqrt(s),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(W.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:(m=new G,function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(m.setFromEuler(e))}),applyAxisAngle:function(){var e=new G;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,c=s*n+a*t-i*r,u=s*r+i*n-o*t,d=-i*t-o*n-a*r;return this.x=l*s+d*-i+c*-a-u*-o,this.y=c*s+d*-o+u*-i-l*-a,this.z=u*s+d*-a+l*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new V;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new W,t=new W;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new W;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new W;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(H.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(q.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,l){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new W;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],w=r[5],_=r[8];return i[0]=o*f+a*v+s*x,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*_,i[1]=l*f+c*v+u*x,i[4]=l*m+c*y+u*w,i[7]=l*g+c*b+u*_,i[2]=d*f+h*v+p*x,i[5]=d*m+h*y+p*w,i[8]=d*g+h*b+p*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],h=n[8],p=h*l-c*d,f=c*u-h*s,m=d*s-l*u,g=i*p+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=p*y,r[1]=(a*d-h*o)*y,r[2]=(c*o-a*l)*y,r[3]=f*y,r[4]=(h*i-a*u)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*u-d*i)*y,r[8]=(l*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*l,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*l,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var X,Y,J,K,Z,Q={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===g&&(g=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),g.width=e.width,g.height=e.height;var n=g.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=g}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},ee=0;function te(e,t,n,r,i,o,a,s,l,c){Object.defineProperty(this,"id",{value:ee++}),this.uuid=H.generateUUID(),this.name="",this.image=void 0!==e?e:te.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:te.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:b,this.wrapT=void 0!==r?r:b,this.magFilter=void 0!==i?i:E,this.minFilter=void 0!==o?o:k,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:P,this.type=void 0!==s?s:M,this.offset=new U(0,0),this.repeat=new U(1,1),this.center=new U(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new q,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:$,this.version=0,this.onUpdate=null}function ne(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function re(e,t,n){this.width=e,this.height=t,this.scissor=new ne(0,0,e,t),this.scissorTest=!1,this.viewport=new ne(0,0,e,t),n=n||{},this.texture=new te(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:E,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function ie(e,t,n){re.call(this,e,t,n),this.samples=4}function oe(e,t,n){re.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function ae(e,t,n,r,i,o,a,s,l,c,u,d){te.call(this,null,o,a,s,l,c,r,i,u,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==l?l:w,this.minFilter=void 0!==c?c:w,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function se(e,t){this.min=void 0!==e?e:new W(1/0,1/0,1/0),this.max=void 0!==t?t:new W(-1/0,-1/0,-1/0)}function le(e,t){this.center=void 0!==e?e:new W,this.radius=void 0!==t?t:0}function ce(e,t){this.normal=void 0!==e?e:new W(1,0,0),this.constant=void 0!==t?t:0}function ue(e,t,n,r,i,o){this.planes=[void 0!==e?e:new ce,void 0!==t?t:new ce,void 0!==n?n:new ce,void 0!==r?r:new ce,void 0!==i?i:new ce,void 0!==o?o:new ce]}te.DEFAULT_IMAGE=void 0,te.DEFAULT_MAPPING=300,te.prototype=Object.assign(Object.create(i.prototype),{constructor:te,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=H.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(Q.getDataURL(r[o]))}else i=Q.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case y:e.x=e.x-Math.floor(e.x);break;case b:e.x=e.x<0?0:1;break;case x:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case y:e.y=e.y-Math.floor(e.y);break;case b:e.y=e.y<0?0:1;break;case x:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(te.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ne.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var v=(l+1)/2,y=(h+1)/2,b=(g+1)/2,x=(c+d)/4,w=(u+f)/4,_=(p+m)/4;return v>y&&v>b?v<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(v)),i=w/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=_/r):b<o?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(b)),r=_/i),this.set(n,r,i,t),this}var S=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(S)<.001&&(S=1),this.x=(m-p)/S,this.y=(u-f)/S,this.z=(d-c)/S,this.w=Math.acos((l+h+g-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new ne,t=new ne),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),re.prototype=Object.assign(Object.create(i.prototype),{constructor:re,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ie.prototype=Object.assign(Object.create(re.prototype),{constructor:ie,isWebGLMultisampleRenderTarget:!0,copy:function(e){return re.prototype.copy.call(this,e),this.samples=e.samples,this}}),oe.prototype=Object.create(re.prototype),oe.prototype.constructor=oe,oe.prototype.isWebGLRenderTargetCube=!0,ae.prototype=Object.create(te.prototype),ae.prototype.constructor=ae,ae.prototype.isDataTexture=!0,Object.assign(se.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>i&&(i=c),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>i&&(i=c),u>o&&(o=u),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new W;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new W),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new W),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new W;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(t=0,n=a.length;t<n;t++)r.copy(a[t]),r.applyMatrix4(i.matrixWorld),e.expandByPoint(r)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)r.fromBufferAttribute(s,t).applyMatrix4(i.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new W),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(Y=new W,function(e){return this.clampPoint(e.center,Y),Y.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new W,t=new W,n=new W,r=new W,i=new W,o=new W,a=new W,s=new W,l=new W,c=new W;function u(r){var i,o;for(i=0,o=r.length-3;i<=o;i+=3){a.fromArray(r,i);var s=l.x*Math.abs(a.x)+l.y*Math.abs(a.y)+l.z*Math.abs(a.z),c=e.dot(a),u=t.dot(a),d=n.dot(a);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),l.subVectors(this.max,s),e.subVectors(a.a,s),t.subVectors(a.b,s),n.subVectors(a.c,s),r.subVectors(t,e),i.subVectors(n,t),o.subVectors(e,n);var d=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!u(d)&&(!!u(d=[1,0,0,0,1,0,0,0,1])&&(c.crossVectors(r,i),u(d=[c.x,c.y,c.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new W),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new W;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new W;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new le),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(X=[new W,new W,new W,new W,new W,new W,new W,new W],function(e){return this.isEmpty()||(X[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),X[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),X[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),X[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),X[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),X[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),X[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),X[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(X)),this}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(le.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(J=new se,function(e,t){var n=this.center;void 0!==t?n.copy(t):J.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new W),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new se),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(ce.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new W,t=new W;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new W),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new W;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new W);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:n.copy(r).multiplyScalar(o).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new W),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new W,t=new q;return function(n,r){var i=r||t.getNormalMatrix(n),o=this.coplanarPoint(e).applyMatrix4(n),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ue.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,u-s,f-d,y-m).normalize(),t[1].setComponents(a+r,u+s,f+d,y+m).normalize(),t[2].setComponents(a+i,u+l,f+h,y+g).normalize(),t[3].setComponents(a-i,u-l,f-h,y-g).normalize(),t[4].setComponents(a-o,u-c,f-p,y-v).normalize(),t[5].setComponents(a+o,u+c,f+p,y+v).normalize(),this},intersectsObject:(Z=new le,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Z.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Z)}),intersectsSprite:function(){var e=new le;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(K=new W,function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(K.x=r.normal.x>0?e.max.x:e.min.x,K.y=r.normal.y>0?e.max.y:e.min.y,K.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(K)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var de={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function he(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function pe(e){for(var t={},n=0;n<e.length;n++){var r=he(e[n]);for(var i in r)t[i]=r[i]}return t}var fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function me(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(me.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=H.euclideanModulo(t,1),n=H.clamp(n,0,1),r=H.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,u=(c=n[1]).length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(c=fe[e])?this.setHex(c):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),l=(s+a)/2;if(s===a)t=0,n=0;else{var c=a-s;switch(n=l<=.5?c/(a+s):c/(2-a-s),a){case r:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-r)/c+2;break;case o:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t);var i=H.lerp(e.h,t.h,r),o=H.lerp(e.s,t.s,r),a=H.lerp(e.l,t.l,r);return this.setHSL(i,o,a),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var ge,ve={common:{diffuse:{value:new me(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new q},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new U(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new me(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new me(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new q}},sprite:{diffuse:{value:new me(15658734)},opacity:{value:1},center:{value:new U(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new q}}},ye={basic:{uniforms:pe([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.fog]),vertexShader:de.meshbasic_vert,fragmentShader:de.meshbasic_frag},lambert:{uniforms:pe([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.fog,ve.lights,{emissive:{value:new me(0)}}]),vertexShader:de.meshlambert_vert,fragmentShader:de.meshlambert_frag},phong:{uniforms:pe([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.gradientmap,ve.fog,ve.lights,{emissive:{value:new me(0)},specular:{value:new me(1118481)},shininess:{value:30}}]),vertexShader:de.meshphong_vert,fragmentShader:de.meshphong_frag},standard:{uniforms:pe([ve.common,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.roughnessmap,ve.metalnessmap,ve.fog,ve.lights,{emissive:{value:new me(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:de.meshphysical_vert,fragmentShader:de.meshphysical_frag},matcap:{uniforms:pe([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,{matcap:{value:null}}]),vertexShader:de.meshmatcap_vert,fragmentShader:de.meshmatcap_frag},points:{uniforms:pe([ve.points,ve.fog]),vertexShader:de.points_vert,fragmentShader:de.points_frag},dashed:{uniforms:pe([ve.common,ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:de.linedashed_vert,fragmentShader:de.linedashed_frag},depth:{uniforms:pe([ve.common,ve.displacementmap]),vertexShader:de.depth_vert,fragmentShader:de.depth_frag},normal:{uniforms:pe([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,{opacity:{value:1}}]),vertexShader:de.normal_vert,fragmentShader:de.normal_frag},sprite:{uniforms:pe([ve.sprite,ve.fog]),vertexShader:de.sprite_vert,fragmentShader:de.sprite_frag},background:{uniforms:{uvTransform:{value:new q},t2D:{value:null}},vertexShader:de.background_vert,fragmentShader:de.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:de.cube_vert,fragmentShader:de.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:de.equirect_vert,fragmentShader:de.equirect_frag},distanceRGBA:{uniforms:pe([ve.common,ve.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:de.distanceRGBA_vert,fragmentShader:de.distanceRGBA_frag},shadow:{uniforms:pe([ve.lights,ve.fog,{color:{value:new me(0)},opacity:{value:1}}]),vertexShader:de.shadow_vert,fragmentShader:de.shadow_frag}};function be(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function xe(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function we(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new W,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new me,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function _e(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||_e.DefaultOrder}function Se(){this.mask=1}ye.physical={uniforms:pe([ye.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:de.meshphysical_vert,fragmentShader:de.meshphysical_frag},Object.assign(we.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),_e.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],_e.DefaultOrder="XYZ",Object.defineProperties(_e.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(_e.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=H.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],d=i[2],h=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===t?(this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new V;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(ge=new G,function(e){return ge.setFromEuler(this),this.setFromQuaternion(ge,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new W(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Se.prototype,{set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return!!(this.mask&e.mask)}});var Ee,ke,Me,Ce,Te=0;function Le(){Object.defineProperty(this,"id",{value:Te++}),this.uuid=H.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Le.DefaultUp.clone();var e=new W,t=new _e,n=new G,r=new W(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new V},normalMatrix:{value:new q}}),this.matrix=new V,this.matrixWorld=new V,this.matrixAutoUpdate=Le.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Se,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Le.DefaultUp=new W(0,1,0),Le.DefaultMatrixAutoUpdate=!0,Le.prototype=Object.assign(Object.create(i.prototype),{constructor:Le,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(Ce=new G,function(e,t){return Ce.setFromAxisAngle(e,t),this.quaternion.multiply(Ce),this}),rotateOnWorldAxis:function(){var e=new G;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new W(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new W(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new W(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new W;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new W(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new W(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new W(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Me=new V,function(e){return e.applyMatrix4(Me.getInverse(this.matrixWorld))}),lookAt:function(){var e=new G,t=new V,n=new W,r=new W;return function(i,o,a){i.isVector3?n.copy(i):n.set(i,o,a);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new W),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Ee=new W,ke=new W,function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new G),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ee,e,ke),e}),getWorldScale:function(){var e=new W,t=new G;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new W),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new W),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var c=a[s];i(e.shapes,c)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,l=this.material.length;s<l;s++)u.push(i(e.materials,this.material[s]));r.material=u}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var d=m(e.geometries),h=m(e.materials),p=m(e.textures),f=m(e.images);a=m(e.shapes);d.length>0&&(n.geometries=d),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),f.length>0&&(n.images=f),a.length>0&&(n.shapes=a)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var Ae,Oe,Pe=0;function Re(){Object.defineProperty(this,"id",{value:Pe+=2}),this.uuid=H.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ie(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ne(e,t,n){Ie.call(this,new Int8Array(e),t,n)}function je(e,t,n){Ie.call(this,new Uint8Array(e),t,n)}function ze(e,t,n){Ie.call(this,new Uint8ClampedArray(e),t,n)}function De(e,t,n){Ie.call(this,new Int16Array(e),t,n)}function Be(e,t,n){Ie.call(this,new Uint16Array(e),t,n)}function Fe(e,t,n){Ie.call(this,new Int32Array(e),t,n)}function $e(e,t,n){Ie.call(this,new Uint32Array(e),t,n)}function He(e,t,n){Ie.call(this,new Float32Array(e),t,n)}function Ue(e,t,n){Ie.call(this,new Float64Array(e),t,n)}function Ve(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ge(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Re.prototype=Object.assign(Object.create(i.prototype),{constructor:Re,isGeometry:!0,applyMatrix:function(e){for(var t=(new q).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new V;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new V;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new V;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new V;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new V;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:(Oe=new Le,function(e){Oe.lookAt(e),Oe.updateMatrix(),this.applyMatrix(Oe.matrix)}),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,l=void 0!==r.uv2?r.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0,u=0;c<i.length;c+=3,u+=2)t.vertices.push((new W).fromArray(i,c)),void 0!==a&&t.colors.push((new me).fromArray(a,c));function d(e,n,r,i){var c=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=new we(e,n,r,void 0===o?[]:[(new W).fromArray(o,3*e),(new W).fromArray(o,3*n),(new W).fromArray(o,3*r)],c,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new U).fromArray(s,2*e),(new U).fromArray(s,2*n),(new U).fromArray(s,2*r)]),void 0!==l&&t.faceVertexUvs[1].push([(new U).fromArray(l,2*e),(new U).fromArray(l,2*n),(new U).fromArray(l,2*r)])}var h=e.groups;if(h.length>0)for(c=0;c<h.length;c++)for(var p=h[c],f=p.start,m=(u=f,f+p.count);u<m;u+=3)void 0!==n?d(n[u],n[u+1],n[u+2],p.materialIndex):d(u,u+1,u+2,p.materialIndex);else if(void 0!==n)for(c=0;c<n.length;c+=3)d(n[c],n[c+1],n[c+2]);else for(c=0;c<i.length/3;c+=3)d(c,c+1,c+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(Ae=new W,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ae).negate(),this.translate(Ae.x,Ae.y,Ae.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new V;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new W,t=new W,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new W;if(e){var s,l,c,u=new W,d=new W;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],u.subVectors(c,l),d.subVectors(s,l),u.cross(d),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(o=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(a[o.a]),h[1].copy(a[o.b]),h[2].copy(a[o.c])):(h[0]=a[o.a].clone(),h[1]=a[o.b].clone(),h[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new Re;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)l=new W,c={a:new W,b:new W,c:new W},a.push(l),s.push(c)}var l,c,u=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],l=u.faceNormals[n],c=u.vertexNormals[n],l.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new se),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new le),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.faceVertexUvs[0],u=e.faceVertexUvs[0],d=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new q).getNormalMatrix(t));for(var p=0,f=a.length;p<f;p++){var m=a[p].clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(p=0,f=h.length;p<f;p++)d.push(h[p].clone());for(p=0,f=l.length;p<f;p++){var g,v,y,b=l[p],x=b.vertexNormals,w=b.vertexColors;(g=new we(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var _=0,S=x.length;_<S;_++)v=x[_].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(b.color);for(_=0,S=w.length;_<S;_++)y=w[_],g.vertexColors.push(y.clone());g.materialIndex=b.materialIndex+n,s.push(g)}for(p=0,f=u.length;p<f;p++){var E=u[p],k=[];if(void 0!==E){for(_=0,S=E.length;_<S;_++)k.push(E[_].clone());c.push(k)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,l={},c=[],u=[],d=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===l[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(l[t]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var f=h[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new W(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],l={},c=[],u={},d=[],h={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,g=p.vertexNormals.length>0,v=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=S(b,0,0),b=S(b,1,!0),b=S(b,2,!1),b=S(b,3,f),b=S(b,4,m),b=S(b,5,g),b=S(b,6,v),b=S(b,7,y),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),f){var x=this.faceVertexUvs[0][i];a.push(M(x[0]),M(x[1]),M(x[2]))}if(m&&a.push(E(p.normal)),g){var w=p.vertexNormals;a.push(E(w[0]),E(w[1]),E(w[2]))}if(v&&a.push(k(p.color)),y){var _=p.vertexColors;a.push(k(_[0]),k(_[1]),k(_[2]))}}function S(e,t,n){return n?e|1<<t:e&~(1<<t)}function E(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=s.length/3,s.push(e.x,e.y,e.z)),l[t]}function k(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]||(u[t]=c.length,c.push(e.getHex())),u[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=d.length/2,d.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),d.length>0&&(e.data.uvs=[d]),e.data.faces=a,e},clone:function(){return(new Re).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var l=e.colors;for(t=0,n=l.length;t<n;t++)this.colors.push(l[t].clone());var c=e.faces;for(t=0,n=c.length;t<n;t++)this.faces.push(c[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=u.length;r<i;r++){var d=u[r],h=[];for(o=0,a=d.length;o<a;o++){var p=d[o];h.push(p.clone())}this.faceVertexUvs[t].push(h)}}var f=e.morphTargets;for(t=0,n=f.length;t<n;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],r=0,i=f[t].vertices.length;r<i;r++)m.vertices.push(f[t].vertices[r].clone());if(void 0!==f[t].normals)for(m.normals=[],r=0,i=f[t].normals.length;r<i;r++)m.normals.push(f[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var S=e.boundingBox;null!==S&&(this.boundingBox=S.clone());var E=e.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ie.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ie.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new me),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new U),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new W),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new ne),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Ne.prototype=Object.create(Ie.prototype),Ne.prototype.constructor=Ne,je.prototype=Object.create(Ie.prototype),je.prototype.constructor=je,ze.prototype=Object.create(Ie.prototype),ze.prototype.constructor=ze,De.prototype=Object.create(Ie.prototype),De.prototype.constructor=De,Be.prototype=Object.create(Ie.prototype),Be.prototype.constructor=Be,Fe.prototype=Object.create(Ie.prototype),Fe.prototype.constructor=Fe,$e.prototype=Object.create(Ie.prototype),$e.prototype.constructor=$e,He.prototype=Object.create(Ie.prototype),He.prototype.constructor=He,Ue.prototype=Object.create(Ie.prototype),Ue.prototype.constructor=Ue,Object.assign(Ve.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var c=0;c<l;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var u,d=e.morphNormals,h=d.length;if(h>0){u=[];for(c=0;c<h;c++)u[c]={name:d[c].name,data:[]};this.morphTargets.normal=u}var p=e.skinIndices,f=e.skinWeights,m=p.length===r.length,g=f.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(c=0;c<n.length;c++){var v=n[c];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var x,w=v.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=v.color;this.colors.push(_,_,_)}if(!0===o)void 0!==(x=i[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new U,new U,new U));if(!0===a)void 0!==(x=i[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new U,new U,new U));for(var S=0;S<l;S++){var E=s[S].vertices;t[S].data.push(E[v.a],E[v.b],E[v.c])}for(S=0;S<h;S++){var k=d[S].vertexNormals[c];u[S].data.push(k.a,k.b,k.c)}m&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var We=1;function qe(){Object.defineProperty(this,"id",{value:We+=2}),this.uuid=H.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Xe(e,t,n,r,i,o){Re.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Ye(e,t,n,r,i,o)),this.mergeVertices()}function Ye(e,t,n,r,i,o){qe.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],l=[],c=[],u=[],d=0,h=0;function p(e,t,n,r,i,o,p,f,m,g,v){var y,b,x=o/m,w=p/g,_=o/2,S=p/2,E=f/2,k=m+1,M=g+1,C=0,T=0,L=new W;for(b=0;b<M;b++){var A=b*w-S;for(y=0;y<k;y++){var O=y*x-_;L[e]=O*r,L[t]=A*i,L[n]=E,l.push(L.x,L.y,L.z),L[e]=0,L[t]=0,L[n]=f>0?1:-1,c.push(L.x,L.y,L.z),u.push(y/m),u.push(1-b/g),C+=1}}for(b=0;b<g;b++)for(y=0;y<m;y++){var P=d+y+k*b,R=d+y+k*(b+1),I=d+(y+1)+k*(b+1),N=d+(y+1)+k*b;s.push(P,R,N),s.push(R,I,N),T+=6}a.addGroup(h,T,v),h+=T,d+=C}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new He(l,3)),this.addAttribute("normal",new He(c,3)),this.addAttribute("uv",new He(u,2))}function Je(e,t,n,r){Re.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Ke(e,t,n,r)),this.mergeVertices()}function Ke(e,t,n,r){qe.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,l=Math.floor(n)||1,c=Math.floor(r)||1,u=l+1,d=c+1,h=e/l,p=t/c,f=[],m=[],g=[],v=[];for(o=0;o<d;o++){var y=o*p-s;for(i=0;i<u;i++){var b=i*h-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/l),v.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<l;i++){var x=i+u*o,w=i+u*(o+1),_=i+1+u*(o+1),S=i+1+u*o;f.push(x,w,S),f.push(w,_,S)}this.setIndex(f),this.addAttribute("position",new He(m,3)),this.addAttribute("normal",new He(g,3)),this.addAttribute("uv",new He(v,2))}qe.prototype=Object.assign(Object.create(i.prototype),{constructor:qe,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Ge(e)>65535?$e:Be)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Ie(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new q).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new V;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new V;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new V;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new V;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new V;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Le;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new W;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new He(3*t.vertices.length,3),r=new He(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new He(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new He(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Ve).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Ie(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Ie(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Ie(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Ie(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Ie(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[a],c=0,u=l.length;c<u;c++){var d=l[c],h=new He(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var p=new He(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new He(4*e.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new se);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new se,t=new W;return function(){null===this.boundingSphere&&(this.boundingSphere=new le);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Ie(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,l,c=t.normal.array,u=new W,d=new W,h=new W,p=new W,f=new W;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],l=3*m[i+2],u.fromArray(n,a),d.fromArray(n,s),h.fromArray(n,l),p.subVectors(h,d),f.subVectors(u,d),p.cross(f),c[a]+=p.x,c[a+1]+=p.y,c[a+2]+=p.z,c[s]+=p.x,c[s+1]+=p.y,c[s+2]+=p.z,c[l]+=p.x,c[l+1]+=p.y,c[l+2]+=p.z}else for(i=0,o=n.length;i<o;i+=9)u.fromArray(n,i),d.fromArray(n,i+3),h.fromArray(n,i+6),p.subVectors(h,d),f.subVectors(u,d),p.cross(f),c[i]=p.x,c[i+1]=p.y,c[i+2]=p.z,c[i+3]=p.x,c[i+4]=p.y,c[i+5]=p.z,c[i+6]=p.x,c[i+7]=p.y,c[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=0,l=o.itemSize*t;s<a.length;s++,l++)i[l]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new W;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),o=0,a=0,s=0,l=t.length;s<l;s++){o=t[s]*r;for(var c=0;c<r;c++)i[a++]=n[o++]}return new Ie(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new qe,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.addAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],l=a[i],c=0,u=l.length;c<u;c++){o=e(l[c],n);s.push(o)}t.morphAttributes[i]=s}for(var d=this.groups,h=(c=0,d.length);c<h;c++){var p=d[c];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new qe).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var l=[],c=s[t];for(n=0,r=c.length;n<r;n++)l.push(c[n].clone());this.morphAttributes[t]=l}var u=e.groups;for(n=0,r=u.length;n<r;n++){var d=u[n];this.addGroup(d.start,d.count,d.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Xe.prototype=Object.create(Re.prototype),Xe.prototype.constructor=Xe,Ye.prototype=Object.create(qe.prototype),Ye.prototype.constructor=Ye,Je.prototype=Object.create(Re.prototype),Je.prototype.constructor=Je,Ke.prototype=Object.create(qe.prototype),Ke.prototype.constructor=Ke;var Ze,Qe,et,tt,nt,rt,it,ot,at,st,lt,ct,ut=0;function dt(){Object.defineProperty(this,"id",{value:ut++}),this.uuid=H.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=v,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function ht(e){dt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function pt(e,t){this.origin=void 0!==e?e:new W,this.direction=void 0!==t?t:new W}function ft(e,t,n){this.a=void 0!==e?e:new W,this.b=void 0!==t?t:new W,this.c=void 0!==n?n:new W}function mt(e){dt.call(this),this.type="MeshBasicMaterial",this.color=new me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function gt(e,t){Le.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new qe,this.material=void 0!==t?t:new mt({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function vt(e,t,n,r){var i,o,a=new me(0),s=0,l=null,c=0;function u(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),u(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(a,s=e)},render:function(t,r,d,h){var p=r.background;if(null===p?(u(a,s),l=null,c=0):p&&p.isColor&&(u(p,1),h=!0,l=null,c=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===o&&((o=new gt(new Ye(1,1,1),new ht({type:"BackgroundCubeMaterial",uniforms:he(ye.cube.uniforms),vertexShader:ye.cube.vertexShader,fragmentShader:ye.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(o));var f=p.isWebGLRenderTargetCube?p.texture:p;o.material.uniforms.tCube.value=f,o.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,l===p&&c===f.version||(o.material.needsUpdate=!0,l=p,c=f.version),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new gt(new Ke(2,2),new ht({type:"BackgroundMaterial",uniforms:he(ye.background.uniforms),vertexShader:ye.background.vertexShader,fragmentShader:ye.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&c===p.version||(i.material.needsUpdate=!0,l=p,c=p.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function yt(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s){var l;if(r.isWebGL2)l=e;else if(null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),n.update(s,i,o.maxInstancedCount)}}function bt(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?e.getParameter(36183):0}}function xt(){var e=this,t=null,n=0,r=!1,i=!1,o=new ce,a=new q,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,r,i){var l=null!==t?t.length:0,c=null;if(0!==l){if(c=s.value,!0!==i||null===c){var u=r+4*l,d=n.matrixWorldInverse;a.getNormalMatrix(d),(null===c||c.length<u)&&(c=new Float32Array(u));for(var h=0,p=r;h!==l;++h,p+=4)o.copy(t[h]).applyMatrix4(d,a),o.normal.toArray(c,p),c[p+3]=o.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=c(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,l()},this.setState=function(e,o,a,u,d,h){if(!r||null===e||0===e.length||i&&!a)i?c(null):l();else{var p=i?0:n,f=4*p,m=d.clippingState||null;s.value=m,m=c(e,u,f,h);for(var g=0;g!==f;++g)m[g]=t[g];d.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function wt(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function _t(e,t,n){var r={},i={};function o(e){var a=e.target,s=r[a.id];for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);a.removeEventListener("dispose",o),delete r[a.id];var c=i[s.id];c&&(t.remove(c),delete i[s.id]),n.memory.geometries--}return{get:function(e,t){var i=r[t.id];return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new qe).setFromObject(e)),i=t._bufferGeometry),r[t.id]=i,n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var n=i[e.id];if(n)return n;var r,o=[],a=e.index,s=e.attributes;if(null!==a)for(var l=0,c=(r=a.array).length;l<c;l+=3){var u=r[l+0],d=r[l+1],h=r[l+2];o.push(u,d,d,h,h,u)}else for(l=0,c=(r=s.position.array).length/3-1;l<c;l+=3){u=l+0,d=l+1,h=l+2;o.push(u,d,d,h,h,u)}return n=new(Ge(o)>65535?$e:Be)(o,1),t.update(n,34963),i[e.id]=n,n}}}function St(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,l,c){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,c,o,l*a,s.maxInstancedCount),n.update(c,i,s.maxInstancedCount)}}function Et(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function kt(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Mt(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,l=s.length,c=t[i.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];t[i.id]=c}var d=o.morphTargets&&i.morphAttributes.position,h=o.morphNormals&&i.morphAttributes.normal;for(u=0;u<l;u++){0!==(p=c[u])[1]&&(d&&i.removeAttribute("morphTarget"+u),h&&i.removeAttribute("morphNormal"+u))}for(u=0;u<l;u++){(p=c[u])[0]=u,p[1]=s[u]}for(c.sort(kt),u=0;u<8;u++){var p;if(p=c[u]){var f=p[0],m=p[1];if(m){d&&i.addAttribute("morphTarget"+u,d[f]),h&&i.addAttribute("morphNormal"+u,h[f]),n[u]=m;continue}}n[u]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Ct(e,t){var n={};return{update:function(r){var i=t.render.frame,o=r.geometry,a=e.get(r,o);return n[a.id]!==i&&(o.isGeometry&&a.updateFromObject(r),e.update(a),n[a.id]=i),a},dispose:function(){n={}}}}function Tt(e,t,n,r,i,o,a,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:301,te.call(this,e,t,n,r,i,o,a,s,l,c),this.flipY=!1}function Lt(e,t,n,r){te.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=w,this.minFilter=w,this.generateMipmaps=!1,this.flipY=!1}dt.prototype=Object.assign(Object.create(i.prototype),{constructor:dt,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ht.prototype=Object.create(dt.prototype),ht.prototype.constructor=ht,ht.prototype.isShaderMaterial=!0,ht.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=he(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},ht.prototype.toJSON=function(e){var t=dt.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Object.assign(pt.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new W),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new W;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new W),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new W;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(Qe=new W,et=new W,tt=new W,function(e,t,n,r){Qe.copy(e).add(t).multiplyScalar(.5),et.copy(t).sub(e).normalize(),tt.copy(this.origin).sub(Qe);var i,o,a,s,l=.5*e.distanceTo(t),c=-this.direction.dot(et),u=tt.dot(this.direction),d=-tt.dot(et),h=tt.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(o=c*u-d,s=l*p,(i=c*d-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(i*=f)*(i+c*(o*=f)+2*u)+o*(c*i+o+2*d)+h}else o=l,a=-(i=Math.max(0,-(c*o+u)))*i+o*(o+2*d)+h;else o=-l,a=-(i=Math.max(0,-(c*o+u)))*i+o*(o+2*d)+h;else o<=-s?a=-(i=Math.max(0,-(-c*l+u)))*i+(o=i>0?-l:Math.min(Math.max(-l,-d),l))*(o+2*d)+h:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-d),l))*(o+2*d)+h):a=-(i=Math.max(0,-(c*l+u)))*i+(o=i>0?l:Math.min(Math.max(-l,-d),l))*(o+2*d)+h;else o=c>0?-l:l,a=-(i=Math.max(0,-(c*o+u)))*i+o*(o+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(et).multiplyScalar(o).add(Qe),a}),intersectSphere:function(){var e=new W;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,l=r+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:(Ze=new W,function(e){return null!==this.intersectBox(e,Ze)}),intersectTriangle:function(){var e=new W,t=new W,n=new W,r=new W;return function(i,o,a,s,l){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,u=this.direction.dot(r);if(u>0){if(s)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}e.subVectors(this.origin,i);var d=c*this.direction.dot(n.crossVectors(e,n));if(d<0)return null;var h=c*this.direction.dot(t.cross(e));if(h<0)return null;if(d+h>u)return null;var p=-c*e.dot(r);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(ft,{getNormal:(rt=new W,function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new W),r.subVectors(n,t),rt.subVectors(e,t),r.cross(rt);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}),getBarycoord:function(){var e=new W,t=new W,n=new W;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var l=e.dot(e),c=e.dot(t),u=e.dot(n),d=t.dot(t),h=t.dot(n),p=l*d-c*c;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new W),0===p)return s.set(-2,-1,-1);var f=1/p,m=(d*u-c*h)*f,g=(l*h-c*u)*f;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var e=new W;return function(t,n,r,i){return ft.getBarycoord(t,n,r,i,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:(nt=new W,function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,nt),s.set(0,0),s.addScaledVector(i,nt.x),s.addScaledVector(o,nt.y),s.addScaledVector(a,nt.z),s})}),Object.assign(ft.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new W,t=new W;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new W),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return ft.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new W),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return ft.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return ft.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return ft.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(it=new W,ot=new W,at=new W,st=new W,lt=new W,ct=new W,function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new W);var n,r,i=this.a,o=this.b,a=this.c;it.subVectors(o,i),ot.subVectors(a,i),st.subVectors(e,i);var s=it.dot(st),l=ot.dot(st);if(s<=0&&l<=0)return t.copy(i);lt.subVectors(e,o);var c=it.dot(lt),u=ot.dot(lt);if(c>=0&&u<=c)return t.copy(o);var d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(i).addScaledVector(it,n);ct.subVectors(e,a);var h=it.dot(ct),p=ot.dot(ct);if(p>=0&&h<=p)return t.copy(a);var f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return r=l/(l-p),t.copy(i).addScaledVector(ot,r);var m=c*p-h*u;if(m<=0&&u-c>=0&&h-p>=0)return at.subVectors(a,o),r=(u-c)/(u-c+(h-p)),t.copy(o).addScaledVector(at,r);var g=1/(m+f+d);return n=f*g,r=d*g,t.copy(i).addScaledVector(it,n).addScaledVector(ot,r)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),mt.prototype=Object.create(dt.prototype),mt.prototype.constructor=mt,mt.prototype.isMeshBasicMaterial=!0,mt.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},gt.prototype=Object.assign(Object.create(Le.prototype),{constructor:gt,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Le.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new V,t=new pt,n=new le,r=new W,i=new W,o=new W,a=new W,s=new W,l=new W,c=new U,u=new U,d=new U,h=new W,p=new W;function f(e,t,n,r,i,o,a,s){if(null===(1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s)))return null;p.copy(s),p.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(p);return l<n.near||l>n.far?null:{distance:l,point:p.clone(),object:e}}function m(e,t,n,a,s,l,p,m,g){r.fromBufferAttribute(s,p),i.fromBufferAttribute(s,m),o.fromBufferAttribute(s,g);var v=f(e,t,n,a,r,i,o,h);if(v){l&&(c.fromBufferAttribute(l,p),u.fromBufferAttribute(l,m),d.fromBufferAttribute(l,g),v.uv=ft.getUV(h,r,i,o,c,u,d,new U));var y=new we(p,m,g);ft.getNormal(r,i,o,y.normal),v.face=y}return v}return function(p,g){var v,y=this.geometry,b=this.material,x=this.matrixWorld;if(void 0!==b&&(null===y.boundingSphere&&y.computeBoundingSphere(),n.copy(y.boundingSphere),n.applyMatrix4(x),!1!==p.ray.intersectsSphere(n)&&(e.getInverse(x),t.copy(p.ray).applyMatrix4(e),null===y.boundingBox||!1!==t.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){var w,_,S,E,k,M,C,T,L,A=y.index,O=y.attributes.position,P=y.attributes.uv,R=y.groups,I=y.drawRange;if(null!==A)if(Array.isArray(b))for(E=0,M=R.length;E<M;E++)for(L=b[(T=R[E]).materialIndex],k=Math.max(T.start,I.start),C=Math.min(T.start+T.count,I.start+I.count);k<C;k+=3)w=A.getX(k),_=A.getX(k+1),S=A.getX(k+2),(v=m(this,L,p,t,O,P,w,_,S))&&(v.faceIndex=Math.floor(k/3),g.push(v));else for(E=Math.max(0,I.start),M=Math.min(A.count,I.start+I.count);E<M;E+=3)w=A.getX(E),_=A.getX(E+1),S=A.getX(E+2),(v=m(this,b,p,t,O,P,w,_,S))&&(v.faceIndex=Math.floor(E/3),g.push(v));else if(void 0!==O)if(Array.isArray(b))for(E=0,M=R.length;E<M;E++)for(L=b[(T=R[E]).materialIndex],k=Math.max(T.start,I.start),C=Math.min(T.start+T.count,I.start+I.count);k<C;k+=3)(v=m(this,L,p,t,O,P,w=k,_=k+1,S=k+2))&&(v.faceIndex=Math.floor(k/3),g.push(v));else for(E=Math.max(0,I.start),M=Math.min(O.count,I.start+I.count);E<M;E+=3)(v=m(this,b,p,t,O,P,w=E,_=E+1,S=E+2))&&(v.faceIndex=Math.floor(E/3),g.push(v))}else if(y.isGeometry){var N,j,z,D,B=Array.isArray(b),F=y.vertices,$=y.faces,H=y.faceVertexUvs[0];H.length>0&&(D=H);for(var V=0,G=$.length;V<G;V++){var W=$[V],q=B?b[W.materialIndex]:b;if(void 0!==q){if(N=F[W.a],j=F[W.b],z=F[W.c],!0===q.morphTargets){var X=y.morphTargets,Y=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var J=0,K=X.length;J<K;J++){var Z=Y[J];if(0!==Z){var Q=X[J].vertices;r.addScaledVector(a.subVectors(Q[W.a],N),Z),i.addScaledVector(s.subVectors(Q[W.b],j),Z),o.addScaledVector(l.subVectors(Q[W.c],z),Z)}}r.add(N),i.add(j),o.add(z),N=r,j=i,z=o}if(v=f(this,q,p,t,N,j,z,h)){if(D&&D[V]){var ee=D[V];c.copy(ee[0]),u.copy(ee[1]),d.copy(ee[2]),v.uv=ft.getUV(h,N,j,z,c,u,d,new U)}v.face=W,v.faceIndex=V,g.push(v)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Tt.prototype=Object.create(te.prototype),Tt.prototype.constructor=Tt,Tt.prototype.isCubeTexture=!0,Object.defineProperty(Tt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Lt.prototype=Object.create(te.prototype),Lt.prototype.constructor=Lt,Lt.prototype.isDataTexture3D=!0;var At=new te,Ot=new Lt,Pt=new Tt;function Rt(){this.seq=[],this.map={}}var It=[],Nt=[],jt=new Float32Array(16),zt=new Float32Array(9),Dt=new Float32Array(4);function Bt(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=It[i];if(void 0===o&&(o=new Float32Array(i),It[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Ft(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function $t(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ht(e,t){var n=Nt[t];void 0===n&&(n=new Int32Array(t),Nt[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function Ut(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Vt(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Gt(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ft(n,t))return;e.uniform2fv(this.addr,t),$t(n,t)}}function Wt(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ft(n,t))return;e.uniform3fv(this.addr,t),$t(n,t)}}function qt(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ft(n,t))return;e.uniform4fv(this.addr,t),$t(n,t)}}function Xt(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ft(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),$t(n,t)}else{if(Ft(n,r))return;Dt.set(r),e.uniformMatrix2fv(this.addr,!1,Dt),$t(n,r)}}function Yt(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ft(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),$t(n,t)}else{if(Ft(n,r))return;zt.set(r),e.uniformMatrix3fv(this.addr,!1,zt),$t(n,r)}}function Jt(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Ft(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),$t(n,t)}else{if(Ft(n,r))return;jt.set(r),e.uniformMatrix4fv(this.addr,!1,jt),$t(n,r)}}function Kt(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||At,i)}function Zt(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ot,i)}function Qt(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Pt,i)}function en(e,t){var n=this.cache;Ft(n,t)||(e.uniform2iv(this.addr,t),$t(n,t))}function tn(e,t){var n=this.cache;Ft(n,t)||(e.uniform3iv(this.addr,t),$t(n,t))}function nn(e,t){var n=this.cache;Ft(n,t)||(e.uniform4iv(this.addr,t),$t(n,t))}function rn(e,t){var n=this.cache;Ft(n,t)||(e.uniform1fv(this.addr,t),$t(n,t))}function on(e,t){var n=this.cache;Ft(n,t)||(e.uniform1iv(this.addr,t),$t(n,t))}function an(e,t){var n=this.cache,r=Bt(t,this.size,2);Ft(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function sn(e,t){var n=this.cache,r=Bt(t,this.size,3);Ft(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function ln(e,t){var n=this.cache,r=Bt(t,this.size,4);Ft(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function cn(e,t){var n=this.cache,r=Bt(t,this.size,4);Ft(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function un(e,t){var n=this.cache,r=Bt(t,this.size,9);Ft(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function dn(e,t){var n=this.cache,r=Bt(t,this.size,16);Ft(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function hn(e,t,n){var r=this.cache,i=t.length,o=Ht(n,i);!1===Ft(r,o)&&(e.uniform1iv(this.addr,o),$t(r,o));for(var a=0;a!==i;++a)n.setTexture2D(t[a]||At,o[a])}function pn(e,t,n){var r=this.cache,i=t.length,o=Ht(n,i);!1===Ft(r,o)&&(e.uniform1iv(this.addr,o),$t(r,o));for(var a=0;a!==i;++a)n.setTextureCube(t[a]||Pt,o[a])}function fn(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ut;case 35664:return Gt;case 35665:return Wt;case 35666:return qt;case 35674:return Xt;case 35675:return Yt;case 35676:return Jt;case 35678:case 36198:return Kt;case 35679:return Zt;case 35680:return Qt;case 5124:case 35670:return Vt;case 35667:case 35671:return en;case 35668:case 35672:return tn;case 35669:case 35673:return nn}}(t.type)}function mn(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return rn;case 35664:return an;case 35665:return sn;case 35666:return ln;case 35674:return cn;case 35675:return un;case 35676:return dn;case 35678:return hn;case 35680:return pn;case 5124:case 35670:return on;case 35667:case 35671:return en;case 35668:case 35672:return tn;case 35669:case 35673:return nn}}(t.type)}function gn(e){this.id=e,Rt.call(this)}mn.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),$t(t,e)},gn.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var vn=/([\w\d_]+)(\])?(\[|\.)?/g;function yn(e,t){e.seq.push(t),e.map[t.id]=t}function bn(e,t,n){var r=e.name,i=r.length;for(vn.lastIndex=0;;){var o=vn.exec(r),a=vn.lastIndex,s=o[1],l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){yn(n,void 0===c?new fn(s,e,t):new mn(s,e,t));break}var u=n.map[s];void 0===u&&yn(n,u=new gn(s)),n=u}}function xn(e,t,n){Rt.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var o=e.getActiveUniform(t,i);bn(o,e.getUniformLocation(t,o.name),this)}}function wn(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}xn.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},xn.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},xn.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},xn.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var _n=0;function Sn(e){switch(e){case $:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function En(e,t){var n=Sn(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function kn(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Mn(e){return""!==e}function Cn(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Tn(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Ln(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=de[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ln(n)}))}function An(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}))}function On(e,t,n,r,i,o,a){var s=e.context,l=r.defines,c=i.vertexShader,u=i.fragmentShader,d="SHADOWMAP_TYPE_BASIC";1===o.shadowMapType?d="SHADOWMAP_TYPE_PCF":2===o.shadowMapType&&(d="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(r.envMap.mapping){case 301:case 302:h="ENVMAP_TYPE_CUBE";break;case 306:case 307:h="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:h="ENVMAP_TYPE_EQUIREC";break;case 305:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:f="ENVMAP_BLENDING_MULTIPLY";break;case 1:f="ENVMAP_BLENDING_MIX";break;case 2:f="ENVMAP_BLENDING_ADD"}}var m,g,v,y,b,x=e.gammaFactor>0?e.gammaFactor:1,w=a.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Mn).join("\n")}(r.extensions,o,t),_=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(l),S=s.createProgram();if(r.isRawShaderMaterial?((m=[_].filter(Mn).join("\n")).length>0&&(m+="\n"),(g=[w,_].filter(Mn).join("\n")).length>0&&(g+="\n")):(m=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,_,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+x,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Mn).join("\n"),g=[w,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,_,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+x,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+h:"",o.envMap?"#define "+p:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==o.toneMapping?"#define TONE_MAPPING":"",0!==o.toneMapping?de.tonemapping_pars_fragment:"",0!==o.toneMapping?kn("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?de.encodings_pars_fragment:"",o.mapEncoding?En("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?En("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?En("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?En("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(v="linearToOutputTexel",y=o.outputEncoding,b=Sn(y),"vec4 "+v+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Mn).join("\n")),c=Tn(c=Cn(c=Ln(c),o),o),u=Tn(u=Cn(u=Ln(u),o),o),c=An(c),u=An(u),a.isWebGL2&&!r.isRawShaderMaterial){var E=!1,k=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==c.match(k)&&null!==u.match(k)&&(E=!0,c=c.replace(k,""),u=u.replace(k,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#version 300 es\n","#define varying in",E?"":"out highp vec4 pc_fragColor;",E?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g}var M=g+u,C=wn(s,35633,m+c),T=wn(s,35632,M);s.attachShader(S,C),s.attachShader(S,T),void 0!==r.index0AttributeName?s.bindAttribLocation(S,0,r.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(S,0,"position"),s.linkProgram(S);var L,A,O=s.getProgramInfoLog(S).trim(),P=s.getShaderInfoLog(C).trim(),R=s.getShaderInfoLog(T).trim(),I=!0,N=!0;return!1===s.getProgramParameter(S,35714)?(I=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(S,35715),"gl.getProgramInfoLog",O,P,R)):""!==O?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",O):""!==P&&""!==R||(N=!1),N&&(this.diagnostics={runnable:I,material:r,programLog:O,vertexShader:{log:P,prefix:m},fragmentShader:{log:R,prefix:g}}),s.deleteShader(C),s.deleteShader(T),this.getUniforms=function(){return void 0===L&&(L=new xn(s,S,e)),L},this.getAttributes=function(){return void 0===A&&(A=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(s,S)),A},this.destroy=function(){s.deleteProgram(S),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=_n++,this.code=n,this.usedTimes=1,this.program=S,this.vertexShader=C,this.fragmentShader=T,this}function Pn(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=$,n===$&&t&&(n=3007),n}this.getParameters=function(t,r,o,s,l,c,u){var d=i[t.type],h=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),o=Math.min(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(u):0,p=n.precision;null!==t.precision&&(p=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",p,"instead.");var f=e.getRenderTarget();return{shaderID:d,precision:p,supportsVertexTextures:n.vertexTextures,outputEncoding:a(f?f.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:a(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:a(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:a(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:a(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!s,useFog:t.fog,fogExp:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:l,numClipIntersection:c,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(i,o,a,s){for(var l,c=0,u=r.length;c<u;c++){var d=r[c];if(d.code===s){++(l=d).usedTimes;break}}return void 0===l&&(l=new On(e,t,s,i,o,a,n),r.push(l)),l},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Rn(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function In(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Nn(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function jn(){var e=[],t=0,n=[],r=[];function i(n,r,i,o,a,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,program:i.program,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.program=i.program,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,o,a,s,l){var c=i(e,t,o,a,s,l);(!0===o.transparent?r:n).push(c)},unshift:function(e,t,o,a,s,l){var c=i(e,t,o,a,s,l);(!0===o.transparent?r:n).unshift(c)},sort:function(){n.length>1&&n.sort(In),r.length>1&&r.sort(Nn)}}}function zn(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i,o=e[n.id];return void 0===o?(i=new jn,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===(i=o[r.id])&&(i=new jn,o[r.id]=i),i},dispose:function(){e={}}}}function Dn(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new W,color:new me,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new U};break;case"SpotLight":n={position:new W,direction:new W,color:new me,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new U};break;case"PointLight":n={position:new W,color:new me,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new U,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new W,skyColor:new me,groundColor:new me};break;case"RectAreaLight":n={color:new me,position:new W,halfWidth:new W,halfHeight:new W}}return e[t.id]=n,n}}}var Bn=0;function Fn(){var e=new Dn,t={id:Bn++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new W,r=new V,i=new V;return{setup:function(o,a,s){for(var l=0,c=0,u=0,d=0,h=0,p=0,f=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var b=o[v],x=b.color,w=b.intensity,_=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)l+=x.r*w,c+=x.g*w,u+=x.b*w;else if(b.isDirectionalLight){if((k=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),k.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),k.direction.sub(n),k.direction.transformDirection(g),k.shadow=b.castShadow,b.castShadow){var E=b.shadow;k.shadowBias=E.bias,k.shadowRadius=E.radius,k.shadowMapSize=E.mapSize}t.directionalShadowMap[d]=S,t.directionalShadowMatrix[d]=b.shadow.matrix,t.directional[d]=k,d++}else if(b.isSpotLight){if((k=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),k.position.applyMatrix4(g),k.color.copy(x).multiplyScalar(w),k.distance=_,k.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),k.direction.sub(n),k.direction.transformDirection(g),k.coneCos=Math.cos(b.angle),k.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),k.decay=b.decay,k.shadow=b.castShadow,b.castShadow){E=b.shadow;k.shadowBias=E.bias,k.shadowRadius=E.radius,k.shadowMapSize=E.mapSize}t.spotShadowMap[p]=S,t.spotShadowMatrix[p]=b.shadow.matrix,t.spot[p]=k,p++}else if(b.isRectAreaLight){(k=e.get(b)).color.copy(x).multiplyScalar(w),k.position.setFromMatrixPosition(b.matrixWorld),k.position.applyMatrix4(g),i.identity(),r.copy(b.matrixWorld),r.premultiply(g),i.extractRotation(r),k.halfWidth.set(.5*b.width,0,0),k.halfHeight.set(0,.5*b.height,0),k.halfWidth.applyMatrix4(i),k.halfHeight.applyMatrix4(i),t.rectArea[f]=k,f++}else if(b.isPointLight){if((k=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),k.position.applyMatrix4(g),k.color.copy(b.color).multiplyScalar(b.intensity),k.distance=b.distance,k.decay=b.decay,k.shadow=b.castShadow,b.castShadow){E=b.shadow;k.shadowBias=E.bias,k.shadowRadius=E.radius,k.shadowMapSize=E.mapSize,k.shadowCameraNear=E.camera.near,k.shadowCameraFar=E.camera.far}t.pointShadowMap[h]=S,t.pointShadowMatrix[h]=b.shadow.matrix,t.point[h]=k,h++}else if(b.isHemisphereLight){var k;(k=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),k.direction.transformDirection(g),k.direction.normalize(),k.skyColor.copy(b.color).multiplyScalar(w),k.groundColor.copy(b.groundColor).multiplyScalar(w),t.hemi[m]=k,m++}}t.ambient[0]=l,t.ambient[1]=c,t.ambient[2]=u,t.directional.length=d,t.spot.length=p,t.rectArea.length=f,t.point.length=h,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=d,t.hash.pointLength=h,t.hash.spotLength=p,t.hash.rectAreaLength=f,t.hash.hemiLength=m,t.hash.shadowsLength=a.length},state:t}}function $n(){var e=new Fn,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Hn(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i;return void 0===e[n.id]?(i=new $n,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===e[n.id][r.id]?(i=new $n,e[n.id][r.id]=i):i=e[n.id][r.id],i},dispose:function(){e={}}}}function Un(e){dt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Vn(e){dt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new W,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Gn(e,t,n){for(var r=new ue,i=new V,o=new U,a=new U(n,n),s=new W,l=new W,c=new Array(4),u=new Array(4),d={},h={0:1,1:0,2:2},p=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],f=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)],m=[new ne,new ne,new ne,new ne,new ne,new ne],g=0;4!==g;++g){var v=!!(1&g),y=!!(2&g),b=new Un({depthPacking:3201,morphTargets:v,skinning:y});c[g]=b;var x=new Vn({morphTargets:v,skinning:y});u[g]=x}var _=this;function S(t,n,r,i,o,a){var s=t.geometry,l=null,p=c,f=t.customDepthMaterial;if(r&&(p=u,f=t.customDistanceMaterial),f)l=f;else{var m=!1;n.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var g=0;m&&(g|=1),t.isSkinnedMesh&&n.skinning&&(g|=2),l=p[g]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var v=l.uuid,y=n.uuid,b=d[v];void 0===b&&(b={},d[v]=b);var x=b[y];void 0===x&&(x=l.clone(),b[y]=x),l=x}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:h[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,r&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(i),l.nearDistance=o,l.farDistance=a),l}function E(n,i,o,a){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var s=t.update(n),c=n.material;if(Array.isArray(c))for(var u=s.groups,d=0,h=u.length;d<h;d++){var p=u[d],f=c[p.materialIndex];if(f&&f.visible){var m=S(n,f,a,l,o.near,o.far);e.renderBufferDirect(o,null,s,m,n,p)}}else if(c.visible){m=S(n,c,a,l,o.near,o.far);e.renderBufferDirect(o,null,s,m,n,null)}}for(var g=n.children,v=0,y=g.length;v<y;v++)E(g[v],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,c){if(!1!==_.enabled&&(!1!==_.autoUpdate||!1!==_.needsUpdate)&&0!==t.length){var u,d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=0,g=t.length;h<g;h++){var v=t[h],y=v.shadow,b=v&&v.isPointLight;if(void 0!==y){var x=y.camera;if(o.copy(y.mapSize),o.min(a),b){var S=o.x,k=o.y;m[0].set(2*S,k,S,k),m[1].set(0,k,S,k),m[2].set(3*S,k,S,k),m[3].set(S,k,S,k),m[4].set(3*S,0,S,k),m[5].set(S,0,S,k),o.x*=4,o.y*=2}if(null===y.map){var M={minFilter:w,magFilter:w,format:P};y.map=new re(o.x,o.y,M),y.map.texture.name=v.name+".shadowMap",x.updateProjectionMatrix()}y.isSpotLightShadow&&y.update(v);var C=y.map,T=y.matrix;l.setFromMatrixPosition(v.matrixWorld),x.position.copy(l),b?(u=6,T.makeTranslation(-l.x,-l.y,-l.z)):(u=1,s.setFromMatrixPosition(v.target.matrixWorld),x.lookAt(s),x.updateMatrixWorld(),T.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),T.multiply(x.projectionMatrix),T.multiply(x.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var L=0;L<u;L++){if(b){s.copy(x.position),s.add(p[L]),x.up.copy(f[L]),x.lookAt(s),x.updateMatrixWorld();var A=m[L];d.viewport(A)}i.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),r.setFromMatrix(i),E(n,c,x,b)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}_.needsUpdate=!1}}}function Wn(e,t,n,r){var i=new function(){var t=!1,n=new ne,r=null,i=new ne(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?F(2929):$(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(e){e?F(2960):$(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},s=e.getParameter(34921),l=new Uint8Array(s),c=new Uint8Array(s),u=new Uint8Array(s),d={},h=null,p=null,f=null,m=null,g=null,y=null,b=null,x=null,w=null,_=null,S=!1,E=null,k=null,M=null,C=null,T=null,L=e.getParameter(35661),A=!1,O=0,P=e.getParameter(7938);-1!==P.indexOf("WebGL")?(O=parseFloat(/^WebGL\ ([0-9])/.exec(P)[1]),A=O>=1):-1!==P.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(P)[1]),A=O>=2);var R=null,I={},N=new ne,j=new ne;function z(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var D={};function B(n,i){(l[n]=1,0===c[n]&&(e.enableVertexAttribArray(n),c[n]=1),u[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),u[n]=i)}function F(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function $(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}function H(t,r,i,o,a,s,l,c){if(0!==t){if(f||(F(3042),f=!0),5===t)a=a||r,s=s||i,l=l||o,r===g&&a===x||(e.blendEquationSeparate(n.convert(r),n.convert(a)),g=r,x=a),i===y&&o===b&&s===w&&l===_||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(l)),y=i,b=o,w=s,_=l),m=t,S=null;else if(t!==m||c!==S){if(g===v&&x===v||(e.blendEquation(32774),g=v,x=v),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,b=null,w=null,_=null,m=t,S=c}}else f&&($(3042),f=!1)}function U(t){E!==t&&(t?e.frontFace(2304):e.frontFace(2305),E=t)}function V(t){0!==t?(F(2884),t!==k&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):$(2884),k=t}function G(t,n,r){t?(F(32823),C===n&&T===r||(e.polygonOffset(n,r),C=n,T=r)):$(32823)}function W(t){void 0===t&&(t=33984+L-1),R!==t&&(e.activeTexture(t),R=t)}return D[3553]=z(3553,3553,1),D[34067]=z(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),F(2929),o.setFunc(3),U(!1),V(1),F(2884),H(0),{buffers:{color:i,depth:o,stencil:a},initAttributes:function(){for(var e=0,t=l.length;e<t;e++)l[e]=0},enableAttribute:function(e){B(e,0)},enableAttributeAndDivisor:B,disableUnusedAttributes:function(){for(var t=0,n=c.length;t!==n;++t)c[t]!==l[t]&&(e.disableVertexAttribArray(t),c[t]=0)},enable:F,disable:$,getCompressedTextureFormats:function(){if(null===h&&(h=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)h.push(n[r]);return h},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:H,setMaterial:function(e,t){2===e.side?$(2884):F(2884);var n=1===e.side;t&&(n=!n),U(n),1===e.blending&&!1===e.transparent?H(0):H(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite),G(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:U,setCullFace:V,setLineWidth:function(t){t!==M&&(A&&e.lineWidth(t),M=t)},setPolygonOffset:G,setScissorTest:function(e){e?F(3089):$(3089)},activeTexture:W,bindTexture:function(t,n){null===R&&W();var r=I[R];void 0===r&&(r={type:void 0,texture:void 0},I[R]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||D[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){for(var t=0;t<c.length;t++)1===c[t]&&(e.disableVertexAttribArray(t),c[t]=0);d={},h=null,R=null,I={},p=null,m=null,E=null,k=null,i.reset(),o.reset(),a.reset()}}}function qn(e,t,n,r,i,o,a){var s,l={};function c(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var o=n?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):s,a=t?H.floorPowerOfTwo:Math.floor;return o.width=a(i*e.width),o.height=a(i*e.height),o.getContext("2d").drawImage(e,0,0,o.width,o.height),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o.width+"x"+o.height+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function u(e){return H.isPowerOfTwo(e.width)&&H.isPowerOfTwo(e.height)}function d(e,t){return e.generateMipmaps&&t&&e.minFilter!==w&&e.minFilter!==E}function h(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function p(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function f(e){return e===w||e===_||e===S?9728:9729}function m(t){var n=t.target;n.removeEventListener("dispose",m),function(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}(n),n.isVideoTexture&&delete l[n.id],a.memory.textures--}function g(t){var n=t.target;n.removeEventListener("dispose",g),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),a.memory.textures--}function v(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=a.render.frame;l[t]!==n&&(l[t]=n,e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void x(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function y(n,a,s){var l;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),a.wrapS===b&&a.wrapT===b||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,f(a.magFilter)),e.texParameteri(n,10241,f(a.minFilter)),a.minFilter!==w&&a.minFilter!==E&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=t.get("EXT_texture_filter_anisotropic")){if(a.type===T&&null===t.get("OES_texture_float_linear"))return;if(a.type===L&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function x(t,r,s){var l;l=r.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",m),t.__webglTexture=e.createTexture(),a.memory.textures++),n.activeTexture(33984+s),n.bindTexture(l,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var f=function(e){return!i.isWebGL2&&(e.wrapS!==b||e.wrapT!==b||e.minFilter!==w&&e.minFilter!==E)}(r)&&!1===u(r.image),g=c(r.image,f,!1,i.maxTextureSize),v=u(g),x=o.convert(r.format),_=o.convert(r.type),S=p(x,_);y(l,r,v);var k,M=r.mipmaps;if(r.isDepthTexture){if(S=6402,r.type===T){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");S=36012}else i.isWebGL2&&(S=33189);r.format===R&&6402===S&&r.type!==C&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=C,_=o.convert(r.type)),r.format===I&&(S=34041,r.type!==A&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=A,_=o.convert(r.type))),n.texImage2D(3553,0,S,g.width,g.height,0,x,_,null)}else if(r.isDataTexture){if(M.length>0&&v){for(var L=0,N=M.length;L<N;L++)k=M[L],n.texImage2D(3553,L,S,k.width,k.height,0,x,_,k.data);r.generateMipmaps=!1,t.__maxMipLevel=M.length-1}else n.texImage2D(3553,0,S,g.width,g.height,0,x,_,g.data),t.__maxMipLevel=0;r.isCfxTexture&&(console.log("f?"),e.texParameterf(3553,10243,33071),e.texParameterf(3553,10243,33648),e.texParameterf(3553,10243,10497))}else if(r.isCompressedTexture){for(L=0,N=M.length;L<N;L++)k=M[L],r.format!==P&&r.format!==O?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(3553,L,S,k.width,k.height,0,k.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,L,S,k.width,k.height,0,x,_,k.data);t.__maxMipLevel=M.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,S,g.width,g.height,g.depth,0,x,_,g.data),t.__maxMipLevel=0;else if(M.length>0&&v){for(L=0,N=M.length;L<N;L++)k=M[L],n.texImage2D(3553,L,S,x,_,k);r.generateMipmaps=!1,t.__maxMipLevel=M.length-1}else n.texImage2D(3553,0,S,x,_,g),t.__maxMipLevel=0;d(r,v)&&h(3553,r,g.width,g.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function k(t,i,a,s){var l=o.convert(i.texture.format),c=o.convert(i.texture.type),u=p(l,c);n.texImage2D(s,0,u,i.width,i.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function M(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=j(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=j(n);e.renderbufferStorageMultisample(36161,i,34041,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=p(o.convert(n.texture.format),o.convert(n.texture.type));if(r){i=j(n);e.renderbufferStorageMultisample(36161,i,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function N(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===R)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==I)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),M(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),M(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function j(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}this.setTexture2D=v,this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?x(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,s){var l=r.get(t);if(6===t.image.length)if(t.version>0&&l.__version!==t.version){l.__image__webglTextureCube||(t.addEventListener("dispose",m),l.__image__webglTextureCube=e.createTexture(),a.memory.textures++),n.activeTexture(33984+s),n.bindTexture(34067,l.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var f=t&&t.isCompressedTexture,g=t.image[0]&&t.image[0].isDataTexture,v=[],b=0;b<6;b++)v[b]=f||g?g?t.image[b].image:t.image[b]:c(t.image[b],!1,!0,i.maxCubemapSize);var x=v[0],w=u(x),_=o.convert(t.format),S=o.convert(t.type),E=p(_,S);y(34067,t,w);for(b=0;b<6;b++)if(f)for(var k,M=v[b].mipmaps,C=0,T=M.length;C<T;C++)k=M[C],t.format!==P&&t.format!==O?n.getCompressedTextureFormats().indexOf(_)>-1?n.compressedTexImage2D(34069+b,C,E,k.width,k.height,0,k.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+b,C,E,k.width,k.height,0,_,S,k.data);else g?n.texImage2D(34069+b,0,E,v[b].width,v[b].height,0,_,S,v[b].data):n.texImage2D(34069+b,0,E,_,S,v[b]);l.__maxMipLevel=f?M.length-1:0,d(t,w)&&h(34067,t,x.width,x.height),l.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+s),n.bindTexture(34067,l.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var s=r.get(t),l=r.get(t.texture);t.addEventListener("dispose",g),l.__webglTexture=e.createTexture(),a.memory.textures++;var c=!0===t.isWebGLRenderTargetCube,f=!0===t.isWebGLMultisampleRenderTarget,m=u(t);if(c){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),f)if(i.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var b=p(o.convert(t.texture.format),o.convert(t.texture.type)),x=j(t);e.renderbufferStorageMultisample(36161,x,b,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),M(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,l.__webglTexture),y(34067,t.texture,m);for(v=0;v<6;v++)k(s.__webglFramebuffer[v],t,36064,34069+v);d(t.texture,m)&&h(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),y(3553,t.texture,m),k(s.__webglFramebuffer,t,36064,3553),d(t.texture,m)&&h(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(d(t,u(e))){var i=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),h(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var o=t.width,a=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}}function Xn(e,t,n){return{convert:function(e){var r;if(e===y)return 10497;if(e===b)return 33071;if(e===x)return 33648;if(e===w)return 9728;if(e===_)return 9984;if(e===S)return 9986;if(e===E)return 9729;if(1007===e)return 9985;if(e===k)return 9987;if(e===M)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===C)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(e===T)return 5126;if(e===L){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(1021===e)return 6406;if(e===O)return 6407;if(e===P)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===R)return 6402;if(e===I)return 34041;if(1028===e)return 6403;if(e===v)return 32774;if(101===e)return 32778;if(102===e)return 32779;if(200===e)return 0;if(201===e)return 1;if(202===e)return 768;if(203===e)return 769;if(204===e)return 770;if(205===e)return 771;if(206===e)return 772;if(207===e)return 773;if(208===e)return 774;if(209===e)return 775;if(210===e)return 776;if((33776===e||33777===e||33778===e||33779===e)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===e||35841===e||35842===e||35843===e)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(103===e||104===e){if(n.isWebGL2){if(103===e)return 32775;if(104===e)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(103===e)return r.MIN_EXT;if(104===e)return r.MAX_EXT}}if(e===A){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Yn(){Le.call(this),this.type="Group"}function Jn(){Le.call(this),this.type="Camera",this.matrixWorldInverse=new V,this.projectionMatrix=new V,this.projectionMatrixInverse=new V}function Kn(e,t,n,r){Jn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Zn(e){Kn.call(this),this.cameras=e||[]}Un.prototype=Object.create(dt.prototype),Un.prototype.constructor=Un,Un.prototype.isMeshDepthMaterial=!0,Un.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Vn.prototype=Object.create(dt.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isMeshDistanceMaterial=!0,Vn.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},Yn.prototype=Object.assign(Object.create(Le.prototype),{constructor:Yn,isGroup:!0}),Jn.prototype=Object.assign(Object.create(Le.prototype),{constructor:Jn,isCamera:!0,copy:function(e,t){return Le.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new W),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Le.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Kn.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Kn,isPerspectiveCamera:!0,copy:function(e,t){return Jn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*H.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*H.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*H.RAD2DEG*Math.atan(Math.tan(.5*H.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*H.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Zn.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Zn,isArrayCamera:!0});var Qn,er,tr,nr,rr,ir,or=new W,ar=new W;function sr(e,t,n){or.setFromMatrixPosition(t.matrixWorld),ar.setFromMatrixPosition(n.matrixWorld);var r=or.distanceTo(ar),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,p=a*d,f=r/(-u+d),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=a+f,v=s+f,y=h-m,b=p+(r-m),x=l*s/v*g,w=c*s/v*g;e.projectionMatrix.makePerspective(y,b,x,w,g,v)}function lr(e){var t=this,n=null,r=null,i=null,o=[],a=new V,s=new V,l=1,c="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var u=new V,d=new G,h=new W,p=new Kn;p.bounds=new ne(0,0,.5,1),p.layers.enable(1);var f=new Kn;f.bounds=new ne(.5,0,.5,1),f.layers.enable(2);var m,g,v=new Zn([p,f]);function y(){return null!==n&&!0===n.isPresenting}function b(){if(y()){var r=n.getEyeParameters("left"),i=r.renderWidth*l,o=r.renderHeight*l;g=e.getPixelRatio(),m=e.getSize(),e.setDrawingBufferSize(2*i,o,1),_.start()}else t.enabled&&e.setDrawingBufferSize(m.width,m.height,g),_.stop()}v.layers.enable(1),v.layers.enable(2);var x=[];function w(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}this.enabled=!1,this.getController=function(e){var t=o[e];return void 0===t&&((t=new Yn).matrixAutoUpdate=!1,t.visible=!1,o[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),_.setContext(e)},this.setFramebufferScaleFactor=function(e){l=e},this.setFrameOfReferenceType=function(e){c=e},this.setPoseTarget=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){var t="stage"===c?1.6:0;if(null===n)return e.position.set(0,t,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),"stage"===c){var l=n.stageParameters;l?a.fromArray(l.sittingToStandingTransform):a.makeTranslation(0,t,0)}var m=r.pose,g=null!==i?i:e;if(g.matrix.copy(a),g.matrix.decompose(g.position,g.quaternion,g.scale),null!==m.orientation&&(d.fromArray(m.orientation),g.quaternion.multiply(d)),null!==m.position&&(d.setFromRotationMatrix(a),h.fromArray(m.position),h.applyQuaternion(d),g.position.add(h)),g.updateMatrixWorld(),!1===n.isPresenting)return e;p.near=e.near,f.near=e.near,p.far=e.far,f.far=e.far,p.matrixWorldInverse.fromArray(r.leftViewMatrix),f.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(a),"stage"===c&&(p.matrixWorldInverse.multiply(s),f.matrixWorldInverse.multiply(s));var y=g.parent;null!==y&&(u.getInverse(y.matrixWorld),p.matrixWorldInverse.multiply(u),f.matrixWorldInverse.multiply(u)),p.matrixWorld.getInverse(p.matrixWorldInverse),f.matrixWorld.getInverse(f.matrixWorldInverse),p.projectionMatrix.fromArray(r.leftProjectionMatrix),f.projectionMatrix.fromArray(r.rightProjectionMatrix),sr(v,p,f);var b=n.getLayers();if(b.length){var _=b[0];null!==_.leftBounds&&4===_.leftBounds.length&&p.bounds.fromArray(_.leftBounds),null!==_.rightBounds&&4===_.rightBounds.length&&f.bounds.fromArray(_.rightBounds)}return function(){for(var e=0;e<o.length;e++){var t=o[e],n=w(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(a),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;x[e]!==n.buttons[i].pressed&&(x[e]=n.buttons[i].pressed,!0===x[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return a},this.isPresenting=y;var _=new be;this.setAnimationLoop=function(e){_.setAnimationLoop(e)},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function cr(e){var t=e.context,n=null,r=null,i=1,o=null,a="stage",s=null,l=[],c=[];function u(){return null!==r&&null!==o}var d=new Kn;d.layers.enable(1),d.viewport=new ne;var h=new Kn;h.layers.enable(2),h.viewport=new ne;var p=new Zn([d,h]);function f(e){var t=l[c.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),y.stop()}function g(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=l[e];return void 0===t&&((t=new Yn).matrixAutoUpdate=!1,t.visible=!1,l[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){a=e},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",f),r.addEventListener("selectstart",f),r.addEventListener("selectend",f),r.addEventListener("end",m),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(a).then((function(t){o=t,e.setFramebuffer(r.baseLayer.framebuffer),y.setContext(r),y.start()})),c=r.getInputSources(),r.addEventListener("inputsourceschange",(function(){c=r.getInputSources(),console.log(c);for(var e=0;e<l.length;e++){l[e].userData.inputSource=c[e]}})))},this.getCamera=function(e){if(u()){var t=e.parent,n=p.cameras;g(p,t);for(var r=0;r<n.length;r++)g(n[r],t);e.matrixWorld.copy(p.matrixWorld);for(var i=e.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return sr(p,d,h),p}return e},this.isPresenting=u;var v=null;var y=new be;y.setAnimationLoop((function(e,t){if(null!==(s=t.getDevicePose(o)))for(var n=r.baseLayer,i=t.views,a=0;a<i.length;a++){var u=i[a],d=n.getViewport(u),h=s.getViewMatrix(u),f=p.cameras[a];f.matrix.fromArray(h).getInverse(f.matrix),f.projectionMatrix.fromArray(u.projectionMatrix),f.viewport.set(d.x,d.y,d.width,d.height),0===a&&p.matrix.copy(f.matrix)}for(a=0;a<l.length;a++){var m=l[a],g=c[a];if(g){var y=t.getInputPose(g,o);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}v&&v(e)})),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function ur(e){console.log("THREE.WebGLRenderer","101dev");var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=null,d=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var h,p,f,m,g,v,y,b,x,w,_,S,E,k,C,A,O,R,I=this,N=!1,j=null,z=null,D=null,B=-1,F={geometry:null,program:null,wireframe:!1},$=null,U=null,G=new ne,q=new ne,X=null,Y=0,J=t.width,K=t.height,Z=1,Q=new ne(0,0,J,K),ee=new ne(0,0,J,K),te=!1,re=new ue,ie=new xt,oe=!1,se=!1,le=new V,ce=new W;function de(){return null===z?Z:1}try{var pe={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c};if(t.addEventListener("webglcontextlost",we,!1),t.addEventListener("webglcontextrestored",_e,!1),null===(h=n||t.getContext("webgl",pe)||t.getContext("experimental-webgl",pe)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===h.getShaderPrecisionFormat&&(h.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ne){console.error("THREE.WebGLRenderer: "+Ne.message)}function fe(){p=new wt(h),(f=new bt(h,p,e)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),R=new Xn(h,p,f),(m=new Wn(h,p,R,f)).scissor(q.copy(ee).multiplyScalar(Z)),m.viewport(G.copy(Q).multiplyScalar(Z)),g=new Et,v=new Rn,y=new qn(h,p,m,v,f,R,g),b=new xe(h),x=new _t(h,b,g),w=new Ct(x,g),C=new Mt(h),_=new Pn(I,p,f),S=new zn,E=new Hn,k=new vt(I,m,w,s),A=new yt(h,p,g,f),O=new St(h,p,g,f),g.programs=_.programs,I.context=h,I.capabilities=f,I.extensions=p,I.properties=v,I.renderLists=S,I.state=m,I.info=g}fe();var me=null;"undefined"!=typeof navigator&&(me="xr"in navigator?new cr(I):new lr(I)),this.vr=me;var ge=new Gn(I,w,f.maxTextureSize);function we(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function _e(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1,fe()}function Se(e){var t=e.target;t.removeEventListener("dispose",Se),function(e){Ee(e),v.remove(e)}(t)}function Ee(e){var t=v.get(e).program;e.program=void 0,void 0!==t&&_.releaseProgram(t)}this.shadowMap=ge,this.getContext=function(){return h},this.getContextAttributes=function(){return h.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(e){void 0!==e&&(Z=e,this.setSize(J,K,!1))},this.getSize=function(){return{width:J,height:K}},this.setSize=function(e,n,r){me.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(J=e,K=n,t.width=e*Z,t.height=n*Z,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:J*Z,height:K*Z}},this.setDrawingBufferSize=function(e,n,r){J=e,K=n,Z=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return G},this.setViewport=function(e,t,n,r){Q.set(e,K-t-r,n,r),m.viewport(G.copy(Q).multiplyScalar(Z))},this.setScissor=function(e,t,n,r){ee.set(e,K-t-r,n,r),m.scissor(q.copy(ee).multiplyScalar(Z))},this.setScissorTest=function(e){m.setScissorTest(te=e)},this.getClearColor=function(){return k.getClearColor()},this.setClearColor=function(){k.setClearColor.apply(k,arguments)},this.getClearAlpha=function(){return k.getClearAlpha()},this.setClearAlpha=function(){k.setClearAlpha.apply(k,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),h.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",we,!1),t.removeEventListener("webglcontextrestored",_e,!1),S.dispose(),E.dispose(),v.dispose(),w.dispose(),me.dispose(),Me.stop()},this.renderBufferImmediate=function(e,t){m.initAttributes();var n=v.get(e);e.hasPositions&&!n.position&&(n.position=h.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=h.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=h.createBuffer()),e.hasColors&&!n.color&&(n.color=h.createBuffer());var r=t.getAttributes();e.hasPositions&&(h.bindBuffer(34962,n.position),h.bufferData(34962,e.positionArray,35048),m.enableAttribute(r.position),h.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(h.bindBuffer(34962,n.normal),h.bufferData(34962,e.normalArray,35048),m.enableAttribute(r.normal),h.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(h.bindBuffer(34962,n.uv),h.bufferData(34962,e.uvArray,35048),m.enableAttribute(r.uv),h.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(h.bindBuffer(34962,n.color),h.bufferData(34962,e.colorArray,35048),m.enableAttribute(r.color),h.vertexAttribPointer(r.color,3,5126,!1,0,0)),m.disableUnusedAttributes(),h.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){var a=i.isMesh&&i.normalMatrix.determinant()<0;m.setMaterial(r,a);var s=Oe(e,t,r,i),l=!1;F.geometry===n.id&&F.program===s.id&&F.wireframe===(!0===r.wireframe)||(F.geometry=n.id,F.program=s.id,F.wireframe=!0===r.wireframe,l=!0),i.morphTargetInfluences&&(C.update(i,n,r,s),l=!0);var c,u=n.index,d=n.attributes.position,g=1;!0===r.wireframe&&(u=x.getWireframeAttribute(n),g=2);var v=A;null!==u&&(c=b.get(u),(v=O).setIndex(c)),l&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&!f.isWebGL2&&null===p.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m.initAttributes();var r=n.attributes,i=t.getAttributes(),o=e.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var l=r[a];if(void 0!==l){var c=l.normalized,u=l.itemSize,d=b.get(l);if(void 0===d)continue;var g=d.buffer,v=d.type,y=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var x=l.data,w=x.stride,_=l.offset;x&&x.isInstancedInterleavedBuffer?(m.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=x.meshPerAttribute*x.count)):m.enableAttribute(s),h.bindBuffer(34962,g),h.vertexAttribPointer(s,u,v,c,w*y,_*y)}else l.isInstancedBufferAttribute?(m.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):m.enableAttribute(s),h.bindBuffer(34962,g),h.vertexAttribPointer(s,u,v,c,0,0)}else if(void 0!==o){var S=o[a];if(void 0!==S)switch(S.length){case 2:h.vertexAttrib2fv(s,S);break;case 3:h.vertexAttrib3fv(s,S);break;case 4:h.vertexAttrib4fv(s,S);break;default:h.vertexAttrib1fv(s,S)}}}}m.disableUnusedAttributes()}(r,s,n),null!==u&&h.bindBuffer(34963,c.buffer));var y=1/0;null!==u?y=u.count:void 0!==d&&(y=d.count);var w=n.drawRange.start*g,_=n.drawRange.count*g,S=null!==o?o.start*g:0,E=null!==o?o.count*g:1/0,k=Math.max(w,S),M=Math.min(y,w+_,S+E)-1,T=Math.max(0,M-k+1);if(0!==T){if(i.isMesh)if(!0===r.wireframe)m.setLineWidth(r.wireframeLinewidth*de()),v.setMode(1);else switch(i.drawMode){case 0:v.setMode(4);break;case 1:v.setMode(5);break;case 2:v.setMode(6)}else if(i.isLine){var L=r.linewidth;void 0===L&&(L=1),m.setLineWidth(L*de()),i.isLineSegments?v.setMode(1):i.isLineLoop?v.setMode(2):v.setMode(3)}else i.isPoints?v.setMode(0):i.isSprite&&v.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,k,T):v.render(k,T)}},this.compile=function(e,t){(d=E.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)Ae(t.material[n],e.fog,t);else Ae(t.material,e.fog,t)}))};var ke=null;var Me=new be;function Ce(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||re.intersectsSprite(e)){r&&ce.setFromMatrixPosition(e.matrixWorld).applyMatrix4(le);var i=w.update(e),o=e.material;u.push(e,i,o,n,ce.z,null)}}else if(e.isImmediateRenderObject)r&&ce.setFromMatrixPosition(e.matrixWorld).applyMatrix4(le),u.push(e,null,e.material,n,ce.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||re.intersectsObject(e))){r&&ce.setFromMatrixPosition(e.matrixWorld).applyMatrix4(le);i=w.update(e),o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,l=a.length;s<l;s++){var c=a[s],h=o[c.materialIndex];h&&h.visible&&u.push(e,i,h,n,ce.z,c)}else o.visible&&u.push(e,i,o,n,ce.z,null)}var p=e.children;for(s=0,l=p.length;s<l;s++)Ce(p[s],t,n,r)}}function Te(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,c=void 0===r?a.material:r,u=a.group;if(n.isArrayCamera){U=n;for(var h=n.cameras,p=0,f=h.length;p<f;p++){var g=h[p];if(s.layers.test(g.layers)){if("viewport"in g)m.viewport(G.copy(g.viewport));else{var v=g.bounds,y=v.x*J,b=v.y*K,x=v.z*J,w=v.w*K;m.viewport(G.set(y,b,x,w).multiplyScalar(Z))}d.setupLights(g),Le(s,t,g,l,c,u)}}}else U=null,Le(s,t,n,l,c,u)}}function Le(e,t,n,r,i,o){if(e.onBeforeRender(I,t,n,r,i,o),d=E.get(t,U||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){m.setMaterial(i);var a=Oe(n,t.fog,i,e);F.geometry=null,F.program=null,F.wireframe=!1,function(e,t){e.render((function(e){I.renderBufferImmediate(e,t)}))}(e,a)}else I.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(I,t,n,r,i,o),d=E.get(t,U||n)}function Ae(e,t,n){var r=v.get(e),i=d.state.lights,o=d.state.shadowsArray,a=r.lightsHash,s=i.state.hash,l=_.getParameters(e,i.state,o,t,ie.numPlanes,ie.numIntersection,n),c=_.getProgramCode(e,l),u=r.program,h=!0;if(void 0===u)e.addEventListener("dispose",Se);else if(u.code!==c)Ee(e);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,h=!1;else{if(void 0!==l.shaderID)return;h=!1}if(h){if(l.shaderID){var p=ye[l.shaderID];r.shader={name:e.type,uniforms:he(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,I),c=_.getProgramCode(e,l),u=_.acquireProgram(e,r.shader,l,c),r.program=u,e.program=u}var f=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<I.maxMorphTargets;m++)f["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<I.maxMorphNormals;m++)f["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var g=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=ie.numPlanes,r.numIntersection=ie.numIntersection,g.clippingPlanes=ie.uniform),r.fog=t,void 0===a&&(r.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,e.lights&&(g.ambientLightColor.value=i.state.ambient,g.directionalLights.value=i.state.directional,g.spotLights.value=i.state.spot,g.rectAreaLights.value=i.state.rectArea,g.pointLights.value=i.state.point,g.hemisphereLights.value=i.state.hemi,g.directionalShadowMap.value=i.state.directionalShadowMap,g.directionalShadowMatrix.value=i.state.directionalShadowMatrix,g.spotShadowMap.value=i.state.spotShadowMap,g.spotShadowMatrix.value=i.state.spotShadowMatrix,g.pointShadowMap.value=i.state.pointShadowMap,g.pointShadowMatrix.value=i.state.pointShadowMatrix);var y=r.program.getUniforms(),b=xn.seqWithValue(y.seq,g);r.uniformsList=b}function Oe(e,t,n,r){Y=0;var i=v.get(n),o=d.state.lights,a=i.lightsHash,s=o.state.hash;if(oe&&(se||e!==$)){var l=e===$&&n.id===B;ie.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,l)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===ie.numPlanes&&i.numIntersection===ie.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(Ae(n,t,r),n.needsUpdate=!1);var c,u,p=!1,g=!1,y=!1,b=i.program,x=b.getUniforms(),w=i.shader.uniforms;if(m.useProgram(b.program)&&(p=!0,g=!0,y=!0),n.id!==B&&(B=n.id,g=!0),p||$!==e){if(x.setValue(h,"projectionMatrix",e.projectionMatrix),f.logarithmicDepthBuffer&&x.setValue(h,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),$!==e&&($=e,g=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var _=x.map.cameraPosition;void 0!==_&&_.setValue(h,ce.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&x.setValue(h,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){x.setOptional(h,r,"bindMatrix"),x.setOptional(h,r,"bindMatrixInverse");var S=r.skeleton;if(S){var E=S.bones;if(f.floatVertexTextures){if(void 0===S.boneTexture){var k=Math.sqrt(4*E.length);k=H.ceilPowerOfTwo(k),k=Math.max(k,4);var M=new Float32Array(k*k*4);M.set(S.boneMatrices);var C=new ae(M,k,k,P,T);C.needsUpdate=!0,S.boneMatrices=M,S.boneTexture=C,S.boneTextureSize=k}x.setValue(h,"boneTexture",S.boneTexture),x.setValue(h,"boneTextureSize",S.boneTextureSize)}else x.setOptional(h,S,"boneMatrices")}}return g&&(x.setValue(h,"toneMappingExposure",I.toneMappingExposure),x.setValue(h,"toneMappingWhitePoint",I.toneMappingWhitePoint),n.lights&&(u=y,(c=w).ambientLightColor.needsUpdate=u,c.directionalLights.needsUpdate=u,c.pointLights.needsUpdate=u,c.spotLights.needsUpdate=u,c.rectAreaLights.needsUpdate=u,c.hemisphereLights.needsUpdate=u),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(w,t),n.isMeshBasicMaterial?Pe(w,n):n.isMeshLambertMaterial?(Pe(w,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(w,n)):n.isMeshPhongMaterial?(Pe(w,n),n.isMeshToonMaterial?function(e,t){Re(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(w,n):Re(w,n)):n.isMeshStandardMaterial?(Pe(w,n),n.isMeshPhysicalMaterial?function(e,t){Ie(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(w,n):Ie(w,n)):n.isMeshMatcapMaterial?(Pe(w,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,n)):n.isMeshDepthMaterial?(Pe(w,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,n)):n.isMeshDistanceMaterial?(Pe(w,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(w,n)):n.isMeshNormalMaterial?(Pe(w,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(w,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(w,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*Z,e.scale.value=.5*K,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(w,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(w,n):n.isShadowMaterial&&(w.color.value=n.color,w.opacity.value=n.opacity),void 0!==w.ltc_1&&(w.ltc_1.value=ve.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=ve.LTC_2),xn.upload(h,i.uniformsList,w,I)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(xn.upload(h,i.uniformsList,w,I),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(h,"center",r.center),x.setValue(h,"modelViewMatrix",r.modelViewMatrix),x.setValue(h,"normalMatrix",r.normalMatrix),x.setValue(h,"modelMatrix",r.matrixWorld),b}function Pe(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=v.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function Re(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ie(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}Me.setAnimationLoop((function(e){me.isPresenting()||ke&&ke(e)})),"undefined"!=typeof window&&Me.setContext(window),this.setAnimationLoop=function(e){ke=e,me.setAnimationLoop(e),Me.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!N){F.geometry=null,F.program=null,F.wireframe=!1,B=-1,$=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),me.enabled&&(t=me.getCamera(t)),(d=E.get(e,t)).init(),e.onBeforeRender(I,e,t,n),le.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),re.setFromMatrix(le),se=this.localClippingEnabled,oe=ie.init(this.clippingPlanes,se,t),(u=S.get(e,t)).init(),Ce(e,t,0,I.sortObjects),!0===I.sortObjects&&u.sort(),oe&&ie.beginShadows();var i=d.state.shadowsArray;ge.render(i,e,t),d.setupLights(t),oe&&ie.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),k.render(u,e,t,r);var o=u.opaque,a=u.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&Te(o,e,t,s),a.length&&Te(a,e,t,s)}else o.length&&Te(o,e,t),a.length&&Te(a,e,t);n&&(y.updateRenderTargetMipmap(n),y.updateMultisampleRenderTarget(n)),m.buffers.depth.setTest(!0),m.buffers.depth.setMask(!0),m.buffers.color.setMask(!0),m.setPolygonOffset(!1),e.onAfterRender(I,e,t),me.enabled&&me.submitFrame(),u=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=Y;return e>=f.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+f.maxTextures),Y+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),y.setTexture2D(t,n)}}(),this.setTexture3D=function(){return function(e,t){y.setTexture3D(e,t)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),y.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?y.setTextureCube(t,n):y.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){j=e},this.getRenderTarget=function(){return z},this.setRenderTarget=function(e){z=e,e&&void 0===v.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var t=j,n=!1;if(e){var r=v.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=e.isWebGLMultisampleRenderTarget?v.get(e).__webglMultisampledFramebuffer:r,G.copy(e.viewport),q.copy(e.scissor),X=e.scissorTest}else G.copy(Q).multiplyScalar(Z),q.copy(ee).multiplyScalar(Z),X=te;if(D!==t&&(h.bindFramebuffer(36160,t),D=t),m.viewport(G),m.scissor(q),m.setScissorTest(X),n){var i=v.get(e.texture);h.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e&&e.isWebGLRenderTarget){var a=v.get(e).__webglFramebuffer;if(a){var s=!1;a!==D&&(h.bindFramebuffer(36160,a),s=!0);try{var l=e.texture,c=l.format,u=l.type;if(c!==P&&R.convert(c)!==h.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===M||R.convert(u)===h.getParameter(35738)||u===T&&(f.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||u===L&&(f.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===h.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&h.readPixels(t,n,r,i,R.convert(c),R.convert(u),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&h.bindFramebuffer(36160,D)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=R.convert(t.format);this.setTexture2D(t,0),h.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=R.convert(n.format),s=R.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?h.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):h.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)}}function dr(e,t){this.name="",this.color=new me(e),this.density=void 0!==t?t:25e-5}function hr(e,t,n){this.name="",this.color=new me(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function pr(){Le.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function fr(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function mr(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function gr(e){dt.call(this),this.type="SpriteMaterial",this.color=new me(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function vr(e){if(Le.call(this),this.type="Sprite",void 0===Qn){Qn=new qe;var t=new fr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Qn.setIndex([0,1,2,0,2,3]),Qn.addAttribute("position",new mr(t,3,0,!1)),Qn.addAttribute("uv",new mr(t,2,3,!1))}this.geometry=Qn,this.material=void 0!==e?e:new gr,this.center=new U(.5,.5)}function yr(){Le.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function br(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),gt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new V,this.bindMatrixInverse=new V}function xr(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new V)}}function wr(){Le.call(this),this.type="Bone"}function _r(e){dt.call(this),this.type="LineBasicMaterial",this.color=new me(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Sr(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Le.call(this),this.type="Line",this.geometry=void 0!==e?e:new qe,this.material=void 0!==t?t:new _r({color:16777215*Math.random()})}function Er(e,t){Sr.call(this,e,t),this.type="LineSegments"}function kr(e,t){Sr.call(this,e,t),this.type="LineLoop"}function Mr(e){dt.call(this),this.type="PointsMaterial",this.color=new me(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Cr(e,t){Le.call(this),this.type="Points",this.geometry=void 0!==e?e:new qe,this.material=void 0!==t?t:new Mr({color:16777215*Math.random()})}function Tr(e,t,n,r,i,o,a,s,l){te.call(this,e,t,n,r,i,o,a,s,l),this.format=void 0!==a?a:O,this.minFilter=void 0!==o?o:E,this.magFilter=void 0!==i?i:E,this.generateMipmaps=!1}function Lr(e,t,n,r,i,o,a,s,l,c,u,d){te.call(this,null,o,a,s,l,c,r,i,u,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ar(e,t,n,r,i,o,a,s,l){te.call(this,e,t,n,r,i,o,a,s,l),this.needsUpdate=!0}function Or(e,t,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:R)!==R&&c!==I)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===R&&(n=C),void 0===n&&c===I&&(n=A),te.call(this,null,r,i,o,a,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==a?a:w,this.minFilter=void 0!==s?s:w,this.flipY=!1,this.generateMipmaps=!1}function Pr(){var e=new Uint8Array(3);te.call(this,null,void 0,void 0,void 0,void 0,void 0,1022,void 0,void 0,void 0),this.image={data:e,width:1,height:1},this.magFilter=w,this.minFilter=w,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Rr(e){qe.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,l,c,u,d=[],h=[0,0],p={},f=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var g=m[t];for(n=0;n<3;n++)s=g[f[n]],l=g[f[(n+1)%3]],h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===p[c=h[0]+","+h[1]]&&(p[c]={index1:h[0],index2:h[1]})}for(c in p)a=p[c],u=e.vertices[a.index1],d.push(u.x,u.y,u.z),u=e.vertices[a.index2],d.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var v,y,b,x,w,_,S;if(u=new W,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=w=(x=b[i]).start,r=w+x.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),l=y.getX(t+(n+1)%3),h[0]=Math.min(s,l),h[1]=Math.max(s,l),void 0===p[c=h[0]+","+h[1]]&&(p[c]={index1:h[0],index2:h[1]});for(c in p)a=p[c],u.fromBufferAttribute(v,a.index1),d.push(u.x,u.y,u.z),u.fromBufferAttribute(v,a.index2),d.push(u.x,u.y,u.z)}else for(t=0,r=(v=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)_=3*t+n,u.fromBufferAttribute(v,_),d.push(u.x,u.y,u.z),S=3*t+(n+1)%3,u.fromBufferAttribute(v,S),d.push(u.x,u.y,u.z)}this.addAttribute("position",new He(d,3))}function Ir(e,t,n){Re.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Nr(e,t,n)),this.mergeVertices()}function Nr(e,t,n){qe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],l=[],c=1e-5,u=new W,d=new W,h=new W,p=new W,f=new W;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var v=i/t;e(v,g,d),a.push(d.x,d.y,d.z),v-c>=0?(e(v-c,g,h),p.subVectors(d,h)):(e(v+c,g,h),p.subVectors(h,d)),g-c>=0?(e(v,g-c,h),f.subVectors(d,h)):(e(v,g+c,h),f.subVectors(h,d)),u.crossVectors(p,f).normalize(),s.push(u.x,u.y,u.z),l.push(v,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,x=(r+1)*m+i+1,w=(r+1)*m+i;o.push(y,b,w),o.push(b,x,w)}this.setIndex(o),this.addAttribute("position",new He(a,3)),this.addAttribute("normal",new He(s,3)),this.addAttribute("uv",new He(l,2))}function jr(e,t,n,r){Re.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new zr(e,t,n,r)),this.mergeVertices()}function zr(e,t,n,r){qe.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),l=[];for(i=0;i<=a;i++){l[i]=[];var c=e.clone().lerp(n,i/a),u=t.clone().lerp(n,i/a),d=a-i;for(o=0;o<=d;o++)l[i][o]=0===o&&i===a?c:c.clone().lerp(u,o/d)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2==0?(s(l[i][h+1]),s(l[i+1][h]),s(l[i][h])):(s(l[i][h+1]),s(l[i+1][h+1]),s(l[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){for(var n=new W,r=new W,i=new W,o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new W,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new W,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=u(e)/2/Math.PI+.5,r=d(e)/Math.PI+.5;o.push(n,1-r)}(function(){for(var e=new W,t=new W,n=new W,r=new W,a=new U,s=new U,l=new U,d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var p=u(r);c(a,h+0,e,p),c(s,h+2,t,p),c(l,h+4,n,p)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.addAttribute("position",new He(i,3)),this.addAttribute("normal",new He(i.slice(),3)),this.addAttribute("uv",new He(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Dr(e,t){Re.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Br(e,t)),this.mergeVertices()}function Br(e,t){zr.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Fr(e,t){Re.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new $r(e,t)),this.mergeVertices()}function $r(e,t){zr.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Hr(e,t){Re.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ur(e,t)),this.mergeVertices()}function Ur(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];zr.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Vr(e,t){Re.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Gr(e,t)),this.mergeVertices()}function Gr(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];zr.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Wr(e,t,n,r,i,o){Re.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new qr(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function qr(e,t,n,r,i){qe.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,l=new W,c=new W,u=new U,d=new W,h=[],p=[],f=[],m=[];function g(i){d=e.getPointAt(i/t,d);var a=o.normals[i],u=o.binormals[i];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);c.x=g*a.x+m*u.x,c.y=g*a.y+m*u.y,c.z=g*a.z+m*u.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=d.x+n*c.x,l.y=d.y+n*c.y,l.z=d.z+n*c.z,h.push(l.x,l.y,l.z)}}!function(){for(a=0;a<t;a++)g(a);g(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)u.x=a/t,u.y=s/r,f.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;m.push(e,n,o),m.push(n,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new He(h,3)),this.addAttribute("normal",new He(p,3)),this.addAttribute("uv",new He(f,2))}function Xr(e,t,n,r,i,o,a){Re.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Yr(e,t,n,r,i,o)),this.mergeVertices()}function Yr(e,t,n,r,i,o){qe.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,l=[],c=[],u=[],d=[],h=new W,p=new W,f=new W,m=new W,g=new W,v=new W,y=new W;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(C(b,i,o,e,f),C(b+.01,i,o,e,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,w=-t*Math.cos(x),_=t*Math.sin(x);h.x=f.x+(w*y.x+_*g.x),h.y=f.y+(w*y.y+_*g.y),h.z=f.z+(w*y.z+_*g.z),c.push(h.x,h.y,h.z),p.subVectors(h,f).normalize(),u.push(p.x,p.y,p.z),d.push(a/n),d.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var S=(r+1)*(s-1)+(a-1),E=(r+1)*s+(a-1),k=(r+1)*s+a,M=(r+1)*(s-1)+a;l.push(S,E,M),l.push(E,k,M)}function C(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new He(c,3)),this.addAttribute("normal",new He(u,3)),this.addAttribute("uv",new He(d,2))}function Jr(e,t,n,r,i){Re.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Kr(e,t,n,r,i)),this.mergeVertices()}function Kr(e,t,n,r,i){qe.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],l=[],c=[],u=[],d=new W,h=new W,p=new W;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var f=a/r*i,m=o/n*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(f),h.y=(e+t*Math.cos(m))*Math.sin(f),h.z=t*Math.sin(m),l.push(h.x,h.y,h.z),d.x=e*Math.cos(f),d.y=e*Math.sin(f),p.subVectors(h,d).normalize(),c.push(p.x,p.y,p.z),u.push(a/r),u.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,v=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.addAttribute("position",new He(l,3)),this.addAttribute("normal",new He(c,3)),this.addAttribute("uv",new He(u,2))}dr.prototype.isFogExp2=!0,dr.prototype.clone=function(){return new dr(this.color,this.density)},dr.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},hr.prototype.isFog=!0,hr.prototype.clone=function(){return new hr(this.color,this.near,this.far)},hr.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},pr.prototype=Object.assign(Object.create(Le.prototype),{constructor:pr,copy:function(e,t){return Le.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(fr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(fr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(mr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(mr.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),gr.prototype=Object.create(dt.prototype),gr.prototype.constructor=gr,gr.prototype.isSpriteMaterial=!0,gr.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},vr.prototype=Object.assign(Object.create(Le.prototype),{constructor:vr,isSprite:!0,raycast:function(){var e=new W,t=new W,n=new W,r=new U,i=new U,o=new V,a=new W,s=new W,l=new W,c=new U,u=new U,d=new U;function h(e,t,n,a,s,l){r.subVectors(e,n).addScalar(.5).multiply(a),void 0!==s?(i.x=l*r.x-s*r.y,i.y=s*r.x+l*r.y):i.copy(r),e.copy(t),e.x+=i.x,e.y+=i.y,e.applyMatrix4(o)}return function(r,i){t.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var p,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),p=Math.sin(m));var g=this.center;h(a.set(-.5,-.5,0),n,g,t,p,f),h(s.set(.5,-.5,0),n,g,t,p,f),h(l.set(.5,.5,0),n,g,t,p,f),c.set(0,0),u.set(1,0),d.set(1,1);var v=r.ray.intersectTriangle(a,s,l,!1,e);if(null!==v||(h(s.set(-.5,.5,0),n,g,t,p,f),u.set(0,1),null!==(v=r.ray.intersectTriangle(a,l,s,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||i.push({distance:y,point:e.clone(),uv:ft.getUV(e,a,s,l,c,u,d,new U),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Le.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),yr.prototype=Object.assign(Object.create(Le.prototype),{constructor:yr,copy:function(e){Le.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:(er=new W,function(e,t){er.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(er);this.getObjectForDistance(n).raycast(e,t)}),update:function(){var e=new W,t=new W;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),br.prototype=Object.assign(Object.create(gt.prototype),{constructor:br,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new ne,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){gt.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(xr.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new V;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(tr=new V,nr=new V,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:nr;tr.multiplyMatrices(a,t[i]),tr.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new xr(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),wr.prototype=Object.assign(Object.create(Le.prototype),{constructor:wr,isBone:!0}),_r.prototype=Object.create(dt.prototype),_r.prototype.constructor=_r,_r.prototype.isLineBasicMaterial=!0,_r.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Sr.prototype=Object.assign(Object.create(Le.prototype),{constructor:Sr,isLine:!0,computeLineDistances:(rr=new W,ir=new W,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)rr.fromBufferAttribute(t,r-1),ir.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=rr.distanceTo(ir);e.addAttribute("lineDistance",new He(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for((n=e.lineDistances)[0]=0,r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this}),raycast:function(){var e=new V,t=new pt,n=new le;return function(r,i){var o=r.linePrecision,a=this.geometry,s=this.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=o,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var l=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new W,d=new W,h=new W,p=new W,f=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var m=a.index,g=a.attributes.position.array;if(null!==m)for(var v=m.array,y=0,b=v.length-1;y<b;y+=f){var x=v[y],w=v[y+1];if(u.fromArray(g,3*x),d.fromArray(g,3*w),!(t.distanceSqToSegment(u,d,p,h)>c))p.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(p))<r.near||E>r.far||i.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,b=g.length/3-1;y<b;y+=f){if(u.fromArray(g,3*y),d.fromArray(g,3*y+3),!(t.distanceSqToSegment(u,d,p,h)>c))p.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(p))<r.near||E>r.far||i.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(a.isGeometry){var _=a.vertices,S=_.length;for(y=0;y<S-1;y+=f){var E;if(!(t.distanceSqToSegment(_[y],_[y+1],p,h)>c))p.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(p))<r.near||E>r.far||i.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return Le.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Er.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Er,isLineSegments:!0,computeLineDistances:function(){var e=new W,t=new W;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],o=0,a=r.count;o<a;o+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(r,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t);n.addAttribute("lineDistance",new He(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,o=0,a=s.length;o<a;o+=2)e.copy(s[o]),t.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distanceTo(t)}return this}}()}),kr.prototype=Object.assign(Object.create(Sr.prototype),{constructor:kr,isLineLoop:!0}),Mr.prototype=Object.create(dt.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isPointsMaterial=!0,Mr.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Cr.prototype=Object.assign(Object.create(Le.prototype),{constructor:Cr,isPoints:!0,raycast:function(){var e=new V,t=new pt,n=new le;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,l=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),n.radius+=l,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,d=new W,h=new W;if(a.isBufferGeometry){var p=a.index,f=a.attributes.position.array;if(null!==p)for(var m=p.array,g=0,v=m.length;g<v;g++){var y=m[g];d.fromArray(f,3*y),w(d,y)}else{g=0;for(var b=f.length/3;g<b;g++)d.fromArray(f,3*g),w(d,g)}}else{var x=a.vertices;for(g=0,b=x.length;g<b;g++)w(x[g],g)}}function w(e,n){var a=t.distanceSqToPoint(e);if(a<u){t.closestPointToPoint(e,h),h.applyMatrix4(s);var l=r.ray.origin.distanceTo(h);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(a),point:h.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Tr.prototype=Object.assign(Object.create(te.prototype),{constructor:Tr,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Lr.prototype=Object.create(te.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isCompressedTexture=!0,Ar.prototype=Object.create(te.prototype),Ar.prototype.constructor=Ar,Ar.prototype.isCanvasTexture=!0,Or.prototype=Object.create(te.prototype),Or.prototype.constructor=Or,Or.prototype.isDepthTexture=!0,Pr.prototype=Object.create(te.prototype),Pr.prototype.constructor=Pr,Pr.prototype.isDataTexture=!0,Pr.prototype.isCfxTexture=!0,Rr.prototype=Object.create(qe.prototype),Rr.prototype.constructor=Rr,Ir.prototype=Object.create(Re.prototype),Ir.prototype.constructor=Ir,Nr.prototype=Object.create(qe.prototype),Nr.prototype.constructor=Nr,jr.prototype=Object.create(Re.prototype),jr.prototype.constructor=jr,zr.prototype=Object.create(qe.prototype),zr.prototype.constructor=zr,Dr.prototype=Object.create(Re.prototype),Dr.prototype.constructor=Dr,Br.prototype=Object.create(zr.prototype),Br.prototype.constructor=Br,Fr.prototype=Object.create(Re.prototype),Fr.prototype.constructor=Fr,$r.prototype=Object.create(zr.prototype),$r.prototype.constructor=$r,Hr.prototype=Object.create(Re.prototype),Hr.prototype.constructor=Hr,Ur.prototype=Object.create(zr.prototype),Ur.prototype.constructor=Ur,Vr.prototype=Object.create(Re.prototype),Vr.prototype.constructor=Vr,Gr.prototype=Object.create(zr.prototype),Gr.prototype.constructor=Gr,Wr.prototype=Object.create(Re.prototype),Wr.prototype.constructor=Wr,qr.prototype=Object.create(qe.prototype),qr.prototype.constructor=qr,Xr.prototype=Object.create(Re.prototype),Xr.prototype.constructor=Xr,Yr.prototype=Object.create(qe.prototype),Yr.prototype.constructor=Yr,Jr.prototype=Object.create(Re.prototype),Jr.prototype.constructor=Jr,Kr.prototype=Object.create(qe.prototype),Kr.prototype.constructor=Kr;var Zr=function(e,t,n){n=n||2;var r,i,o,a,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,h=Qr(e,0,d,n,!0),p=[];if(!h)return p;if(u&&(h=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Qr(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(ci(a));for(s.sort(ai),i=0;i<s.length;i++)si(s[i],n),n=ei(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var f=n;f<d;f+=n)(s=e[f])<r&&(r=s),(l=e[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return ti(h,p,n,r,i,c),p};function Qr(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=vi(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=vi(o,e[o],e[o+1],a);return a&&pi(a,a.next)&&(yi(a),a=a.next),a}function ei(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!pi(r,r.next)&&0!==hi(r.prev,r,r.next))r=r.next;else{if(yi(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function ti(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=li(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?ri(e,r,i,o):ni(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),yi(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?ti(e=ii(e,t,n),t,n,r,i,o,2):2===a&&oi(e,t,n,r,i,o):ti(ei(e),t,n,r,i,o,1);break}}}function ni(e){var t=e.prev,n=e,r=e.next;if(hi(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(ui(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&hi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ri(e,t,n,r){var i=e.prev,o=e,a=e.next;if(hi(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,d=li(s,l,t,n,r),h=li(c,u,t,n,r),p=e.nextZ;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&ui(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&hi(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=e.prevZ;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&ui(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&hi(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function ii(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!pi(i,o)&&fi(i,r,r.next,o)&&mi(i,o)&&mi(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),yi(r),yi(r.next),r=e=o),r=r.next}while(r!==e);return r}function oi(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&di(a,s)){var l=gi(a,s);return a=ei(a,a.next),l=ei(l,l.next),ti(a,t,n,r,i,o),void ti(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function ai(e,t){return e.x-t.x}function si(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var l,c=n,u=n.x,d=n.y,h=1/0;r=n.next;for(;r!==c;)i>=r.x&&r.x>=u&&i!==r.x&&ui(o<d?i:a,o,u,d,o<d?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&mi(r,e)&&(n=r,h=l),r=r.next;return n}(e,t),t){var n=gi(t,e);ei(n,n.next)}}function li(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ci(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function ui(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function di(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&fi(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&mi(e,t)&&mi(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function hi(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function pi(e,t){return e.x===t.x&&e.y===t.y}function fi(e,t,n,r){return!!(pi(e,t)&&pi(n,r)||pi(e,r)&&pi(n,t))||hi(e,t,n)>0!=hi(e,t,r)>0&&hi(n,r,e)>0!=hi(n,r,t)>0}function mi(e,t){return hi(e.prev,e,e.next)<0?hi(e,t,e.next)>=0&&hi(e,e.prev,t)>=0:hi(e,t,e.prev)<0||hi(e,e.next,t)<0}function gi(e,t){var n=new bi(e.i,e.x,e.y),r=new bi(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function vi(e,t,n,r){var i=new bi(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function yi(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function bi(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var xi={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return xi.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];wi(e),_i(n,e);var o=e.length;t.forEach(wi);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,_i(n,t[a]);var s=Zr(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function wi(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function _i(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Si(e,t){Re.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Ei(e,t)),this.mergeVertices()}function Ei(e,t){qe.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,d=void 0!==t.bevelSize?t.bevelSize:u-2,h=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:ki;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var m,g,v,y,b,x,w,_,S=!1;p&&(m=p.getSpacedPoints(s),S=!0,c=!1,g=p.computeFrenetFrames(s,!1),v=new W,y=new W,b=new W),c||(h=0,u=0,d=0);var E=e.extractPoints(a),k=E.shape,M=E.holes;if(!xi.isClockWise(k))for(k=k.reverse(),w=0,_=M.length;w<_;w++)x=M[w],xi.isClockWise(x)&&(M[w]=x.reverse());var C=xi.triangulateShape(k,M),T=k;for(w=0,_=M.length;w<_;w++)x=M[w],k=k.concat(x);function L(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var A,O,P,R,I,N,j=k.length,z=C.length;function D(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,d=a*c-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(u),p=Math.sqrt(l*l+c*c),f=t.x-s/h,m=t.y+a/h,g=((n.x-c/p-f)*c-(n.y+l/p-m)*l)/(a*c-s*l),v=(r=f+a*g-e.x)*r+(i=m+s*g-e.y)*i;if(v<=2)return new U(r,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new U(r/o,i/o)}for(var B=[],F=0,$=T.length,H=$-1,V=F+1;F<$;F++,H++,V++)H===$&&(H=0),V===$&&(V=0),B[F]=D(T[F],T[H],T[V]);var G,q,X=[],Y=B.concat();for(w=0,_=M.length;w<_;w++){for(x=M[w],G=[],F=0,H=($=x.length)-1,V=F+1;F<$;F++,H++,V++)H===$&&(H=0),V===$&&(V=0),G[F]=D(x[F],x[H],x[V]);X.push(G),Y=Y.concat(G)}for(A=0;A<h;A++){for(P=A/h,R=u*Math.cos(P*Math.PI/2),O=d*Math.sin(P*Math.PI/2),F=0,$=T.length;F<$;F++)K((I=L(T[F],B[F],O)).x,I.y,-R);for(w=0,_=M.length;w<_;w++)for(x=M[w],G=X[w],F=0,$=x.length;F<$;F++)K((I=L(x[F],G[F],O)).x,I.y,-R)}for(O=d,F=0;F<j;F++)I=c?L(k[F],Y[F],O):k[F],S?(y.copy(g.normals[0]).multiplyScalar(I.x),v.copy(g.binormals[0]).multiplyScalar(I.y),b.copy(m[0]).add(y).add(v),K(b.x,b.y,b.z)):K(I.x,I.y,0);for(q=1;q<=s;q++)for(F=0;F<j;F++)I=c?L(k[F],Y[F],O):k[F],S?(y.copy(g.normals[q]).multiplyScalar(I.x),v.copy(g.binormals[q]).multiplyScalar(I.y),b.copy(m[q]).add(y).add(v),K(b.x,b.y,b.z)):K(I.x,I.y,l/s*q);for(A=h-1;A>=0;A--){for(P=A/h,R=u*Math.cos(P*Math.PI/2),O=d*Math.sin(P*Math.PI/2),F=0,$=T.length;F<$;F++)K((I=L(T[F],B[F],O)).x,I.y,l+R);for(w=0,_=M.length;w<_;w++)for(x=M[w],G=X[w],F=0,$=x.length;F<$;F++)I=L(x[F],G[F],O),S?K(I.x,I.y+m[s-1].y,m[s-1].x+R):K(I.x,I.y,l+R)}function J(e,t){var n,r;for(F=e.length;--F>=0;){n=F,(r=F-1)<0&&(r=e.length-1);var i=0,o=s+2*h;for(i=0;i<o;i++){var a=j*i,l=j*(i+1);Q(t+n+a,t+r+a,t+r+l,t+n+l)}}}function K(e,t,n){o.push(e),o.push(t),o.push(n)}function Z(e,t,i){ee(e),ee(t),ee(i);var o=r.length/3,a=f.generateTopUV(n,r,o-3,o-2,o-1);te(a[0]),te(a[1]),te(a[2])}function Q(e,t,i,o){ee(e),ee(t),ee(o),ee(t),ee(i),ee(o);var a=r.length/3,s=f.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);te(s[0]),te(s[1]),te(s[3]),te(s[1]),te(s[2]),te(s[3])}function ee(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function te(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(c){var t=0,i=j*t;for(F=0;F<z;F++)Z((N=C[F])[2]+i,N[1]+i,N[0]+i);for(i=j*(t=s+2*h),F=0;F<z;F++)Z((N=C[F])[0]+i,N[1]+i,N[2]+i)}else{for(F=0;F<z;F++)Z((N=C[F])[2],N[1],N[0]);for(F=0;F<z;F++)Z((N=C[F])[0]+j*s,N[1]+j*s,N[2]+j*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(J(T,t),t+=T.length,w=0,_=M.length;w<_;w++)J(x=M[w],t),t+=x.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new He(r,3)),this.addAttribute("uv",new He(i,2)),this.computeVertexNormals()}Si.prototype=Object.create(Re.prototype),Si.prototype.constructor=Si,Si.prototype.toJSON=function(){var e=Re.prototype.toJSON.call(this);return Mi(this.parameters.shapes,this.parameters.options,e)},Ei.prototype=Object.create(qe.prototype),Ei.prototype.constructor=Ei,Ei.prototype.toJSON=function(){var e=qe.prototype.toJSON.call(this);return Mi(this.parameters.shapes,this.parameters.options,e)};var ki={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new U(o,a),new U(s,l),new U(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<.01?[new U(a,1-l),new U(c,1-d),new U(h,1-f),new U(m,1-v)]:[new U(s,1-l),new U(u,1-d),new U(p,1-f),new U(g,1-v)]}};function Mi(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Ci(e,t){Re.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Ti(e,t)),this.mergeVertices()}function Ti(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Re;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Ei.call(this,r,t),this.type="TextBufferGeometry"}function Li(e,t,n,r,i,o,a){Re.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Ai(e,t,n,r,i,o,a)),this.mergeVertices()}function Ai(e,t,n,r,i,o,a){qe.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,l,c=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),u=0,d=[],h=new W,p=new W,f=[],m=[],g=[],v=[];for(l=0;l<=n;l++){var y=[],b=l/n;for(s=0;s<=t;s++){var x=s/t;h.x=-e*Math.cos(r+x*i)*Math.sin(o+b*a),h.y=e*Math.cos(o+b*a),h.z=e*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(h.x,h.y,h.z),p.set(h.x,h.y,h.z).normalize(),g.push(p.x,p.y,p.z),v.push(x,1-b),y.push(u++)}d.push(y)}for(l=0;l<n;l++)for(s=0;s<t;s++){var w=d[l][s+1],_=d[l][s],S=d[l+1][s],E=d[l+1][s+1];(0!==l||o>0)&&f.push(w,_,E),(l!==n-1||c<Math.PI)&&f.push(_,S,E)}this.setIndex(f),this.addAttribute("position",new He(m,3)),this.addAttribute("normal",new He(g,3)),this.addAttribute("uv",new He(v,2))}function Oi(e,t,n,r,i,o){Re.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Pi(e,t,n,r,i,o)),this.mergeVertices()}function Pi(e,t,n,r,i,o){qe.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,l,c=[],u=[],d=[],h=[],p=e,f=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new W,g=new U;for(s=0;s<=r;s++){for(l=0;l<=n;l++)a=i+l/n*o,m.x=p*Math.cos(a),m.y=p*Math.sin(a),u.push(m.x,m.y,m.z),d.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y);p+=f}for(s=0;s<r;s++){var v=s*(n+1);for(l=0;l<n;l++){var y=a=l+v,b=a+n+1,x=a+n+2,w=a+1;c.push(y,b,w),c.push(b,x,w)}}this.setIndex(c),this.addAttribute("position",new He(u,3)),this.addAttribute("normal",new He(d,3)),this.addAttribute("uv",new He(h,2))}function Ri(e,t,n,r){Re.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Ii(e,t,n,r)),this.mergeVertices()}function Ii(e,t,n,r){qe.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=H.clamp(r,0,2*Math.PI);var i,o,a,s=[],l=[],c=[],u=1/t,d=new W,h=new U;for(o=0;o<=t;o++){var p=n+o*u*r,f=Math.sin(p),m=Math.cos(p);for(a=0;a<=e.length-1;a++)d.x=e[a].x*f,d.y=e[a].y,d.z=e[a].x*m,l.push(d.x,d.y,d.z),h.x=o/t,h.y=a/(e.length-1),c.push(h.x,h.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var g=i=a+o*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.addAttribute("position",new He(l,3)),this.addAttribute("uv",new He(c,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,w=new W,_=new W,S=new W;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)w.x=x[a+0],w.y=x[a+1],w.z=x[a+2],_.x=x[i+a+0],_.y=x[i+a+1],_.z=x[i+a+2],S.addVectors(w,_).normalize(),x[a+0]=x[i+a+0]=S.x,x[a+1]=x[i+a+1]=S.y,x[a+2]=x[i+a+2]=S.z}}function Ni(e,t){Re.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new ji(e,t)),this.mergeVertices()}function ji(e,t){qe.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))c(e);else for(var l=0;l<e.length;l++)c(e[l]),this.addGroup(a,s,l),a+=s,s=0;function c(e){var a,l,c,u=r.length/3,d=e.extractPoints(t),h=d.shape,p=d.holes;for(!1===xi.isClockWise(h)&&(h=h.reverse()),a=0,l=p.length;a<l;a++)c=p[a],!0===xi.isClockWise(c)&&(p[a]=c.reverse());var f=xi.triangulateShape(h,p);for(a=0,l=p.length;a<l;a++)c=p[a],h=h.concat(c);for(a=0,l=h.length;a<l;a++){var m=h[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,l=f.length;a<l;a++){var g=f[a],v=g[0]+u,y=g[1]+u,b=g[2]+u;n.push(v,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new He(r,3)),this.addAttribute("normal",new He(i,3)),this.addAttribute("uv",new He(o,2))}function zi(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Di(e,t){qe.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(H.DEG2RAD*t),l=[0,0],c={},u=["a","b","c"];e.isBufferGeometry?(o=new Re).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var d=o.vertices,h=o.faces,p=0,f=h.length;p<f;p++)for(var m=h[p],g=0;g<3;g++)n=m[u[g]],r=m[u[(g+1)%3]],l[0]=Math.min(n,r),l[1]=Math.max(n,r),void 0===c[i=l[0]+","+l[1]]?c[i]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[i].face2=p;for(i in c){var v=c[i];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=s){var y=d[v.index1];a.push(y.x,y.y,y.z),y=d[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new He(a,3))}function Bi(e,t,n,r,i,o,a,s){Re.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Fi(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Fi(e,t,n,r,i,o,a,s){qe.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],u=[],d=[],h=[],p=0,f=[],m=n/2,g=0;function v(n){var i,o,f,v=new U,y=new W,b=0,x=!0===n?e:t,w=!0===n?1:-1;for(o=p,i=1;i<=r;i++)u.push(0,m*w,0),d.push(0,w,0),h.push(.5,.5),p++;for(f=p,i=0;i<=r;i++){var _=i/r*s+a,S=Math.cos(_),E=Math.sin(_);y.x=x*E,y.y=m*w,y.z=x*S,u.push(y.x,y.y,y.z),d.push(0,w,0),v.x=.5*S+.5,v.y=.5*E*w+.5,h.push(v.x,v.y),p++}for(i=0;i<r;i++){var k=o+i,M=f+i;!0===n?c.push(M,M+1,k):c.push(M+1,M,k),b+=3}l.addGroup(g,b,!0===n?1:2),g+=b}!function(){var o,v,y=new W,b=new W,x=0,w=(t-e)/n;for(v=0;v<=i;v++){var _=[],S=v/i,E=S*(t-e)+e;for(o=0;o<=r;o++){var k=o/r,M=k*s+a,C=Math.sin(M),T=Math.cos(M);b.x=E*C,b.y=-S*n+m,b.z=E*T,u.push(b.x,b.y,b.z),y.set(C,w,T).normalize(),d.push(y.x,y.y,y.z),h.push(k,1-S),_.push(p++)}f.push(_)}for(o=0;o<r;o++)for(v=0;v<i;v++){var L=f[v][o],A=f[v+1][o],O=f[v+1][o+1],P=f[v][o+1];c.push(L,A,P),c.push(A,O,P),x+=6}l.addGroup(g,x,0),g+=x}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.addAttribute("position",new He(u,3)),this.addAttribute("normal",new He(d,3)),this.addAttribute("uv",new He(h,2))}function $i(e,t,n,r,i,o,a){Bi.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Hi(e,t,n,r,i,o,a){Fi.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Ui(e,t,n,r){Re.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Vi(e,t,n,r)),this.mergeVertices()}function Vi(e,t,n,r){qe.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],l=[],c=[],u=new W,d=new U;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var h=n+o/t*r;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),l.push(0,0,1),d.x=(s[i]/e+1)/2,d.y=(s[i+1]/e+1)/2,c.push(d.x,d.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new He(s,3)),this.addAttribute("normal",new He(l,3)),this.addAttribute("uv",new He(c,2))}Ci.prototype=Object.create(Re.prototype),Ci.prototype.constructor=Ci,Ti.prototype=Object.create(Ei.prototype),Ti.prototype.constructor=Ti,Li.prototype=Object.create(Re.prototype),Li.prototype.constructor=Li,Ai.prototype=Object.create(qe.prototype),Ai.prototype.constructor=Ai,Oi.prototype=Object.create(Re.prototype),Oi.prototype.constructor=Oi,Pi.prototype=Object.create(qe.prototype),Pi.prototype.constructor=Pi,Ri.prototype=Object.create(Re.prototype),Ri.prototype.constructor=Ri,Ii.prototype=Object.create(qe.prototype),Ii.prototype.constructor=Ii,Ni.prototype=Object.create(Re.prototype),Ni.prototype.constructor=Ni,Ni.prototype.toJSON=function(){var e=Re.prototype.toJSON.call(this);return zi(this.parameters.shapes,e)},ji.prototype=Object.create(qe.prototype),ji.prototype.constructor=ji,ji.prototype.toJSON=function(){var e=qe.prototype.toJSON.call(this);return zi(this.parameters.shapes,e)},Di.prototype=Object.create(qe.prototype),Di.prototype.constructor=Di,Bi.prototype=Object.create(Re.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(qe.prototype),Fi.prototype.constructor=Fi,$i.prototype=Object.create(Bi.prototype),$i.prototype.constructor=$i,Hi.prototype=Object.create(Fi.prototype),Hi.prototype.constructor=Hi,Ui.prototype=Object.create(Re.prototype),Ui.prototype.constructor=Ui,Vi.prototype=Object.create(qe.prototype),Vi.prototype.constructor=Vi;var Gi=Object.freeze({WireframeGeometry:Rr,ParametricGeometry:Ir,ParametricBufferGeometry:Nr,TetrahedronGeometry:Dr,TetrahedronBufferGeometry:Br,OctahedronGeometry:Fr,OctahedronBufferGeometry:$r,IcosahedronGeometry:Hr,IcosahedronBufferGeometry:Ur,DodecahedronGeometry:Vr,DodecahedronBufferGeometry:Gr,PolyhedronGeometry:jr,PolyhedronBufferGeometry:zr,TubeGeometry:Wr,TubeBufferGeometry:qr,TorusKnotGeometry:Xr,TorusKnotBufferGeometry:Yr,TorusGeometry:Jr,TorusBufferGeometry:Kr,TextGeometry:Ci,TextBufferGeometry:Ti,SphereGeometry:Li,SphereBufferGeometry:Ai,RingGeometry:Oi,RingBufferGeometry:Pi,PlaneGeometry:Je,PlaneBufferGeometry:Ke,LatheGeometry:Ri,LatheBufferGeometry:Ii,ShapeGeometry:Ni,ShapeBufferGeometry:ji,ExtrudeGeometry:Si,ExtrudeBufferGeometry:Ei,EdgesGeometry:Di,ConeGeometry:$i,ConeBufferGeometry:Hi,CylinderGeometry:Bi,CylinderBufferGeometry:Fi,CircleGeometry:Ui,CircleBufferGeometry:Vi,BoxGeometry:Xe,BoxBufferGeometry:Ye});function Wi(e){dt.call(this),this.type="ShadowMaterial",this.color=new me(0),this.transparent=!0,this.setValues(e)}function qi(e){ht.call(this,e),this.type="RawShaderMaterial"}function Xi(e){dt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new me(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Yi(e){Xi.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function Ji(e){dt.call(this),this.type="MeshPhongMaterial",this.color=new me(16777215),this.specular=new me(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ki(e){Ji.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Zi(e){dt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Qi(e){dt.call(this),this.type="MeshLambertMaterial",this.color=new me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function eo(e){dt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new me(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new U(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function to(e){_r.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Wi.prototype=Object.create(dt.prototype),Wi.prototype.constructor=Wi,Wi.prototype.isShadowMaterial=!0,Wi.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this},qi.prototype=Object.create(ht.prototype),qi.prototype.constructor=qi,qi.prototype.isRawShaderMaterial=!0,Xi.prototype=Object.create(dt.prototype),Xi.prototype.constructor=Xi,Xi.prototype.isMeshStandardMaterial=!0,Xi.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Yi.prototype=Object.create(Xi.prototype),Yi.prototype.constructor=Yi,Yi.prototype.isMeshPhysicalMaterial=!0,Yi.prototype.copy=function(e){return Xi.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},Ji.prototype=Object.create(dt.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isMeshPhongMaterial=!0,Ji.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ki.prototype=Object.create(Ji.prototype),Ki.prototype.constructor=Ki,Ki.prototype.isMeshToonMaterial=!0,Ki.prototype.copy=function(e){return Ji.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Zi.prototype=Object.create(dt.prototype),Zi.prototype.constructor=Zi,Zi.prototype.isMeshNormalMaterial=!0,Zi.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Qi.prototype=Object.create(dt.prototype),Qi.prototype.constructor=Qi,Qi.prototype.isMeshLambertMaterial=!0,Qi.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},eo.prototype=Object.create(dt.prototype),eo.prototype.constructor=eo,eo.prototype.isMeshMatcapMaterial=!0,eo.prototype.copy=function(e){return dt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},to.prototype=Object.create(_r.prototype),to.prototype.constructor=to,to.prototype.isLineDashedMaterial=!0,to.prototype.copy=function(e){return _r.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var no=Object.freeze({ShadowMaterial:Wi,SpriteMaterial:gr,RawShaderMaterial:qi,ShaderMaterial:ht,PointsMaterial:Mr,MeshPhysicalMaterial:Yi,MeshStandardMaterial:Xi,MeshPhongMaterial:Ji,MeshToonMaterial:Ki,MeshNormalMaterial:Zi,MeshLambertMaterial:Qi,MeshDepthMaterial:Un,MeshDistanceMaterial:Vn,MeshBasicMaterial:mt,MeshMatcapMaterial:eo,LineDashedMaterial:to,LineBasicMaterial:_r,Material:dt}),ro={arraySlice:function(e,t,n){return ro.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,l=0;l!==t;++l)i[a++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};function io(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function oo(e,t,n,r){io.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ao(e,t,n,r){io.call(this,e,t,n,r)}function so(e,t,n,r){io.call(this,e,t,n,r)}function lo(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ro.convertArray(t,this.TimeBufferType),this.values=ro.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function co(e,t,n){lo.call(this,e,t,n)}function uo(e,t,n,r){lo.call(this,e,t,n,r)}function ho(e,t,n,r){lo.call(this,e,t,n,r)}function po(e,t,n,r){io.call(this,e,t,n,r)}function fo(e,t,n,r){lo.call(this,e,t,n,r)}function mo(e,t,n,r){lo.call(this,e,t,n,r)}function go(e,t,n,r){lo.call(this,e,t,n,r)}function vo(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=H.generateUUID(),this.duration<0&&this.resetDuration()}function yo(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ho;case"vector":case"vector2":case"vector3":case"vector4":return go;case"color":return uo;case"quaternion":return fo;case"bool":case"boolean":return co;case"string":return mo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];ro.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(io.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var l=n+o>>>1;e<t[l]?o=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(io.prototype,{beforeStart_:io.prototype.copySampleValue_,afterEnd_:io.prototype.copySampleValue_}),oo.prototype=Object.assign(Object.create(io.prototype),{constructor:oo,DefaultSettings_:{endingStart:D,endingEnd:D},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case B:i=e,a=2*t-n;break;case F:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case B:o=e,s=2*n-t;break;case F:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f,x=0;x!==a;++x)i[x]=g*o[c+x]+v*o[l+x]+y*o[s+x]+b*o[u+x];return i}}),ao.prototype=Object.assign(Object.create(io.prototype),{constructor:ao,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c,d=0;d!==a;++d)i[d]=o[l+d]*u+o[s+d]*c;return i}}),so.prototype=Object.assign(Object.create(io.prototype),{constructor:so,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(lo,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:ro.convertArray(e.times,Array),values:ro.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(lo.prototype,{constructor:lo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:j,InterpolantFactoryMethodDiscrete:function(e){return new so(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new ao(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new oo(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case N:t=this.InterpolantFactoryMethodDiscrete;break;case j:t=this.InterpolantFactoryMethodLinear;break;case z:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return N;case this.InterpolantFactoryMethodLinear:return j;case this.InterpolantFactoryMethodSmooth:return z}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=ro.arraySlice(n,i,o),this.values=ro.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&ro.isTypedArray(r)){a=0;for(var l=r.length;a!==l;++a){var c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===z,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==l[0]))if(r)s=!0;else for(var c=a*n,u=c-n,d=c+n,h=0;h!==n;++h){var p=t[c+h];if(p!==t[u+h]||p!==t[d+h]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var f=a*n,m=i*n;for(h=0;h!==n;++h)t[m+h]=t[f+h]}++i}}if(o>0){e[i]=e[o];for(f=o*n,m=i*n,h=0;h!==n;++h)t[m+h]=t[f+h];++i}return i!==e.length&&(this.times=ro.arraySlice(e,0,i),this.values=ro.arraySlice(t,0,i*n)),this}}),co.prototype=Object.assign(Object.create(lo.prototype),{constructor:co,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:N,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),uo.prototype=Object.assign(Object.create(lo.prototype),{constructor:uo,ValueTypeName:"color"}),ho.prototype=Object.assign(Object.create(lo.prototype),{constructor:ho,ValueTypeName:"number"}),po.prototype=Object.assign(Object.create(io.prototype),{constructor:po,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=(n-t)/(r-t),c=s+a;s!==c;s+=4)G.slerpFlat(i,0,o,s-a,o,s,l);return i}}),fo.prototype=Object.assign(Object.create(lo.prototype),{constructor:fo,ValueTypeName:"quaternion",DefaultInterpolation:j,InterpolantFactoryMethodLinear:function(e){return new po(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),mo.prototype=Object.assign(Object.create(lo.prototype),{constructor:mo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:N,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),go.prototype=Object.assign(Object.create(lo.prototype),{constructor:go,ValueTypeName:"vector"}),Object.assign(vo,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(yo(n[i]).scale(r));return new vo(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(lo.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var c=ro.getKeyframeOrder(s);s=ro.sortedArray(s,1,c),l=ro.sortedArray(l,1,c),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new ho(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new vo(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(i);if(l&&l.length>1){var c=r[d=l[1]];c||(r[d]=c=[]),c.push(s)}}var u=[];for(var d in r)u.push(vo.CreateFromMorphTargetSequence(d,r[d],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];ro.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},d=0;d<c.length;d++)if(c[d].morphTargets)for(var h=0;h<c[d].morphTargets.length;h++)u[c[d].morphTargets[h]]=-1;for(var p in u){var f=[],m=[];for(h=0;h!==c[d].morphTargets.length;++h){var g=c[d];f.push(g.time),m.push(g.morphTarget===p?1:0)}r.push(new ho(".morphTargetInfluence["+p+"]",f,m))}o=u.length*a}else{var v=".bones["+t[l].name+"]";n(go,v+".position",c,"pos",r),n(fo,v+".quaternion",c,"rot",r),n(go,v+".scale",c,"scl",r)}}return 0===r.length?null:new vo(i,o,r)}}),Object.assign(vo.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}});var bo={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function xo(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var wo=new xo,_o={};function So(e){this.manager=void 0!==e?e:wo}function Eo(e){this.manager=void 0!==e?e:wo}function ko(e){this.manager=void 0!==e?e:wo}function Mo(e){this.manager=void 0!==e?e:wo}function Co(){this.type="Curve",this.arcLengthDivisions=200}function To(e,t,n,r,i,o,a,s){Co.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Lo(e,t,n,r,i,o){To.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Ao(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,l*=a,c*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}Object.assign(So.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=bo.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===_o[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],l=!!a[2],c=a[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var u,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var h=new Uint8Array(c.length),p=0;p<c.length;p++)h[p]=c.charCodeAt(p);u="blob"===d?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var f=new DOMParser;u=f.parseFromString(c,s);break;case"json":u=JSON.parse(c);break;default:u=c}setTimeout((function(){t&&t(u),i.manager.itemEnd(e)}),0)}catch(v){setTimeout((function(){r&&r(v),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{_o[e]=[],_o[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;bo.add(e,n);var r=_o[e];if(delete _o[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){(s=r[o]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=_o[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=_o[e];delete _o[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=_o[e];delete _o[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}_o[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:wo}.prototype,{load:function(e,t,n,r){var i=this,o=new So(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=vo.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:wo,this._parser=null}.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new Lr;a.image=o;var s=new So(this.manager);function l(l){s.load(e[l],(function(e){var n=i._parser(e,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=E),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,u=0,d=e.length;u<d;++u)l(u);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=E),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:wo,this._parser=null}.prototype,{load:function(e,t,n,r){var i=this,o=new ae,a=new So(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:b,o.wrapT=void 0!==n.wrapT?n.wrapT:b,o.magFilter=void 0!==n.magFilter?n.magFilter:E,o.minFilter=void 0!==n.minFilter?n.minFilter:k,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=E),o.needsUpdate=!0,t&&t(o,n))}),n,r),o},setPath:function(e){return this.path=e,this}}),Object.assign(Eo.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=bo.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),bo.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(ko.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Tt,o=new Eo(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Mo.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new te,o=new Eo(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?O:P,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Co.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new W,a=[],s=[],l=[],c=new W,u=new V;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new W,l[0]=new W;var d=Number.MAX_VALUE,h=Math.abs(a[0].x),p=Math.abs(a[0].y),f=Math.abs(a[0].z);for(h<=d&&(d=h,o.set(1,0,0)),p<=d&&(d=p,o.set(0,1,0)),f<=d&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),l[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(H.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(c,i))),l[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(H.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(c.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(a[n],i*n)),l[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),To.prototype=Object.create(Co.prototype),To.prototype.constructor=To,To.prototype.isEllipseCurve=!0,To.prototype.getPoint=function(e,t){for(var n=t||new U,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*c-h*u+this.aX,l=d*u+h*c+this.aY}return n.set(s,l)},To.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},To.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},To.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Lo.prototype=Object.create(To.prototype),Lo.prototype.constructor=Lo,Lo.prototype.isArcCurve=!0;var Oo=new W,Po=new Ao,Ro=new Ao,Io=new Ao;function No(e,t,n,r){Co.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function jo(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function zo(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Do(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function Bo(e,t,n,r){Co.call(this),this.type="CubicBezierCurve",this.v0=e||new U,this.v1=t||new U,this.v2=n||new U,this.v3=r||new U}function Fo(e,t,n,r){Co.call(this),this.type="CubicBezierCurve3",this.v0=e||new W,this.v1=t||new W,this.v2=n||new W,this.v3=r||new W}function $o(e,t){Co.call(this),this.type="LineCurve",this.v1=e||new U,this.v2=t||new U}function Ho(e,t){Co.call(this),this.type="LineCurve3",this.v1=e||new W,this.v2=t||new W}function Uo(e,t,n){Co.call(this),this.type="QuadraticBezierCurve",this.v0=e||new U,this.v1=t||new U,this.v2=n||new U}function Vo(e,t,n){Co.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new W,this.v1=t||new W,this.v2=n||new W}function Go(e){Co.call(this),this.type="SplineCurve",this.points=e||[]}No.prototype=Object.create(Co.prototype),No.prototype.constructor=No,No.prototype.isCatmullRomCurve3=!0,No.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new W,s=this.points,l=s.length,c=(l-(this.closed?0:1))*e,u=Math.floor(c),d=c-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/l)+1)*l:0===d&&u===l-1&&(u=l-2,d=1),this.closed||u>0?n=s[(u-1)%l]:(Oo.subVectors(s[0],s[1]).add(s[0]),n=Oo),r=s[u%l],i=s[(u+1)%l],this.closed||u+2<l?o=s[(u+2)%l]:(Oo.subVectors(s[l-1],s[l-2]).add(s[l-1]),o=Oo),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,p=Math.pow(n.distanceToSquared(r),h),f=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(o),h);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),Po.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,p,f,m),Ro.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,p,f,m),Io.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,p,f,m)}else"catmullrom"===this.curveType&&(Po.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),Ro.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),Io.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(Po.calc(d),Ro.calc(d),Io.calc(d)),a},No.prototype.copy=function(e){Co.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},No.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},No.prototype.fromJSON=function(e){Co.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new W).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Bo.prototype=Object.create(Co.prototype),Bo.prototype.constructor=Bo,Bo.prototype.isCubicBezierCurve=!0,Bo.prototype.getPoint=function(e,t){var n=t||new U,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Do(e,r.x,i.x,o.x,a.x),Do(e,r.y,i.y,o.y,a.y)),n},Bo.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Bo.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Bo.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Fo.prototype=Object.create(Co.prototype),Fo.prototype.constructor=Fo,Fo.prototype.isCubicBezierCurve3=!0,Fo.prototype.getPoint=function(e,t){var n=t||new W,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Do(e,r.x,i.x,o.x,a.x),Do(e,r.y,i.y,o.y,a.y),Do(e,r.z,i.z,o.z,a.z)),n},Fo.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Fo.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Fo.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},$o.prototype=Object.create(Co.prototype),$o.prototype.constructor=$o,$o.prototype.isLineCurve=!0,$o.prototype.getPoint=function(e,t){var n=t||new U;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},$o.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},$o.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},$o.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},$o.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},$o.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ho.prototype=Object.create(Co.prototype),Ho.prototype.constructor=Ho,Ho.prototype.isLineCurve3=!0,Ho.prototype.getPoint=function(e,t){var n=t||new W;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Ho.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ho.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ho.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ho.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Uo.prototype=Object.create(Co.prototype),Uo.prototype.constructor=Uo,Uo.prototype.isQuadraticBezierCurve=!0,Uo.prototype.getPoint=function(e,t){var n=t||new U,r=this.v0,i=this.v1,o=this.v2;return n.set(zo(e,r.x,i.x,o.x),zo(e,r.y,i.y,o.y)),n},Uo.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Uo.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Uo.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Vo.prototype=Object.create(Co.prototype),Vo.prototype.constructor=Vo,Vo.prototype.isQuadraticBezierCurve3=!0,Vo.prototype.getPoint=function(e,t){var n=t||new W,r=this.v0,i=this.v1,o=this.v2;return n.set(zo(e,r.x,i.x,o.x),zo(e,r.y,i.y,o.y),zo(e,r.z,i.z,o.z)),n},Vo.prototype.copy=function(e){return Co.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Vo.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Vo.prototype.fromJSON=function(e){return Co.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Go.prototype=Object.create(Co.prototype),Go.prototype.constructor=Go,Go.prototype.isSplineCurve=!0,Go.prototype.getPoint=function(e,t){var n=t||new U,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(jo(a,s.x,l.x,c.x,u.x),jo(a,s.y,l.y,c.y,u.y)),n},Go.prototype.copy=function(e){Co.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Go.prototype.toJSON=function(){var e=Co.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Go.prototype.fromJSON=function(e){Co.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new U).fromArray(r))}return this};var Wo=Object.freeze({ArcCurve:Lo,CatmullRomCurve3:No,CubicBezierCurve:Bo,CubicBezierCurve3:Fo,EllipseCurve:To,LineCurve:$o,LineCurve3:Ho,QuadraticBezierCurve:Uo,QuadraticBezierCurve3:Vo,SplineCurve:Go});function qo(){Co.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Xo(e){qo.call(this),this.type="Path",this.currentPoint=new U,e&&this.setFromPoints(e)}function Yo(e){Xo.call(this,e),this.uuid=H.generateUUID(),this.type="Shape",this.holes=[]}function Jo(e,t){Le.call(this),this.type="Light",this.color=new me(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Ko(e,t,n){Jo.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Le.DefaultUp),this.updateMatrix(),this.groundColor=new me(t)}function Zo(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new U(512,512),this.map=null,this.matrix=new V}function Qo(){Zo.call(this,new Kn(50,1,.5,500))}function ea(e,t,n,r,i,o){Jo.call(this,e,t),this.type="SpotLight",this.position.copy(Le.DefaultUp),this.updateMatrix(),this.target=new Le,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Qo}function ta(e,t,n,r){Jo.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Zo(new Kn(90,1,.5,500))}function na(e,t,n,r,i,o){Jn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function ra(){Zo.call(this,new na(-5,5,5,-5,.5,500))}function ia(e,t){Jo.call(this,e,t),this.type="DirectionalLight",this.position.copy(Le.DefaultUp),this.updateMatrix(),this.target=new Le,this.shadow=new ra}function oa(e,t){Jo.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function aa(e,t,n,r){Jo.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function sa(e){this.manager=void 0!==e?e:wo,this.textures={}}qo.prototype=Object.assign(Object.create(Co.prototype),{constructor:qo,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new $o(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),l=0;l<s.length;l++){var c=s[l];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Co.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Co.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Co.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Wo[r.type]).fromJSON(r))}return this}}),Xo.prototype=Object.assign(Object.create(qo.prototype),{constructor:Xo,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new $o(this.currentPoint.clone(),new U(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new Uo(this.currentPoint.clone(),new U(e,t),new U(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new Bo(this.currentPoint.clone(),new U(e,t),new U(n,r),new U(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=new Go([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+l,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var l=new To(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return qo.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=qo.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return qo.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Yo.prototype=Object.assign(Object.create(Xo.prototype),{constructor:Yo,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Xo.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Xo.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Xo.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Xo).fromJSON(r))}return this}}),Jo.prototype=Object.assign(Object.create(Le.prototype),{constructor:Jo,isLight:!0,copy:function(e){return Le.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Ko.prototype=Object.assign(Object.create(Jo.prototype),{constructor:Ko,isHemisphereLight:!0,copy:function(e){return Jo.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Zo.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Qo.prototype=Object.assign(Object.create(Zo.prototype),{constructor:Qo,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*H.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),ea.prototype=Object.assign(Object.create(Jo.prototype),{constructor:ea,isSpotLight:!0,copy:function(e){return Jo.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),ta.prototype=Object.assign(Object.create(Jo.prototype),{constructor:ta,isPointLight:!0,copy:function(e){return Jo.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),na.prototype=Object.assign(Object.create(Jn.prototype),{constructor:na,isOrthographicCamera:!0,copy:function(e,t){return Jn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height;o=(i+=u*(this.view.offsetX/l))+u*(this.view.width/l),s=(a-=d*(this.view.offsetY/c))-d*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Le.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),ra.prototype=Object.assign(Object.create(Zo.prototype),{constructor:ra}),ia.prototype=Object.assign(Object.create(Jo.prototype),{constructor:ia,isDirectionalLight:!0,copy:function(e){return Jo.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),oa.prototype=Object.assign(Object.create(Jo.prototype),{constructor:oa,isAmbientLight:!0}),aa.prototype=Object.assign(Object.create(Jo.prototype),{constructor:aa,isRectAreaLight:!0,copy:function(e){return Jo.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Jo.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(sa.prototype,{load:function(e,t,n,r){var i=this,o=new So(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new no[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new me).setHex(o.value);break;case"v2":r.uniforms[i].value=(new U).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new W).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new ne).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new q).fromArray(o.value);case"m4":r.uniforms[i].value=(new V).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new U).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var la=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function ca(e){this.manager=void 0!==e?e:wo}Object.assign(ca.prototype,{load:function(e,t,n,r){var i=this,o=new So(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new qe,n=e.data.index;if(void 0!==n){var r=new ua[n.type](n.array);t.setIndex(new Ie(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o];r=new ua[a.type](a.array);t.addAttribute(o,new Ie(r,a.itemSize,a.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var l=0,c=s.length;l!==c;++l){var u=s[l];t.addGroup(u.start,u.count,u.materialIndex)}var d=e.data.boundingSphere;if(void 0!==d){var h=new W;void 0!==d.center&&h.fromArray(d.center),t.boundingSphere=new le(h,d.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var ua={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function da(e){this.manager=void 0!==e?e:wo,this.resourcePath=""}Object.assign(da.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,o=void 0===this.path?la(e):this.path;this.resourcePath=this.resourcePath||o;var a=new So(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Yo).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new ca,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Gi[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Gi[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Gi[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Gi[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Gi[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Gi[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Gi[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Gi[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Gi[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Gi[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Gi[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Gi[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var d=t[s.shapes[c]];l.push(d)}a=new Gi[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],c=0,u=s.shapes.length;c<u;c++){d=t[s.shapes[c]];l.push(d)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new Wo[h.type]).fromJSON(h)),a=new Gi[s.type](l,s.options);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new sa;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),l.push(n[u.uuid])}r[s.uuid]=l}else r[s.uuid]=i.parse(s),n[s.uuid]=r[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=vo.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new Eo(new xo(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var l=e[a],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(var u=0,d=c.length;u<d;u++){var h=c[u],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[l.uuid].push(i(p))}}else{p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url;r[l.uuid]=i(p)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new Tt(t[s.image]):new te(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,va)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],ya),a.wrapT=n(s.wrap[1],ya)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,ba)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,ba)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new pr,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new me(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new hr(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new dr(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Kn(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new na(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new oa(e.color,e.intensity);break;case"DirectionalLight":r=new ia(e.color,e.intensity);break;case"PointLight":r=new ta(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new aa(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new ea(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Ko(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);r=a.bones&&a.bones.length>0?new br(a,s):new gt(a,s);break;case"LOD":r=new yr;break;case"Line":r=new Sr(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new kr(i(e.geometry),o(e.material));break;case"LineSegments":r=new Er(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new Cr(i(e.geometry),o(e.material));break;case"Sprite":r=new vr(o(e.material));break;case"Group":r=new Yn;break;default:r=new Le}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,c=0;c<l.length;c++)r.add(this.parseObject(l[c],t,n));if("LOD"===e.type)for(var u=e.levels,d=0;d<u.length;d++){var h=u[d],p=r.getObjectByProperty("uuid",h.object);void 0!==p&&r.addLevel(p,h.distance)}return r}});var ha,pa,fa,ma,ga,va={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},ya={RepeatWrapping:y,ClampToEdgeWrapping:b,MirroredRepeatWrapping:x},ba={NearestFilter:w,NearestMipMapNearestFilter:_,NearestMipMapLinearFilter:S,LinearFilter:E,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:k};function xa(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:wo,this.options=void 0}function wa(){this.type="ShapePath",this.color=new me,this.subPaths=[],this.currentPath=null}function _a(e){this.type="Font",this.data=e}function Sa(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,l,c,u,d,h,p,f=new wa;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*t+n,s=m[g++]*t+r,f.moveTo(a,s);break;case"l":a=m[g++]*t+n,s=m[g++]*t+r,f.lineTo(a,s);break;case"q":l=m[g++]*t+n,c=m[g++]*t+r,u=m[g++]*t+n,d=m[g++]*t+r,f.quadraticCurveTo(u,d,l,c);break;case"b":l=m[g++]*t+n,c=m[g++]*t+r,u=m[g++]*t+n,d=m[g++]*t+r,h=m[g++]*t+n,p=m[g++]*t+r,f.bezierCurveTo(u,d,h,p,l,c)}}return{offsetX:o.ha*t,path:f}}}function Ea(){}xa.prototype={constructor:xa,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=bo.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){bo.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}))},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(wa.prototype,{moveTo:function(e,t){this.currentPath=new Xo,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Yo;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],l=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],l=-l,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=c*(e.x-a.x)-l*(e.y-a.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=xi.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,l,c=[];if(1===o.length)return s=o[0],(l=new Yo).curves=s.curves,c.push(l),c;var u=!i(o[0].getPoints());u=e?!u:u;var d,h,p=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(d=(s=o[v]).getPoints()),(a=e?!a:a)?(!u&&f[g]&&g++,f[g]={s:new Yo,p:d},f[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:d[0]});if(!f[0])return n(o);if(f.length>1){for(var b=!1,x=[],w=0,_=f.length;w<_;w++)p[w]=[];for(w=0,_=f.length;w<_;w++)for(var S=m[w],E=0;E<S.length;E++){for(var k=S[E],M=!0,C=0;C<f.length;C++)r(k.p,f[C].p)&&(w!==C&&x.push({froms:w,tos:C,hole:E}),M?(M=!1,p[C].push(k)):b=!0);M&&p[w].push(k)}x.length>0&&(b||(m=p))}v=0;for(var T=f.length;v<T;v++){l=f[v].s,c.push(l);for(var L=0,A=(h=m[v]).length;L<A;L++)l.holes.push(h[L].h)}return c}}),Object.assign(_a.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,l=0,c=0;c<r.length;c++){var u=r[c];if("\n"===u)s=0,l-=o;else{var d=Sa(u,i,s,l,n);s+=d.offsetX,a.push(d.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(function(e){this.manager=void 0!==e?e:wo}.prototype,{load:function(e,t,n,r){var i=this,o=new So(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(gG){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new _a(e)},setPath:function(e){return this.path=e,this}}),Ea.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(Ea.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:(ha={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},pa=new me,fa=new Mo,ma=new sa,function(e,t,n){var r={};function i(e,i,o,a,s){var l,c=t+e,u=Ea.Handlers.get(c);null!==u?l=u.load(c):(fa.setCrossOrigin(n),l=fa.load(c)),void 0!==i&&(l.repeat.fromArray(i),1!==i[0]&&(l.wrapS=y),1!==i[1]&&(l.wrapT=y)),void 0!==o&&l.offset.fromArray(o),void 0!==a&&("repeat"===a[0]&&(l.wrapS=y),"mirror"===a[0]&&(l.wrapS=x),"repeat"===a[1]&&(l.wrapT=y),"mirror"===a[1]&&(l.wrapT=x)),void 0!==s&&(l.anisotropy=s);var d=H.generateUUID();return r[d]=l,d}var o={uuid:H.generateUUID(),type:"MeshLambertMaterial"};for(var a in e){var s=e[a];switch(a){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"DbgName":o.name=s;break;case"blending":o.blending=ha[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",a,"is no longer supported.");break;case"colorDiffuse":o.color=pa.fromArray(s).getHex();break;case"colorSpecular":o.specular=pa.fromArray(s).getHex();break;case"colorEmissive":o.emissive=pa.fromArray(s).getHex();break;case"specularCoef":o.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(o.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(o.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(o.type="MeshStandardMaterial");break;case"mapDiffuse":o.map=i(s,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapEmissive":o.emissiveMap=i(s,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapLight":o.lightMap=i(s,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapAO":o.aoMap=i(s,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapBump":o.bumpMap=i(s,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":o.bumpScale=s;break;case"mapNormal":o.normalMap=i(s,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":o.normalScale=s;break;case"mapSpecular":o.specularMap=i(s,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapMetalness":o.metalnessMap=i(s,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapRoughness":o.roughnessMap=i(s,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapAlpha":o.alphaMap=i(s,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"flipSided":o.side=1;break;case"doubleSided":o.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),o.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":o[a]=s;break;case"vertexColors":!0===s&&(o.vertexColors=2),"face"===s&&(o.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",a,s)}}return"MeshBasicMaterial"===o.type&&delete o.emissive,"MeshPhongMaterial"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),ma.setTextures(r),ma.parse(o)})});var ka,Ma,Ca,Ta,La,Aa,Oa,Pa,Ra,Ia,Na=function(){return void 0===ga&&(ga=new(window.AudioContext||window.webkitAudioContext)),ga};function ja(e){this.manager=void 0!==e?e:wo}function za(e,t,n,r){Le.call(this),this.type="CubeCamera";var i=90,o=new Kn(i,1,e,t);o.up.set(0,-1,0),o.lookAt(new W(1,0,0)),this.add(o);var a=new Kn(i,1,e,t);a.up.set(0,-1,0),a.lookAt(new W(-1,0,0)),this.add(a);var s=new Kn(i,1,e,t);s.up.set(0,0,1),s.lookAt(new W(0,1,0)),this.add(s);var l=new Kn(i,1,e,t);l.up.set(0,0,-1),l.lookAt(new W(0,-1,0)),this.add(l);var c=new Kn(i,1,e,t);c.up.set(0,-1,0),c.lookAt(new W(0,0,1)),this.add(c);var u=new Kn(i,1,e,t);u.up.set(0,-1,0),u.lookAt(new W(0,0,-1)),this.add(u),r=r||{format:O,magFilter:E,minFilter:E},this.renderTarget=new oe(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,i=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,o,r),r.activeCubeFace=1,e.render(t,a,r),r.activeCubeFace=2,e.render(t,s,r),r.activeCubeFace=3,e.render(t,l,r),r.activeCubeFace=4,e.render(t,c,r),r.texture.generateMipmaps=i,r.activeCubeFace=5,e.render(t,u,r),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)o.activeCubeFace=a,e.setRenderTarget(o),e.clear(t,n,r);e.setRenderTarget(i)}}function Da(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ba(){Le.call(this),this.type="AudioListener",this.context=Na(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Fa(e){Le.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function $a(e){Fa.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ha(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Ua(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(ja.prototype,{load:function(e,t,n,r){var i=new So(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);Na().decodeAudioData(n,(function(e){t(e)}))}),n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Kn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Kn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:(Ra=new V,Ia=new V,function(e){if(ka!==this||Ma!==e.focus||Ca!==e.fov||Ta!==e.aspect*this.aspect||La!==e.near||Aa!==e.far||Oa!==e.zoom||Pa!==this.eyeSep){ka=this,Ma=e.focus,Ca=e.fov,Ta=e.aspect*this.aspect,La=e.near,Aa=e.far,Oa=e.zoom;var t,n,r=e.projectionMatrix.clone(),i=(Pa=this.eyeSep/2)*La/Ma,o=La*Math.tan(H.DEG2RAD*Ca*.5)/Oa;Ia.elements[12]=-Pa,Ra.elements[12]=Pa,t=-o*Ta+i,n=o*Ta+i,r.elements[0]=2*La/(n-t),r.elements[8]=(n+t)/(n-t),this.cameraL.projectionMatrix.copy(r),t=-o*Ta-i,n=o*Ta-i,r.elements[0]=2*La/(n-t),r.elements[8]=(n+t)/(n-t),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ia),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ra)})}),za.prototype=Object.create(Le.prototype),za.prototype.constructor=za,Object.assign(Da.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Ba.prototype=Object.assign(Object.create(Le.prototype),{constructor:Ba,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new W,t=new G,n=new W,r=new W,i=new Da;return function(o){Le.prototype.updateMatrixWorld.call(this,o);var a=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),a.positionX){var l=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(e.x,l),a.positionY.linearRampToValueAtTime(e.y,l),a.positionZ.linearRampToValueAtTime(e.z,l),a.forwardX.linearRampToValueAtTime(r.x,l),a.forwardY.linearRampToValueAtTime(r.y,l),a.forwardZ.linearRampToValueAtTime(r.z,l),a.upX.linearRampToValueAtTime(s.x,l),a.upY.linearRampToValueAtTime(s.y,l),a.upZ.linearRampToValueAtTime(s.z,l)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),Fa.prototype=Object.assign(Object.create(Le.prototype),{constructor:Fa,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.detune.value=this.detune,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){return this.detune=e,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),$a.prototype=Object.assign(Object.create(Fa.prototype),{constructor:$a,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new W,t=new G,n=new W,r=new W;return function(i){if(Le.prototype.updateMatrixWorld.call(this,i),!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var o=this.panner;if(o.positionX){var a=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(e.x,a),o.positionY.linearRampToValueAtTime(e.y,a),o.positionZ.linearRampToValueAtTime(e.z,a),o.orientationX.linearRampToValueAtTime(r.x,a),o.orientationY.linearRampToValueAtTime(r.y,a),o.orientationZ.linearRampToValueAtTime(r.z,a)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(Ha.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Ua.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){G.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var Va,Ga,Wa,qa,Xa,Ya,Ja,Ka,Za,Qa,es,ts,ns,rs,is,os="\\[\\]\\.:\\/";function as(e,t,n){var r=n||ss.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function ss(e,t,n){this.path=t,this.parsedPath=n||ss.parseTrackName(t),this.node=ss.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function ls(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:D,endingEnd:D},s=0;s!==i;++s){var l=r[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function cs(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function us(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function ds(){qe.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function hs(e,t,n){fr.call(this,e,t),this.meshPerAttribute=n||1}function ps(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ie.call(this,e,t,n),this.meshPerAttribute=r||1}function fs(e,t){return e.distance-t.distance}function ms(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)ms(i[o],t,n,!0)}function gs(e,t){this.min=void 0!==e?e:new U(1/0,1/0),this.max=void 0!==t?t:new U(-1/0,-1/0)}function vs(e,t){this.start=void 0!==e?e:new W,this.end=void 0!==t?t:new W}function ys(e){Le.call(this),this.material=e,this.render=function(){}}function bs(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new qe,c=new He(2*a*3,3);l.addAttribute("position",c),Er.call(this,l,new _r({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function xs(e,t){Le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new qe,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new He(r,3));var l=new _r({fog:!1});this.cone=new Er(n,l),this.add(this.cone),this.update()}function ws(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,ws(e.children[n]));return t}function _s(e){for(var t=ws(e),n=new qe,r=[],i=[],o=new me(0,0,1),a=new me(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new He(r,3)),n.addAttribute("color",new He(i,3));var c=new _r({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Er.call(this,n,c),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ss(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Ai(t,4,2),i=new mt({wireframe:!0,fog:!1});gt.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Es(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new qe;n.addAttribute("position",new He([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new _r({fog:!1});Sr.call(this,n,r);var i=new qe;i.addAttribute("position",new He([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new gt(i,new mt({side:THREE.BackSide,fog:!1}))),this.update()}function ks(e,t,n){Le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new $r(t);r.rotateY(.5*Math.PI),this.material=new mt({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new Ie(o,3)),this.add(new gt(r,this.material)),this.update()}function Ms(e,t,n,r){e=e||10,t=t||10,n=new me(void 0!==n?n:4473924),r=new me(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],l=[],c=0,u=0,d=-a;c<=t;c++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);var h=c===i?n:r;h.toArray(l,u),u+=3,h.toArray(l,u),u+=3,h.toArray(l,u),u+=3,h.toArray(l,u),u+=3}var p=new qe;p.addAttribute("position",new He(s,3)),p.addAttribute("color",new He(l,3));var f=new _r({vertexColors:2});Er.call(this,p,f)}function Cs(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new me(void 0!==i?i:4473924),o=new me(void 0!==o?o:8947848);var a,s,l,c,u,d,h,p=[],f=[];for(c=0;c<=t;c++)l=c/t*(2*Math.PI),a=Math.sin(l)*e,s=Math.cos(l)*e,p.push(0,0,0),p.push(a,0,s),h=1&c?i:o,f.push(h.r,h.g,h.b),f.push(h.r,h.g,h.b);for(c=0;c<=n;c++)for(h=1&c?i:o,d=e-e/n*c,u=0;u<r;u++)l=u/r*(2*Math.PI),a=Math.sin(l)*d,s=Math.cos(l)*d,p.push(a,0,s),f.push(h.r,h.g,h.b),l=(u+1)/r*(2*Math.PI),a=Math.sin(l)*d,s=Math.cos(l)*d,p.push(a,0,s),f.push(h.r,h.g,h.b);var m=new qe;m.addAttribute("position",new He(p,3)),m.addAttribute("color",new He(f,3));var g=new _r({vertexColors:2});Er.call(this,m,g)}function Ts(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new qe,c=new He(2*a*3,3);l.addAttribute("position",c),Er.call(this,l,new _r({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Ls(e,t,n){Le.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new qe;r.addAttribute("position",new He([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new _r({fog:!1});this.lightPlane=new Sr(r,i),this.add(this.lightPlane),(r=new qe).addAttribute("position",new He([0,0,0,0,0,1],3)),this.targetLine=new Sr(r,i),this.add(this.targetLine),this.update()}function As(e){var t=new qe,n=new _r({color:16777215,vertexColors:1}),r=[],i=[],o={},a=new me(16755200),s=new me(16711680),l=new me(43775),c=new me(16777215),u=new me(3355443);function d(e,t,n){h(e,n),h(t,n)}function h(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",l),d("u2","u3",l),d("u3","u1",l),d("c","t",c),d("p","c",u),d("cn1","cn2",u),d("cn3","cn4",u),d("cf1","cf2",u),d("cf3","cf4",u),t.addAttribute("position",new He(r,3)),t.addAttribute("color",new He(i,3)),Er.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Os(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new qe;i.setIndex(new Ie(n,1)),i.addAttribute("position",new Ie(r,3)),Er.call(this,i,new _r({color:t})),this.matrixAutoUpdate=!1,this.update()}function Ps(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new qe;i.setIndex(new Ie(r,1)),i.addAttribute("position",new He([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Er.call(this,i,new _r({color:n})),this.geometry.computeBoundingSphere()}function Rs(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new qe;i.addAttribute("position",new He([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Sr.call(this,i,new _r({color:r}));var o=new qe;o.addAttribute("position",new He([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new gt(o,new mt({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Is(e,t,n,r,i,o){Le.call(this),void 0===e&&(e=new THREE.Vector3(0,0,1)),void 0===t&&(t=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===ts&&((ts=new qe).addAttribute("position",new He([0,0,0,0,1,0],3)),(ns=new Fi(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Sr(ts,new _r({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new gt(ns,new mt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Ns(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new qe;n.addAttribute("position",new He(t,3)),n.addAttribute("color",new He([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new _r({vertexColors:2});Er.call(this,n,r)}function js(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),No.call(this,e),this.type="catmullrom"}Object.assign(as.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(ss,{Composite:as,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new ss.Composite(e,t,n):new ss(e,t,n)},sanitizeNodeName:(Za=new RegExp("["+os+"]","g"),function(e){return e.replace(/\s/g,"_").replace(Za,"")}),parseTrackName:(Va="[^"+os+"]",Ga="[^"+os.replace("\\.","")+"]",Wa=/((?:WC+[\/:])*)/.source.replace("WC",Va),qa=/(WCOD+)?/.source.replace("WCOD",Ga),Xa=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Va),Ya=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Va),Ja=new RegExp("^"+Wa+qa+Xa+Ya+"$"),Ka=["material","materials","bones"],function(e){var t=Ja.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Ka.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var o=r(i.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(ss.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=ss.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(ss.prototype,{_getValue_unbound:ss.prototype.getValue,_setValue_unbound:ss.prototype.setValue}),Object.assign(function(){this.uuid=H.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var d=arguments[c],h=d.uuid,p=r[h];if(void 0===p){p=t++,r[h]=p,e.push(d);for(var f=0,m=s;f!==m;++f)a[f].push(new ss(d,i[f],o[f]))}else if(p<n){l=e[p];var g=--n,v=e[g];r[v.uuid]=p,e[p]=v,r[h]=g,e[g]=d;for(f=0,m=s;f!==m;++f){var y=a[f],b=y[g],x=y[p];y[p]=b,void 0===x&&(x=new ss(d,i[f],o[f])),y[g]=x}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,c=n[l];if(void 0!==c&&c>=t){var u=t++,d=e[u];n[d.uuid]=c,e[c]=d,n[l]=u,e[u]=s;for(var h=0,p=i;h!==p;++h){var f=r[h],m=f[u],g=f[c];f[c]=m,f[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a].uuid,c=r[l];if(void 0!==c)if(delete r[l],c<n){var u=--n,d=e[u],h=e[v=--t];r[d.uuid]=c,e[c]=d,r[h.uuid]=u,e[u]=h,e.pop();for(var p=0,f=o;p!==f;++p){var m=(y=i[p])[u],g=y[v];y[c]=m,y[u]=g,y.pop()}}else{var v;r[(h=e[v=--t]).uuid]=c,e[c]=h,e.pop();for(p=0,f=o;p!==f;++p){var y;(y=i[p])[c]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(var d=c,h=s.length;d!==h;++d){var p=s[d];u[d]=new ss(p,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(ls.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i||!o||1&~i?t:n-t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&!(1&~i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=B,r.endingEnd=B):(r.endingStart=e?this.zeroSlopeAtStart?B:D:F,r.endingEnd=t?this.zeroSlopeAtEnd?B:D:F)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),cs.prototype=Object.assign(Object.create(i.prototype),{constructor:cs,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==i;++u){var d=r[u],h=d.name,p=c[h];if(void 0!==p)o[u]=p;else{if(void 0!==(p=o[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,h));continue}var f=t&&t._propertyBindings[u].binding.parsedPath;++(p=new Ua(ss.create(n,h,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,h),o[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new ao(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?vo.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[r];if(void 0!==l)return l;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new ls(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?vo.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}var s=this._bindings,l=this._nActiveBindings;for(a=0;a!==l;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),us.prototype.clone=function(){return new us(void 0===this.value.clone?this.value:this.value.clone())},ds.prototype=Object.assign(Object.create(qe.prototype),{constructor:ds,isInstancedBufferGeometry:!0,copy:function(e){return qe.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),hs.prototype=Object.assign(Object.create(fr.prototype),{constructor:hs,isInstancedInterleavedBuffer:!0,copy:function(e){return fr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),ps.prototype=Object.assign(Object.create(Ie.prototype),{constructor:ps,isInstancedBufferAttribute:!0,copy:function(e){return Ie.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,n,r){this.ray=new pt(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return ms(e,this,r,t),r.sort(fs),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)ms(e[i],this,r,t);return r.sort(fs),r}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(H.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(gs.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new U;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new U),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new U),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new U),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new U),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new U;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(vs.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new W),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new W),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new W),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(Qa=new W,es=new W,function(e,t){Qa.subVectors(e,this.start),es.subVectors(this.end,this.start);var n=es.dot(es),r=es.dot(Qa)/n;return t&&(r=H.clamp(r,0,1)),r}),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new W),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),ys.prototype=Object.create(Le.prototype),ys.prototype.constructor=ys,ys.prototype.isImmediateRenderObject=!0,bs.prototype=Object.create(Er.prototype),bs.prototype.constructor=bs,bs.prototype.update=function(){var e=new W,t=new W,n=new q;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,c=0,u=0,d=l.length;u<d;u++)for(var h=l[u],p=0,f=h.vertexNormals.length;p<f;p++){var m=s[h[r[p]]],g=h.vertexNormals[p];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(c=0,p=0,f=v.count;p<f;p++)e.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(i),t.set(y.getX(p),y.getY(p),y.getZ(p)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}o.needsUpdate=!0}}(),xs.prototype=Object.create(Le.prototype),xs.prototype.constructor=xs,xs.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},xs.prototype.update=function(){var e=new W;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),_s.prototype=Object.create(Er.prototype),_s.prototype.constructor=_s,_s.prototype.updateMatrixWorld=function(){var e=new W,t=new V,n=new V;return function(r){var i=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<i.length;s++){var c=i[s];c.parent&&c.parent.isBone&&(t.multiplyMatrices(n,c.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l,e.x,e.y,e.z),t.multiplyMatrices(n,c.parent.matrixWorld),e.setFromMatrixPosition(t),a.setXYZ(l+1,e.x,e.y,e.z),l+=2)}o.getAttribute("position").needsUpdate=!0,Le.prototype.updateMatrixWorld.call(this,r)}}(),Ss.prototype=Object.create(gt.prototype),Ss.prototype.constructor=Ss,Ss.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ss.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Es.prototype=Object.create(Sr.prototype),Es.prototype.constructor=Es,Es.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},Es.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},ks.prototype=Object.create(Le.prototype),ks.prototype.constructor=ks,ks.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ks.prototype.update=function(){var e=new W,t=new me,n=new me;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Ms.prototype=Object.create(Er.prototype),Ms.prototype.constructor=Ms,Cs.prototype=Object.create(Er.prototype),Cs.prototype.constructor=Cs,Ts.prototype=Object.create(Er.prototype),Ts.prototype.constructor=Ts,Ts.prototype.update=function(){var e=new W,t=new W,n=new q;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,c=0,u=s.length;c<u;c++){var d=s[c],h=d.normal;e.copy(a[d.a]).add(a[d.b]).add(a[d.c]).divideScalar(3).applyMatrix4(r),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(l,e.x,e.y,e.z),l+=1,i.setXYZ(l,t.x,t.y,t.z),l+=1}i.needsUpdate=!0}}(),Ls.prototype=Object.create(Le.prototype),Ls.prototype.constructor=Ls,Ls.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ls.prototype.update=function(){var e=new W,t=new W,n=new W;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),As.prototype=Object.create(Er.prototype),As.prototype.constructor=As,As.prototype.update=function(){var e,t,n=new W,r=new Jn;function i(i,o,a,s){n.set(o,a,s).unproject(r);var l=t[i];if(void 0!==l)for(var c=e.getAttribute("position"),u=0,d=l.length;u<d;u++)c.setXYZ(l[u],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Os.prototype=Object.create(Er.prototype),Os.prototype.constructor=Os,Os.prototype.update=function(){var e=new se;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Os.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Os.prototype.copy=function(e){return Er.prototype.copy.call(this,e),this.object=e.object,this},Os.prototype.clone=function(){return(new this.constructor).copy(this)},Ps.prototype=Object.create(Er.prototype),Ps.prototype.constructor=Ps,Ps.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Le.prototype.updateMatrixWorld.call(this,e))},Rs.prototype=Object.create(Sr.prototype),Rs.prototype.constructor=Rs,Rs.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),Le.prototype.updateMatrixWorld.call(this,e)},Is.prototype=Object.create(Le.prototype),Is.prototype.constructor=Is,Is.prototype.setDirection=(is=new W,function(e){e.y>.99999?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(is.set(e.z,0,-e.x).normalize(),rs=Math.acos(e.y),this.quaternion.setFromAxisAngle(is,rs))}),Is.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Is.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Is.prototype.copy=function(e){return Le.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Is.prototype.clone=function(){return(new this.constructor).copy(this)},Ns.prototype=Object.create(Er.prototype),Ns.prototype.constructor=Ns,Co.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Co.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(qo.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Re,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new W(i.x,i.y,i.z||0))}return t}}),Object.assign(Xo.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(No.prototype),Object.create(No.prototype),js.prototype=Object.create(No.prototype),Object.assign(js.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Ms.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},_s.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ea.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),la(e)}}),Object.assign(da.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(gs.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(se.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),vs.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(H,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),H.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),H.ceilPowerOfTwo(e)}}),Object.assign(q.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(V.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new W),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),ce.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},G.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(pt.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ft.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(ft,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ft.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ft.getNormal(e,t,n,r)}}),Object.assign(Yo.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Si(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ni(this,e)}}),Object.assign(U.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(W.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ne.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Re.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Le.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Le.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(yr.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(xr.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),br.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Co.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Kn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Jo.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ie.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(qe.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(qe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Ei.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(us.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(dt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new me}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(Ji.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ht.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ur.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(ur.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Gn.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(re.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(lr.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Fa.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new ja).load(e,(function(e){t.setBuffer(e)})),this},Ha.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},za.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Q.crossOrigin=void 0,Q.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Mo;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Q.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new ko;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Q.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Q.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},window.cfxTexture=Pr;const zs=console.warn;console.warn=function(e){e.includes("THREE.")||zs(e)};var Ds="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fs,$s,Hs,Us,Vs={exports:{}},Gs={},Ws={exports:{}},qs={};function Xs(){if(Fs)return qs;Fs=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function m(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||h}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=v.prototype=new g;y.constructor=v,p(y,m.prototype),y.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,w={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(t,n,r){var i,o={},a=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(a=""+n.key),n)x.call(n,i)&&!_.hasOwnProperty(i)&&(o[i]=n[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:e,type:t,key:a,ref:s,props:o,_owner:w.current}}function E(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var k=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l=!1;if(null===n)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case e:case t:l=!0}}if(l)return a=a(l=n),n=""===o?"."+M(l,0):o,b(a)?(i="",null!=n&&(i=n.replace(k,"$&/")+"/"),C(a,r,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(t,n){return{$$typeof:e,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+n)),r.push(a)),1;if(l=0,o=""===o?".":o+":",b(n))for(var c=0;c<n.length;c++){var u=o+M(s=n[c],c);l+=C(s,r,i,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(n),"function"==typeof u)for(n=u.call(n),c=0;!(s=n.next()).done;)l+=C(s=s.value,r,i,u=o+M(s,c++),a);else if("object"===s)throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function R(){throw Error("act(...) is not supported in production builds of React.")}return qs.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},qs.Component=m,qs.Fragment=n,qs.Profiler=i,qs.PureComponent=v,qs.StrictMode=r,qs.Suspense=l,qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,qs.act=R,qs.cloneElement=function(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=p({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=w.current),void 0!==n.key&&(o=""+n.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in n)x.call(n,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:e,type:t.type,key:o,ref:a,props:i,_owner:s}},qs.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},qs.createElement=S,qs.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},qs.createRef=function(){return{current:null}},qs.forwardRef=function(e){return{$$typeof:s,render:e}},qs.isValidElement=E,qs.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:L}},qs.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},qs.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},qs.unstable_act=R,qs.useCallback=function(e,t){return A.current.useCallback(e,t)},qs.useContext=function(e){return A.current.useContext(e)},qs.useDebugValue=function(){},qs.useDeferredValue=function(e){return A.current.useDeferredValue(e)},qs.useEffect=function(e,t){return A.current.useEffect(e,t)},qs.useId=function(){return A.current.useId()},qs.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},qs.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},qs.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},qs.useMemo=function(e,t){return A.current.useMemo(e,t)},qs.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},qs.useRef=function(e){return A.current.useRef(e)},qs.useState=function(e){return A.current.useState(e)},qs.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},qs.useTransition=function(){return A.current.useTransition()},qs.version="18.3.1",qs}function Ys(){return $s||($s=1,Ws.exports=Xs()),Ws.exports}
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js,Ks,Zs,Qs,el=(Us||(Us=1,Vs.exports=function(){if(Hs)return Gs;Hs=1;var e=Ys(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(e,n,a){var s,l={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)r.call(n,s)&&!o.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:i.current}}return Gs.Fragment=n,Gs.jsx=a,Gs.jsxs=a,Gs}()),Vs.exports),tl=(e=>(e.Missed="missed",e.Received="received",e.Dialed="dialed",e.Options="options",e.None="none",e))(tl||{}),nl=(e=>(e.Create="create",e.Inbox="inbox",e.MsgLanding="msgLanding",e.Options="options",e.Chat="chat",e))(nl||{}),rl={exports:{}},il={},ol={exports:{}},al={};function sl(){return Ks||(Ks=1,ol.exports=function(){if(Js)return al;Js=1;var e=Ys(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),l=n({inst:{value:s,getSnapshot:t}}),c=l[0].inst,u=l[1];return i((function(){c.value=s,c.getSnapshot=t,a(c)&&u({inst:c})}),[e,s,t]),r((function(){return a(c)&&u({inst:c}),e((function(){a(c)&&u({inst:c})}))}),[e]),o(s),s};return al.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,al}()),ol.exports}
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=(Qs||(Qs=1,rl.exports=function(){if(Zs)return il;Zs=1;var e=Ys(),t=sl(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,s=e.useDebugValue;return il.useSyncExternalStoreWithSelector=function(e,t,l,c,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=a((function(){function e(e){if(!o){if(o=!0,r=e,e=c(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var a=c(e);return void 0!==u&&u(t,a)?(r=e,t):(r=e,i=a)}var r,i,o=!1,a=void 0===l?null:l;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]}),[t,l,c,u]);var p=r(e,d[0],d[1]);return o((function(){h.hasValue=!0,h.value=p}),[p]),s(p),p},il}()),rl.exports),cl=Ys();const ul=Bs(cl),dl=r({__proto__:null,default:ul},[cl]);function hl(e){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e){var t=function(e,t){if("object"!=hl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=hl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hl(t)?t:t+""}function fl(e,t,n){return(t=pl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){fl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vl(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yl=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),bl=()=>Math.random().toString(36).substring(7).split("").join("."),xl={INIT:`@@redux/INIT${bl()}`,REPLACE:`@@redux/REPLACE${bl()}`};function wl(e,t,n){if("function"!=typeof e)throw new Error(vl(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(vl(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(vl(1));return n(wl)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach(((e,t)=>{a.set(t,e)})))}function u(){if(l)throw new Error(vl(3));return i}function d(e){if("function"!=typeof e)throw new Error(vl(4));if(l)throw new Error(vl(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(vl(6));t=!1,c(),a.delete(n),o=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(vl(7));if(void 0===e.type)throw new Error(vl(8));if("string"!=typeof e.type)throw new Error(vl(17));if(l)throw new Error(vl(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach((e=>{e()})),e}h({type:xl.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(vl(10));r=e,h({type:xl.REPLACE})},[yl]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(vl(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[yl](){return this}}}}}function _l(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>e(t(...n))))}function Sl(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(vl(15))};const a={getState:i.getState,dispatch:(e,...t)=>o(e,...t)},s=e.map((e=>e(a)));return o=_l(...s)(i.dispatch),{...i,dispatch:o}}}var El,kl=({dispatch:e,getState:t})=>n=>r=>"function"==typeof r?r(e,t,El):n(r);function Ml(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Cl(e){return!!e&&!!e[hc]}function Tl(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===pc}(e)||Array.isArray(e)||!!e[dc]||!!(null===(t=e.constructor)||void 0===t?void 0:t[dc])||Rl(e)||Il(e))}function Ll(e,t,n){void 0===n&&(n=!1),0===Al(e)?(n?Object.keys:fc)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Al(e){var t=e[hc];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Rl(e)?2:Il(e)?3:0}function Ol(e,t){return 2===Al(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Pl(e,t,n){var r=Al(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Rl(e){return sc&&e instanceof Map}function Il(e){return lc&&e instanceof Set}function Nl(e){return e.o||e.t}function jl(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=mc(e);delete t[hc];for(var n=fc(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function zl(e,t){return void 0===t&&(t=!1),Bl(e)||Cl(e)||!Tl(e)||(Al(e)>1&&(e.set=e.add=e.clear=e.delete=Dl),Object.freeze(e),t&&Ll(e,(function(e,t){return zl(t,!0)}),!0)),e}function Dl(){Ml(2)}function Bl(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Fl(e){var t=gc[e];return t||Ml(18,e),t}function $l(){return oc}function Hl(e,t){t&&(Fl("Patches"),e.u=[],e.s=[],e.v=t)}function Ul(e){Vl(e),e.p.forEach(Wl),e.p=null}function Vl(e){e===oc&&(oc=e.l)}function Gl(e){return oc={p:[],l:oc,h:e,m:!0,_:0}}function Wl(e){var t=e[hc];0===t.i||1===t.i?t.j():t.g=!0}function ql(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Fl("ES5").S(t,e,r),r?(n[hc].P&&(Ul(t),Ml(4)),Tl(e)&&(e=Xl(t,e),t.l||Jl(t,e)),t.u&&Fl("Patches").M(n[hc].t,e,t.u,t.s)):e=Xl(t,n,[]),Ul(t),t.u&&t.v(t.u,t.s),e!==uc?e:void 0}function Xl(e,t,n){if(Bl(t))return t;var r=t[hc];if(!r)return Ll(t,(function(i,o){return Yl(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Jl(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=jl(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),Ll(o,(function(t,o){return Yl(e,r,i,t,o,n,a)})),Jl(e,i,!1),n&&e.u&&Fl("Patches").N(r,n,e.u,e.s)}return r.o}function Yl(e,t,n,r,i,o,a){if(Cl(i)){var s=Xl(e,i,o&&t&&3!==t.i&&!Ol(t.R,r)?o.concat(r):void 0);if(Pl(n,r,s),!Cl(s))return;e.m=!1}else a&&n.add(i);if(Tl(i)&&!Bl(i)){if(!e.h.D&&e._<1)return;Xl(e,i),t&&t.A.l||Jl(e,i)}}function Jl(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&zl(t,n)}function Kl(e,t){var n=e[hc];return(n?Nl(n):e)[t]}function Zl(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ql(e){e.P||(e.P=!0,e.l&&Ql(e.l))}function ec(e){e.o||(e.o=jl(e.t))}function tc(e,t,n){var r=Rl(t)?Fl("MapSet").F(t,n):Il(t)?Fl("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:$l(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=vc;n&&(i=[r],o=yc);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):Fl("ES5").J(t,n);return(n?n.A:$l()).p.push(r),r}function nc(e){return Cl(e)||Ml(22,e),function e(t){if(!Tl(t))return t;var n,r=t[hc],i=Al(t);if(r){if(!r.P&&(r.i<4||!Fl("ES5").K(r)))return r.t;r.I=!0,n=rc(t,i),r.I=!1}else n=rc(t,i);return Ll(n,(function(t,i){r&&function(e,t){return 2===Al(e)?e.get(t):e[t]}(r.t,t)===i||Pl(n,t,e(i))})),3===i?new Set(n):n}(e)}function rc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return jl(e)}var ic,oc,ac="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),sc="undefined"!=typeof Map,lc="undefined"!=typeof Set,cc="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,uc=ac?Symbol.for("immer-nothing"):((ic={})["immer-nothing"]=!0,ic),dc=ac?Symbol.for("immer-draftable"):"__$immer_draftable",hc=ac?Symbol.for("immer-state"):"__$immer_state",pc=""+Object.prototype.constructor,fc="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,mc=Object.getOwnPropertyDescriptors||function(e){var t={};return fc(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},gc={},vc={get:function(e,t){if(t===hc)return e;var n,r,i,o=Nl(e);if(!Ol(o,t))return n=e,(i=Zl(o,t))?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(n.k):void 0;var a=o[t];return e.I||!Tl(a)?a:a===Kl(e.t,t)?(ec(e),e.o[t]=tc(e.A.h,a,e)):a},has:function(e,t){return t in Nl(e)},ownKeys:function(e){return Reflect.ownKeys(Nl(e))},set:function(e,t,n){var r=Zl(Nl(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Kl(Nl(e),t),o=null==i?void 0:i[hc];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||Ol(e.t,t)))return!0;ec(e),Ql(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Kl(e.t,t)||t in e.t?(e.R[t]=!1,ec(e),Ql(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Nl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Ml(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ml(12)}},yc={};Ll(vc,(function(e,t){yc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),yc.deleteProperty=function(e,t){return yc.set.call(this,e,t,void 0)},yc.set=function(e,t,n){return vc.set.call(this,e[0],t,n,e[0])};var bc=function(){function e(e){var t=this;this.O=cc,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&Ml(6),void 0!==r&&"function"!=typeof r&&Ml(7),Tl(e)){var s=Gl(t),l=tc(t,e,void 0),c=!0;try{a=n(l),c=!1}finally{c?Ul(s):Vl(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Hl(s,r),ql(e,s)}),(function(e){throw Ul(s),e})):(Hl(s,r),ql(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===uc&&(a=void 0),t.D&&zl(a,!0),r){var u=[],d=[];Fl("Patches").M(e,a,u,d),r(u,d)}return a}Ml(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Tl(e)||Ml(8),Cl(e)&&(e=nc(e));var t=Gl(this),n=tc(this,e,void 0);return n[hc].C=!0,Vl(t),n},t.finishDraft=function(e,t){var n=(e&&e[hc]).A;return Hl(n,t),ql(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!cc&&Ml(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Fl("Patches").$;return Cl(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),xc=new bc,wc=xc.produce;xc.produceWithPatches.bind(xc);var _c,Sc,Ec=xc.setAutoFreeze.bind(xc);xc.setUseProxies.bind(xc),xc.applyPatches.bind(xc),xc.createDraft.bind(xc),xc.finishDraft.bind(xc);const kc=Bs(Sc?_c:(Sc=1,_c=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}));var Mc=cl.createContext(),Cc=function(){throw new Error("uSES not initialized!")},Tc=function(e,t){return e===t};var Lc,Ac=(Lc=Mc,function(e,t){void 0===t&&(t=Tc);var n=cl.useContext(Lc),r=Cc(n.subscribe,n.getState,n.getState,e,t);return cl.useDebugValue(r),r});var Oc=function(e){return function(t){return t(cl.useContext(e).getActions())}}(Mc);var Pc=function(e){return function(){return cl.useContext(e).dispatch}}(Mc);function Rc(){return cl.useContext(Mc)}var Ic=function(e){return function(){var t=cl.useContext(e),n=cl.useState(!1),r=n[0],i=n[1];return cl.useEffect((function(){t.persist.resolveRehydration().then((function(){return i(!0)}))}),[]),r}}(Mc);var Nc,jc="$_a",zc="$_aO",Dc="$_tO",Bc=function(e,t){var n;return(n={})[jc]=!0,n.fn=e,n.config=t,n},Fc=[function(e){return e}],$c=function(e,t){var n;return(n={}).$_c=!0,n.fn=e,n.stateResolvers=Fc,n};function Hc(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Uc(e){return function e(t){var n=Object.keys(t).reduce((function(e,n){return null==Object.getOwnPropertyDescriptor(t,n).get&&(e[n]=t[n]),e}),{});return Object.keys(n).forEach((function(t){Hc(n[t])&&(n[t]=e(n[t]))})),n}(e)}function Vc(e){return null!=e&&"object"==typeof e&&"function"==typeof e.then}function Gc(e,t){return e.reduce((function(e,t){return Hc(e)?e[t]:void 0}),t)}function Wc(e,t,n){if(0===e.length)return n;var r=gl({},t),i=e[0];return 1===e.length?r[i]=n:r[i]=Wc(e.slice(1),r[i],n),r}function qc(e,t,n){0!==e.length?e.reduce((function(t,r,i){return i+1===e.length?t[r]=n:t[r]=t[r]||{},t[r]}),t):"object"==typeof n&&(Object.keys(t).forEach((function(e){delete t[e]})),Object.keys(n).forEach((function(e){t[e]=n[e]})))}function Xc(e){return void 0===e&&(e=!1),function(t,n,r,i){if(i&&"immer"in i?!1===(null==i?void 0:i.immer):e){var o=Gc(t,n),a=r(o);return o!==a?Wc(t,n,a):n}if(Nc||(Nc=new bc({useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:!1})),0===t.length){var s=Nc.createDraft(n),l=r(s);return l?Cl(l)?Nc.finishDraft(l):l:Nc.finishDraft(s)}var c=t.slice(0,t.length-1),u=Nc.createDraft(n),d=Gc(c,n),h=r(Gc(t,u));return h&&(d[t[t.length-1]]=h),Nc.finishDraft(u)}}var Yc=function(e){var t,n,r,i=[];return(t=e,n=function(e,t){return t().then((function(e){i.push(e)}))},new Promise((function(e,i){var o=t[Symbol.iterator](),a=0;!function t(r){var s=o.next();s.done?e(r):Promise.all([r,s.value]).then((function(e){return t(n(e[0],e[1],a++))})).catch((function(e){return i(e)}))}(r)}))).then((function(){return i}))};var Jc=function(e,t){console.log("Error in "+e),console.log(t)},Kc=function(e,t){return function(){try{var n=t.apply(void 0,arguments);Vc(n)&&n.catch((function(t){Jc(e,t)}))}catch(r){Jc(e,r)}}};function Zc(e,t,n,r){var i=Xc(e),o=function(e,n){var r=t[n.type];return r?function(e,t,n,r,o){return i(r,e,(function(e){return n(e,t.payload)}),o)}(e,n,r,r.def.meta.parent,r.def.config):e},a=function(e,t){return n.reduce((function(e,n){var r=n.parentPath,o=n.key,a=n.reducer,s=n.config;return i(r,e,(function(e){var n;return e[o]=a(Cl(e[o])?(Cl(n=e[o])||Ml(23,n),n[hc].t):e[o],t),e}),s)}),e)};return function(e,t){var i=o(e,t),s=n.length>0?a(i,t):i;return e!==s&&r.forEach((function(e){var t=e.parentPath,n=e.bindComputedProperty,r=Gc(t,s);null!=r&&n(r,s)})),s}}var Qc={getItem:function(){},setItem:function(){},removeItem:function(){}},eu=function(e){var t;return function(){if(!t){try{"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e])}catch(n){}t||(t=Qc)}return t}},tu=eu("localStorage"),nu=eu("sessionStorage");function ru(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={}),null==e&&(e=nu()),"string"==typeof e&&(e="localStorage"===e?tu():"sessionStorage"===e?nu():Qc);var r=[].concat(t).reverse(),i=function(t){var i=e===tu()||e===nu()?JSON.parse(t).data:t,o=Object.keys(n).length>0?function(e,t){var n;Ec(!1);var r=null!=(n=e._migrationVersion)?n:0,i=t.migrationVersion;if("number"!=typeof r||"number"!=typeof i)throw new Error("No migration version found");for(;r<i;){var o=r+1,a=t[o];if(!a)throw new Error("No migrator found for `migrationVersion` "+o);(e=wc(e,a))._migrationVersion=o,r=e._migrationVersion}return Ec(!0),e}(i,n):i;return r.length>0&&null!=o&&"object"==typeof o&&Object.keys(o).forEach((function(e){o[e]=r.reduce((function(t,n){return n.out(t,e,o)}),o[e])})),o},o=Vc(e.getItem("_"));return{getItem:function(t){if(o)return e.getItem(t).then((function(e){return null!=e?i(e):void 0}));var n=e.getItem(t);return null!=n?i(n):void 0},setItem:function(n,r){return e.setItem(n,function(n){return t.length>0&&null!=n&&"object"==typeof n&&Object.keys(n).forEach((function(e){n[e]=t.reduce((function(t,r){return r.in(t,e,n)}),n[e])})),e===tu()||e===nu()?JSON.stringify({data:n}):n}(r))},removeItem:function(t){return e.removeItem(t)}}}function iu(e,t){return function(){return 0===t._i._persistenceConfig.length?Promise.resolve():Yc(t._i._persistenceConfig.map((function(t){var n=t.path,r=t.config;return function(){return Promise.resolve(r.storage.removeItem(e(n)))}})))}}function ou(e,t){var n,r=Promise.resolve(),i=!1,o="undefined"==typeof window?function(e){return e()}:null!=window.requestIdleCallback?function(e){return window.requestIdleCallback(e,{timeout:0})}:window.requestAnimationFrame;return{persist:function(a){if(0!==t._i._persistenceConfig.length){var s=function(){i=!0,r=new Promise((function(r){o((function(){Yc(t._i._persistenceConfig.map((function(t){var n=t.path,r=t.config;return function(){var t=r.storage,i=r.allow,o=r.deny,s=function(e,t,n){var r=Object.keys(e);return t.length>0&&(r=r.reduce((function(e,n){return-1!==t.findIndex((function(e){return e===n}))?[].concat(e,[n]):e}),[])),n.length>0&&(r=r.reduce((function(e,t){return-1!==n.findIndex((function(e){return e===t}))?e:[].concat(e,[t])}),[])),r}(Uc(Gc(n,a)),i,o),l={};return s.map((function(e){var t=Gc([].concat(n,[e]),a),r=Hc(t)?Uc(t):t;l[e]=r})),Promise.resolve(t.setItem(e(n),l))}}))).finally((function(){if(i=!1,n){var e=n;n=null,e()}else r()}))}))}))};i?n=s:s()}},clear:iu(e,t),flush:function(){return n&&n(),r}}}function au(e,t,n,r){if(0===n._i._persistenceConfig.length)return Promise.resolve();var i=Uc(n._i._dS),o=!1;return Yc(n._i._persistenceConfig.map((function(t){return function(){var n=t.path,a=t.config,s=a.mergeStrategy,l=a.storage;if(r&&(n.length<1||n[0]!==r))return Promise.resolve();var c=function(e,t){return null!=e&&null!=t&&(typeof e!=typeof t||Array.isArray(e)&&!Array.isArray(t))},u=function(e){null!=e&&(!function(e){if("overwrite"===s)qc(n,i,e);else if("mergeShallow"===s){var t=Gc(n,i);Object.keys(e).forEach((function(n){c(t[n],e[n])||(t[n]=e[n])}))}else"mergeDeep"===s&&function e(t,n){Object.keys(n).forEach((function(r){c(t[r],n[r])||(Hc(n[r])?(t[r]=t[r]||{},e(t[r],n[r])):t[r]=n[r])}))}(Gc(n,i),e)}(e),o=!0)},d=l.getItem(e(n));return Vc(d)?d.then(u):Promise.resolve(u(d))}}))).then((function(){o&&t(i)}))}function su(e){return function(){return function(t){return function(n){var r=t(n);if(n&&e._i._lAM[n.type]&&e._i._lAM[n.type].length>0){var i=e._i._aCD[n.type];e._i._lAM[n.type].forEach((function(e){e({type:i?i.def.meta.type:n.type,payload:n.payload,error:n.error,result:n.result})}))}return r}}}}function lu(e,t,n){var r,i,o=!1,a=[],s=!1;return function(l,c){Object.defineProperty(l,e,{configurable:!0,enumerable:!0,get:function(){if(s)return r;var e=t.stateResolvers.map((function(e){return e(l,c)}));if(o&&(c===i&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}(e,a)||n._i._cS.isInReducer&&null!==(new Error).stack.match(/shallowCopy/gi)))return r;var u=t.fn.apply(t,e);return function(e,t){s=!0;var n=kc(e,t);return s=!1,n}(u,r)||(r=u),a=e,i=c,o=!0,r}})}}function cu(e){return function(){return function(t){return function(n){e._i._cS.isInReducer=!0;var r=t(n);return e._i._cS.isInReducer=!1,r}}}}function uu(e){return function(t){return function(n){return function(r){if(0===e._i._e.length)return n(r);var i=t.getState(),o=n(r),a=t.getState();return i!==a&&e._i._e.forEach((function(e){var t=Gc(e.meta.parent,i),n=Gc(e.meta.parent,a),o=e.dependencyResolvers.map((function(e){return e(t,i)})),s=e.dependencyResolvers.map((function(e){return e(n,a)}));o.some((function(e,t){return e!==s[t]}))&&e.actionCreator(o,s,r)})),o}}}}var du,hu=function(e){console.error(e)};function pu(e,t,n,r){var i=t,o={},a={},s={},l=[],c=[],u=[],d={},h={},p=[],f=[];return f=f.sort((function(e,t){var n=e.path.join("."),r=t.path.join(".");return n<r?-1:n>r?1:0})),function e(h,m){return Object.keys(h).forEach((function(g){var v=h[g],y=[].concat(m,[g]),b={parent:m,path:y,key:g},x=function(){var e=Gc(m,t);qc(y,i,e&&g in e?e[g]:v)};if("$_p"!==g)if(null!=v&&"object"==typeof v)if(v[jc]||v[zc]){var w=gl({},v),_=w[jc]?"@action":"@actionOn";w.meta={actionName:b.key,category:_,type:_+"."+b.path.join("."),parent:b.parent,path:b.path},w.actionCreator=function(e,t){function n(n){var r={type:e.meta.type,payload:n,config:e.config};return e[zc]&&e.meta.resolvedTargets&&(n.resolvedTargets=[].concat(e.meta.resolvedTargets)),t.dispatch(r)}return n.type=e.meta.type,n}(w,r),w.actionCreator.def=w,w.fn.def=w,o[w.meta.type]=w.actionCreator,s[w.meta.type]=w.fn,"ePRS"!==b.key&&(w[zc]?(p.push(w),qc(y,d,w.actionCreator)):qc(y,a,w.actionCreator))}else if(v.$_t||v[Dc]){var S=gl({},v),E=(S.$_t?"@thunk":"@thunkOn")+"."+b.path.join(".");S.meta={actionName:b.key,parent:b.parent,path:b.path,type:E,startType:E+"(start)",successType:E+"(success)",failType:E+"(fail)"},S.thunkHandler=function(e,t,n,r){return function(i,o){var a={dispatch:t.dispatch,fail:o,getState:function(){return Gc(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};return e[Dc]&&e.meta.resolvedTargets&&(i.resolvedTargets=[].concat(e.meta.resolvedTargets)),e.fn(Gc(e.meta.parent,r),i,a)}}(S,r,n,a),S.actionCreator=function(e,t){var n=function(n){var r=Kc(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,payload:n})})),i=Kc(e.meta.failType,(function(r){return t.dispatch({type:e.meta.failType,payload:n,error:r})})),o=Kc(e.meta.successType,(function(r){return t.dispatch({type:e.meta.successType,payload:n,result:r})}));r();var a=null,s=function(e){a=e||new Error},l=t.dispatch((function(){return e.thunkHandler(n,s)}));return Vc(l)?l.then((function(e){return a?i(a):o(e),e})):(a?i(a):o(l),l)};return n.type=e.meta.type,n.successType=e.meta.successType,n.failType=e.meta.failType,n.startType=e.meta.startType,n}(S,r),S.actionCreator.def=S,o[S.meta.type]=S.actionCreator,S[Dc]?(p.push(S),qc(y,d,S.actionCreator)):qc(y,a,S.actionCreator)}else if(v.$_c){var k=Gc(m,i),M=lu(g,v,r);M(k,i),l.push({key:g,parentPath:m,bindComputedProperty:M})}else if(v.$_r)c.push({key:g,parentPath:m,reducer:v.fn,config:v.config});else if(v.$_e){var C=gl({},v),T="@effectOn."+b.path.join(".");C.meta={type:T,actionName:b.key,parent:b.parent,path:b.path,startType:T+"(start)",successType:T+"(success)",failType:T+"(fail)"};var L=function(e,t,n,r){var i;return function(o){var a={dispatch:t.dispatch,getState:function(){return Gc(e.meta.parent,t.getState())},getStoreActions:function(){return r},getStoreState:t.getState,injections:n,meta:{key:e.meta.actionName,parent:e.meta.parent,path:e.meta.path}};if(void 0!==i){var s=i();i=void 0,Vc(s)&&s.catch(hu)}var l=Gc(e.meta.parent,r),c=e.fn(l,o,a);if(Vc(c))return c.then((function(e){}));"function"==typeof c&&(i=c)}}(C,r,n,a),A=function(e,t,n){var r=function(r,i,o){var a={prev:r,current:i,action:o},s=Kc(e.meta.startType,(function(){return t.dispatch({type:e.meta.startType,change:a})})),l=Kc(e.meta.successType,(function(){return t.dispatch({type:e.meta.successType,change:a})}));s();try{var c=t.dispatch((function(){return n(a)}));return Vc(c)?c.then((function(e){return l(e),e}),hu):(l(c),c)}catch(u){hu(u)}};return r.type=e.meta.type,r.startType=e.meta.startType,r.successType=e.meta.successType,r.failType=e.meta.failType,r}(C,r,L);C.actionCreator=A,u.push(C)}else if(Hc(v)){null==Gc(y,i)&&qc(y,i,{}),e(v,y)}else x();else x();else f.push(function(e,t){return void 0===t&&(t={}),{path:e,config:{allow:t.allow||[],deny:t.deny||[],mergeStrategy:t.mergeStrategy||"mergeDeep",storage:ru(t.storage,t.transformers,t.migrations)}}}(m,v))}))}(e,[]),function(e,t,n,r){e.forEach((function(e){var i=e.targetResolver(Gc(e.meta.parent,t),t),o=(Array.isArray(i)?i:[i]).reduce((function(e,t){return"function"==typeof t&&t.def.meta.type&&n[t.def.meta.type]?t.def.meta.successType?e.push(t.def.meta.successType):e.push(t.def.meta.type):"string"==typeof t&&e.push(t),e}),[]);e.meta.resolvedTargets=o,o.forEach((function(t){var i=r[t]||[];i.push(n[e.meta.type]),r[t]=i}))}))}(p,a,o,h),{_aCD:o,_aC:a,_aRD:s,_cP:l,_cR:c,_cS:{isInReducer:!1},_dS:i,_e:u,_lAC:d,_lAM:h,_persistenceConfig:f}}function fu(e){var t=e.children,n=e.store;return ul.createElement(Mc.Provider,{value:n,children:t})}du=ll.useSyncExternalStoreWithSelector,Cc=du;const mu={useStoreActions:Oc,useStoreDispatch:Pc,useStoreState:Ac,useStoreRehydrated:Ic,useStore:Rc},gu=mu.useStoreActions,vu=mu.useStoreState;function yu(e,t){const n=vu((e=>e.savedIndexes)),r=gu((e=>e.setSavedIndexes));let[i,o]=cl.useState(null);const a=cl.useRef(!1),s=cl.useCallback((e=>{const t=n[e];return o(t),t}),[i]),l=cl.useCallback((e=>{a.current||r({...n,[e]:t})}),[t]),c=cl.useCallback((()=>{a.current=!0,r({...n,[e]:1}),setTimeout((()=>{a.current=!1}),1e3)}),[n,e,t]);return cl.useEffect((()=>{if(e)return s(e),()=>{l(e)}}),[e,t]),{resetIndexPosition:c,index:i||1}}var bu,xu,wu,_u,Su={exports:{}},Eu={},ku={exports:{}},Mu={};function Cu(){return xu||(xu=1,ku.exports=(bu||(bu=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,f=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,b(e),!f)if(null!==n(l))f=!0,P(w);else{var t=n(c);null!==t&&R(x,t.startTime-e)}}function w(t,i){f=!1,m&&(m=!1,v(k),k=-1),p=!0;var o=h;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!T());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?d.callback=s:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&R(x,g.startTime-i),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,k=-1,M=5,C=-1;function T(){return!(e.unstable_now()-C<M)}function L(){if(null!==E){var t=e.unstable_now();C=t;var n=!0;try{n=E(!0,t)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"==typeof y)_=function(){y(L)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=L,_=function(){O.postMessage(null)}}else _=function(){g(L,0)};function P(e){E=e,S||(S=!0,_())}function R(t,n){k=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,P(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(c,r),null===n(l)&&r===n(c)&&(m?(v(k),k=-1):m=!0,R(x,o-a))):(r.sortIndex=s,t(l,r),f||p||(f=!0,P(w))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(Mu)),Mu)),ku.exports}
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Tu(){if(wu)return Eu;wu=1;var e=Ys(),t=Cu();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(e,t){a(e,t),a(e+"Capture",t)}function a(e,t){for(i[e]=t,e=0;e<t.length;e++)r.add(t[e])}var s=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function h(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var f=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function g(e,t,n,r){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!l.call(d,e)||!l.call(u,e)&&(c.test(e)?d[e]=!0:(u[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(f,m);p[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(f,m);p[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(f,m);p[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),O=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var R,I=Object.assign;function N(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function D(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case b:return"Portal";case _:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case C:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?K(e,t.type,n):t.hasOwnProperty("defaultValue")&&K(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function K(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Z=Array.isArray;function Q(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ee(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function te(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(Z(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:$(r)}}function ne(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ae,se,le=(se=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ae=ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return se(e,t)}))}:se);function ce(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ue.hasOwnProperty(e)&&ue[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ue).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ue[t]=ue[e]}))}));var fe=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,xe=null,we=null;function _e(e){if(e=gi(e)){if("function"!=typeof be)throw Error(n(280));var t=e.stateNode;t&&(t=yi(t),be(e.stateNode,e.type,t))}}function Se(e){xe?we?we.push(e):we=[e]:xe=e}function Ee(){if(xe){var e=xe,t=we;if(we=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function ke(e,t){return e(t)}function Me(){}var Ce=!1;function Te(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return ke(e,t,n)}finally{Ce=!1,(null!==xe||null!==we)&&(Me(),Ee())}}function Le(e,t){var r=e.stateNode;if(null===r)return null;var i=yi(r);if(null===i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}var Ae=!1;if(s)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(se){Ae=!1}function Pe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Ie=null,Ne=!1,je=null,ze={onError:function(e){Re=!0,Ie=e}};function De(e,t,n,r,i,o,a,s,l){Re=!1,Ie=null,Pe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Be(e)!==e)throw Error(n(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return $e(o),e;if(a===i)return $e(o),t;a=a.sibling}throw Error(n(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s)throw Error(n(189))}}if(r.alternate!==i)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var Ve=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,We=t.unstable_shouldYield,qe=t.unstable_requestPaint,Xe=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,Je=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,Qe=t.unstable_LowPriority,et=t.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var at=64,st=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=lt(s):0!==(o&=a)&&(r=lt(o))}else 0!==(a=n&~i)?r=lt(a):0!==o&&(r=lt(o));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function ut(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=at;return!(4194240&(at<<=1))&&(at=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function vt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var yt,bt,xt,wt,_t,St=!1,Et=[],kt=null,Mt=null,Ct=null,Tt=new Map,Lt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=mi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Fe(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function jt(e,t,n){Nt(e)&&n.delete(t)}function zt(){St=!1,null!==kt&&Nt(kt)&&(kt=null),null!==Mt&&Nt(Mt)&&(Mt=null),null!==Ct&&Nt(Ct)&&(Ct=null),Tt.forEach(jt),Lt.forEach(jt)}function Dt(e,n){e.blockedOn===n&&(e.blockedOn=null,St||(St=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Dt(t,e)}if(0<Et.length){Dt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Dt(kt,e),null!==Mt&&Dt(Mt,e),null!==Ct&&Dt(Ct,e),Tt.forEach(t),Lt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)It(n),null===n.blockedOn&&At.shift()}var Ft=v.ReactCurrentBatchConfig,$t=!0;function Ht(e,t,n,r){var i=gt,o=Ft.transition;Ft.transition=null;try{gt=1,Vt(e,t,n,r)}finally{gt=i,Ft.transition=o}}function Ut(e,t,n,r){var i=gt,o=Ft.transition;Ft.transition=null;try{gt=4,Vt(e,t,n,r)}finally{gt=i,Ft.transition=o}}function Vt(e,t,n,r){if($t){var i=Wt(e,t,n,r);if(null===i)$r(e,t,r,Gt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Rt(kt,e,t,n,r,i),!0;case"dragenter":return Mt=Rt(Mt,e,t,n,r,i),!0;case"mouseover":return Ct=Rt(Ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,Rt(Tt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,Rt(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=gi(i);if(null!==o&&yt(o),null===(o=Wt(e,t,n,r))&&$r(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Gt=null;function Wt(e,t,n,r){if(Gt=null,null!==(e=mi(e=ye(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Je:return 1;case Ke:return 4;case Ze:case Qe:return 16;case et:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Jt=null;function Kt(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qt:en,this.isPropagationStopped=en,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var nn,rn,on,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=tn(an),ln=I({},an,{view:0,detail:0}),cn=tn(ln),un=I({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(nn=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=nn=0,on=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),dn=tn(un),hn=tn(I({},un,{dataTransfer:0})),pn=tn(I({},ln,{relatedTarget:0})),fn=tn(I({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=I({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=tn(mn),vn=tn(I({},an,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return wn}var Sn=I({},ln,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=tn(Sn),kn=tn(I({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=tn(I({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=tn(I({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=I({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=tn(Tn),An=[9,13,27,32],On=s&&"CompositionEvent"in window,Pn=null;s&&"documentMode"in document&&(Pn=document.documentMode);var Rn=s&&"TextEvent"in window&&!Pn,In=s&&(!On||Pn&&8<Pn&&11>=Pn),Nn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Ur(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,Vn=null;function Gn(e){Nr(e,0)}function Wn(e){if(V(vi(e)))return e}function qn(e,t){if("change"===e)return t}var Xn=!1;if(s){var Yn;if(s){var Jn="oninput"in document;if(!Jn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Jn="function"==typeof Kn.oninput}Yn=Jn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Un&&(Un.detachEvent("onpropertychange",Qn),Vn=Un=null)}function Qn(e){if("value"===e.propertyName&&Wn(Vn)){var t=[];Hn(t,Vn,e,ye(e)),Te(Gn,t)}}function er(e,t,n){"focusin"===e?(Zn(),Vn=n,(Un=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Zn()}function tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Vn)}function nr(e,t){if("click"===e)return Wn(t)}function rr(e,t){if("input"===e||"change"===e)return Wn(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function or(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l.call(t,i)||!ir(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sr(n,o);var a=sr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=s&&"documentMode"in document&&11>=document.documentMode,pr=null,fr=null,mr=null,gr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==pr||pr!==G(r)||("selectionStart"in(r=pr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Ur(fr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},xr={},wr={};function _r(e){if(xr[e])return xr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return xr[e]=n[t];return e}s&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=_r("animationend"),Er=_r("animationiteration"),kr=_r("animationstart"),Mr=_r("transitionend"),Cr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Cr.set(e,t),o(t,[e])}for(var Ar=0;Ar<Tr.length;Ar++){var Or=Tr[Ar];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(Sr,"onAnimationEnd"),Lr(Er,"onAnimationIteration"),Lr(kr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Mr,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Ir(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,i,o,a,s,l,c){if(De.apply(this,arguments),Re){if(!Re)throw Error(n(198));var u=Ie;Re=!1,Ie=null,Ne||(Ne=!0,je=u)}}(i,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=l}}}if(Ne)throw e=je,Ne=!1,je=null,e}function jr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Dr]){e[Dr]=!0,r.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Dr]||(t[Dr]=!0,zr("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(qt(t)){case 1:var i=Ht;break;case 4:i=Ut;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=o,i=ye(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var l=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Sr:case Er:case kr:l=fn;break;case Mr:l=Cn;break;case"scroll":l=cn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Le(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[di])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=dn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=kn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:vi(l),p=null==c?s:vi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,mi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Vr(p))f++;for(p=0,m=h;m;m=Vr(m))p++;for(;0<f-p;)u=Vr(u),f--;for(;0<p-f;)h=Vr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Vr(u),h=Vr(h)}u=null}else u=null;null!==l&&Gr(a,s,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=qn;else if($n(s))if(Xn)g=rr;else{g=tr;var v=er}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=nr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&K(s,"number",s.value)),v=r?vi(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(pr=v,fr=r,mr=null);break;case"focusout":mr=fr=pr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,vr(a,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":vr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=Kt()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Ur(r,b)).length&&(b=new vn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Dn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(jn=!0,Nn);case"textInput":return(e=t.data)===Nn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=Kt(),Jt=Yt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Nr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Le(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Le(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Le(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Wr,"\n").replace(qr,"")}function Yr(e,t,r){if(t=Xr(t),Xr(e)!==t&&r)throw Error(n(425))}function Jr(){}var Kr=null,Zr=null;function Qr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ni="function"==typeof Promise?Promise:void 0,ri="function"==typeof queueMicrotask?queueMicrotask:void 0!==ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,ui="__reactProps$"+li,di="__reactContainer$"+li,hi="__reactEvents$"+li,pi="__reactListeners$"+li,fi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function yi(e){return e[ui]||null}var bi=[],xi=-1;function wi(e){return{current:e}}function _i(e){0>xi||(e.current=bi[xi],bi[xi]=null,xi--)}function Si(e,t){xi++,bi[xi]=e.current,e.current=t}var Ei={},ki=wi(Ei),Mi=wi(!1),Ci=Ei;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!=(e=e.childContextTypes)}function Ai(){_i(Mi),_i(ki)}function Oi(e,t,r){if(ki.current!==Ei)throw Error(n(168));Si(ki,t),Si(Mi,r)}function Pi(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in t))throw Error(n(108,F(e)||"Unknown",o));return I({},r,i)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ci=ki.current,Si(ki,e),Si(Mi,Mi.current),!0}function Ii(e,t,r){var i=e.stateNode;if(!i)throw Error(n(169));r?(e=Pi(e,t,Ci),i.__reactInternalMemoizedMergedChildContext=e,_i(Mi),_i(ki),Si(ki,e)):_i(Mi),Si(Mi,r)}var Ni=null,ji=!1,zi=!1;function Di(e){null===Ni?Ni=[e]:Ni.push(e)}function Bi(){if(!zi&&null!==Ni){zi=!0;var e=0,t=gt;try{var n=Ni;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,ji=!1}catch(gG){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ve(Je,Bi),gG}finally{gt=t,zi=!1}}return null}var Fi=[],$i=0,Hi=null,Ui=0,Vi=[],Gi=0,Wi=null,qi=1,Xi="";function Yi(e,t){Fi[$i++]=Ui,Fi[$i++]=Hi,Hi=e,Ui=t}function Ji(e,t,n){Vi[Gi++]=qi,Vi[Gi++]=Xi,Vi[Gi++]=Wi,Wi=e;var r=qi;e=Xi;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var o=32-rt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qi=1<<32-rt(t)+i|n<<i|r,Xi=o+e}else qi=1<<o|n<<i|r,Xi=e}function Ki(e){null!==e.return&&(Yi(e,1),Ji(e,1,0))}function Zi(e){for(;e===Hi;)Hi=Fi[--$i],Fi[$i]=null,Ui=Fi[--$i],Fi[$i]=null;for(;e===Wi;)Wi=Vi[--Gi],Vi[Gi]=null,Xi=Vi[--Gi],Vi[Gi]=null,qi=Vi[--Gi],Vi[Gi]=null}var Qi=null,eo=null,to=!1,no=null;function ro(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Qi=e,eo=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Qi=e,eo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Qi=e,eo=null,!0);default:return!1}}function oo(e){return!(!(1&e.mode)||128&e.flags)}function ao(e){if(to){var t=eo;if(t){var r=t;if(!io(e,t)){if(oo(e))throw Error(n(418));t=ai(r.nextSibling);var i=Qi;t&&io(e,t)?ro(i,r):(e.flags=-4097&e.flags|2,to=!1,Qi=e)}}else{if(oo(e))throw Error(n(418));e.flags=-4097&e.flags|2,to=!1,Qi=e}}}function so(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Qi=e}function lo(e){if(e!==Qi)return!1;if(!to)return so(e),to=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Qr(e.type,e.memoizedProps)),t&&(t=eo)){if(oo(e))throw co(),Error(n(418));for(;t;)ro(e,t),t=ai(t.nextSibling)}if(so(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){eo=ai(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}eo=null}}else eo=Qi?ai(e.stateNode.nextSibling):null;return!0}function co(){for(var e=eo;e;)e=ai(e.nextSibling)}function uo(){eo=Qi=null,to=!1}function ho(e){null===no?no=[e]:no.push(e)}var po=v.ReactCurrentBatchConfig;function fo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var i=r.stateNode}if(!i)throw Error(n(147,e));var o=i,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function mo(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function go(e){return(0,e._init)(e._payload)}function vo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function r(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===L&&go(i)===t.type)?((r=o(t,n.props)).ref=fo(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=fo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=fo(e,null,t),n.return=e,n;case b:return(t=jc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(Z(t)||P(t))return(t=Rc(t,e.mode,n,null)).return=e,t;mo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?u(e,t,n,r):null;case L:return p(e,t,(i=n._init)(n._payload),r)}if(Z(n)||P(n))return null!==i?null:d(e,t,n,r,null);mo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return f(e,t,n,(0,r._init)(r._payload),i)}if(Z(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);mo(t,r)}return null}return function l(c,u,d,m){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case y:e:{for(var g=d.key,v=u;null!==v;){if(v.key===g){if((g=d.type)===x){if(7===v.tag){r(c,v.sibling),(u=o(v,d.props.children)).return=c,c=u;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===L&&go(g)===v.type){r(c,v.sibling),(u=o(v,d.props)).ref=fo(c,v,d),u.return=c,c=u;break e}r(c,v);break}t(c,v),v=v.sibling}d.type===x?((u=Rc(d.props.children,c.mode,m,d.key)).return=c,c=u):((m=Pc(d.type,d.key,d.props,null,c.mode,m)).ref=fo(c,u,d),m.return=c,c=m)}return s(c);case b:e:{for(v=d.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){r(c,u.sibling),(u=o(u,d.children||[])).return=c,c=u;break e}r(c,u);break}t(c,u),u=u.sibling}(u=jc(d,c.mode,m)).return=c,c=u}return s(c);case L:return l(c,u,(v=d._init)(d._payload),m)}if(Z(d))return function(n,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(n,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(n,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(n,d),to&&Yi(n,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(n,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return to&&Yi(n,m),c}for(d=i(n,d);m<s.length;m++)null!==(g=f(d,n,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(n,e)})),to&&Yi(n,m),c}(c,u,d,m);if(P(d))return function(o,s,l,c){var u=P(l);if("function"!=typeof u)throw Error(n(150));if(null==(l=u.call(l)))throw Error(n(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return r(o,m),to&&Yi(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return to&&Yi(o,g),u}for(m=i(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),to&&Yi(o,g),u}(c,u,d,m);mo(c,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==u&&6===u.tag?(r(c,u.sibling),(u=o(u,d)).return=c,c=u):(r(c,u),(u=Nc(d,c.mode,m)).return=c,c=u),s(c)):r(c,u)}}var yo=vo(!0),bo=vo(!1),xo=wi(null),wo=null,_o=null,So=null;function Eo(){So=_o=wo=null}function ko(e){var t=xo.current;_i(xo),e._currentValue=t}function Mo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){wo=e,So=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(gs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===wo)throw Error(n(308));_o=e,wo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Lo=null;function Ao(e){null===Lo?Lo=[e]:Lo.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ml){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,d,h):f))break e;d=I({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=d}}function $o(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=r,"function"!=typeof o)throw Error(n(191,o));o.call(i)}}}var Ho={},Uo=wi(Ho),Vo=wi(Ho),Go=wi(Ho);function Wo(e){if(e===Ho)throw Error(n(174));return e}function qo(e,t){switch(Si(Go,t),Si(Vo,e),Si(Uo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Uo),Si(Uo,t)}function Xo(){_i(Uo),_i(Vo),_i(Go)}function Yo(e){Wo(Go.current);var t=Wo(Uo.current),n=oe(t,e.type);t!==n&&(Si(Vo,e),Si(Uo,n))}function Jo(e){Vo.current===e&&(_i(Uo),_i(Vo))}var Ko=wi(0);function Zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qo=[];function ea(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var ta=v.ReactCurrentDispatcher,na=v.ReactCurrentBatchConfig,ra=0,ia=null,oa=null,aa=null,sa=!1,la=!1,ca=0,ua=0;function da(){throw Error(n(321))}function ha(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function pa(e,t,r,i,o,a){if(ra=a,ia=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=null===e||null===e.memoizedState?Ja:Ka,e=r(i,o),la){a=0;do{if(la=!1,ca=0,25<=a)throw Error(n(301));a+=1,aa=oa=null,t.updateQueue=null,ta.current=Za,e=r(i,o)}while(la)}if(ta.current=Ya,t=null!==oa&&null!==oa.next,ra=0,aa=oa=ia=null,sa=!1,t)throw Error(n(300));return e}function fa(){var e=0!==ca;return ca=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===aa?ia.memoizedState=aa=e:aa=aa.next=e,aa}function ga(){if(null===oa){var e=ia.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===aa?ia.memoizedState:aa.next;if(null!==t)aa=t,oa=e;else{if(null===e)throw Error(n(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===aa?ia.memoizedState=aa=e:aa=aa.next=e}return aa}function va(e,t){return"function"==typeof t?t(e):t}function ya(e){var t=ga(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var i=oa,o=i.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,r.pending=null}if(null!==o){a=o.next,i=i.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ra&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,ia.lanes|=d,Il|=d}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,ir(i,t.memoizedState)||(gs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,r.lastRenderedState=i}if(null!==(e=r.interleaved)){o=e;do{a=o.lane,ia.lanes|=a,Il|=a,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ba(e){var t=ga(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);ir(a,t.memoizedState)||(gs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,i]}function xa(){}function wa(e,t){var r=ia,i=ga(),o=t(),a=!ir(i.memoizedState,o);if(a&&(i.memoizedState=o,gs=!0),i=i.queue,Ra(Ea.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==aa&&1&aa.memoizedState.tag){if(r.flags|=2048,Ta(9,Sa.bind(null,r,i,o,t),void 0,null),null===Cl)throw Error(n(349));30&ra||_a(r,t,o)}return o}function _a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ia.updateQueue)?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,ka(t)&&Ma(e)}function Ea(e,t,n){return n((function(){ka(t)&&Ma(e)}))}function ka(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Ma(e){var t=Po(e,1);null!==t&&ec(t,e,1,-1)}function Ca(e){var t=ma();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,ia,e),[t.memoizedState,e]}function Ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ia.updateQueue)?(t={lastEffect:null,stores:null},ia.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return ga().memoizedState}function Aa(e,t,n,r){var i=ma();ia.flags|=e,i.memoizedState=Ta(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ga();r=void 0===r?null:r;var o=void 0;if(null!==oa){var a=oa.memoizedState;if(o=a.destroy,null!==r&&ha(r,a.deps))return void(i.memoizedState=Ta(t,n,o,r))}ia.flags|=e,i.memoizedState=Ta(1|t,n,o,r)}function Pa(e,t){return Aa(8390656,8,e,t)}function Ra(e,t){return Oa(2048,8,e,t)}function Ia(e,t){return Oa(4,2,e,t)}function Na(e,t){return Oa(4,4,e,t)}function ja(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!=n?n.concat([e]):null,Oa(4,4,ja.bind(null,t,e),n)}function Da(){}function Ba(e,t){var n=ga();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ha(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fa(e,t){var n=ga();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ha(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 21&ra?(ir(n,t)||(n=ht(),ia.lanes|=n,Il|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gs=!0),e.memoizedState=n)}function Ha(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=na.transition;na.transition={};try{e(!1),t()}finally{gt=n,na.transition=r}}function Ua(){return ga().memoizedState}function Va(e,t,n){var r=Ql(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e))qa(t,n);else if(null!==(n=Oo(e,t,n,r))){ec(n,e,r,Zl()),Xa(n,t,r)}}function Ga(e,t,n){var r=Ql(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ir(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(ec(n,e,r,i=Zl()),Xa(n,t,r))}}function Wa(e){var t=e.alternate;return e===ia||null!==t&&t===ia}function qa(e,t){la=sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Ya={readContext:To,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useInsertionEffect:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useSyncExternalStore:da,useId:da,unstable_isNewReconciler:!1},Ja={readContext:To,useCallback:function(e,t){return ma().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Pa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Aa(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Va.bind(null,ia,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ma().memoizedState=e},useState:Ca,useDebugValue:Da,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=Ca(!1),t=e[0];return e=Ha.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=ia,o=ma();if(to){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===Cl)throw Error(n(349));30&ra||_a(i,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Pa(Ea.bind(null,i,a,e),[e]),i.flags|=2048,Ta(9,Sa.bind(null,i,a,r,t),void 0,null),r},useId:function(){var e=ma(),t=Cl.identifierPrefix;if(to){var n=Xi;t=":"+t+"R"+(n=(qi&~(1<<32-rt(qi)-1)).toString(32)+n),0<(n=ca++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ua++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ka={readContext:To,useCallback:Ba,useContext:To,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:Ia,useLayoutEffect:Na,useMemo:Fa,useReducer:ya,useRef:La,useState:function(){return ya(va)},useDebugValue:Da,useDeferredValue:function(e){return $a(ga(),oa.memoizedState,e)},useTransition:function(){return[ya(va)[0],ga().memoizedState]},useMutableSource:xa,useSyncExternalStore:wa,useId:Ua,unstable_isNewReconciler:!1},Za={readContext:To,useCallback:Ba,useContext:To,useEffect:Ra,useImperativeHandle:za,useInsertionEffect:Ia,useLayoutEffect:Na,useMemo:Fa,useReducer:ba,useRef:La,useState:function(){return ba(va)},useDebugValue:Da,useDeferredValue:function(e){var t=ga();return null===oa?t.memoizedState=e:$a(t,oa.memoizedState,e)},useTransition:function(){return[ba(va)[0],ga().memoizedState]},useMutableSource:xa,useSyncExternalStore:wa,useId:Ua,unstable_isNewReconciler:!1};function Qa(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function es(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ts={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=Ql(e),o=jo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=zo(e,o,i))&&(ec(t,e,i,r),Do(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),i=Ql(e),o=jo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=zo(e,o,i))&&(ec(t,e,i,r),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=Ql(e),i=jo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=zo(e,i,r))&&(ec(t,e,r,n),Do(t,e,r))}};function ns(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,o))}function rs(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"==typeof o&&null!==o?o=To(o):(i=Li(t)?Ci:ki.current,o=(r=null!=(r=t.contextTypes))?Ti(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ts,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function is(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ts.enqueueReplaceState(t,t.state,null)}function os(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=To(o):(o=Li(t)?Ci:ki.current,i.context=Ti(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(es(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ts.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function as(e,t){try{var n="",r=t;do{n+=D(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var cs="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Ul=r),ls(0,t)},n}function ds(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ls(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ls(0,t),"function"!=typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fs(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e)}var ms=v.ReactCurrentOwner,gs=!1;function vs(e,t,n,r){t.child=null===e?bo(t,null,n,r):yo(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=pa(e,t,n,r,o,i),n=fa(),null===e||gs?(to&&n&&Ki(t),t.flags|=1,vs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Ac(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xs(e,t,o,r,i))}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:or)(a,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(or(o,r)&&e.ref===t.ref){if(gs=!1,t.pendingProps=r=o,!(e.lanes&i))return t.lanes=e.lanes,$s(e,t,i);131072&e.flags&&(gs=!0)}}return Ss(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ol,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Ol,Al),Al|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ol,Al),Al|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Ol,Al),Al|=r;return vs(e,t,i,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var o=Li(n)?Ci:ki.current;return o=Ti(t,o),Co(t,i),n=pa(e,t,n,r,o,i),r=fa(),null===e||gs?(to&&r&&Ki(t),t.flags|=1,vs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Es(e,t,n,r,i){if(Li(n)){var o=!0;Ri(t)}else o=!1;if(Co(t,i),null===t.stateNode)Fs(e,t),rs(t,n,r),os(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=To(c):c=Ti(t,c=Li(n)?Ci:ki.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&is(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Mi.current||Ro?("function"==typeof u&&(es(t,n,u,r),l=t.memoizedState),(s=Ro||ns(t,n,s,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,No(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qa(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=To(l):l=Ti(t,l=Li(n)?Ci:ki.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&is(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Mi.current||Ro?("function"==typeof p&&(es(t,n,p,r),f=t.memoizedState),(c=Ro||ns(t,n,c,r,h,f,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,o,i)}function ks(e,t,n,r,i,o){_s(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Ii(t,n,!1),$s(e,t,o);r=t.stateNode,ms.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=yo(t,e.child,null,o),t.child=yo(t,null,s,o)):vs(e,t,s,o),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),qo(e,t.containerInfo)}function Cs(e,t,n,r,i){return uo(),ho(i),t.flags|=256,vs(e,t,n,r),t.child}var Ts,Ls,As,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,t,r){var i,o=t.pendingProps,a=Ko.current,s=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(Ko,1&a),null===e)return ao(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Ic(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Rc(e,o,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(r),t.memoizedState=Ps,e):Ns(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,r,i,o,a,s){if(r)return 256&t.flags?(t.flags&=-257,js(e,t,s,i=ss(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=Ic({mode:"visible",children:i.children},o,0,null),(a=Rc(a,o,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,1&t.mode&&yo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ps,a);if(!(1&t.mode))return js(e,t,s,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,js(e,t,s,i=ss(a=Error(n(419)),i,void 0))}if(l=!!(s&e.childLanes),gs||l){if(null!==(i=Cl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(i.suspendedLanes|s)?0:o)&&o!==a.retryLane&&(a.retryLane=o,Po(e,o),ec(i,e,o,-1))}return pc(),js(e,t,s,i=ss(Error(n(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,eo=ai(o.nextSibling),Qi=t,to=!0,no=null,null!==e&&(Vi[Gi++]=qi,Vi[Gi++]=Xi,Vi[Gi++]=Wi,qi=e.id,Xi=e.overflow,Wi=t),t=Ns(t,i.children),t.flags|=4096,t)}(e,t,l,o,i,a,r);if(s){s=o.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==i?s=Oc(i,s):(s=Rc(s,l,r,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Ps,o}return e=(s=e.child).sibling,o=Oc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Ns(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&ho(r),yo(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mo(e.return,t,n)}function Ds(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(vs(e,t,r.children,n),2&(r=Ko.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Ko,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Zo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ds(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Zo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ds(t,!0,n,null,o);break;case"together":Ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Fs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,!(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!to)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Us(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,r){var o=t.pendingProps;switch(Zi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(t),null;case 1:case 17:return Li(t.type)&&Ai(),Us(t),null;case 3:return o=t.stateNode,Xo(),_i(Mi),_i(ki),ea(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(lo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==no&&(ic(no),no=null))),Ls(e,t),Us(t),null;case 5:Jo(t);var a=Wo(Go.current);if(r=t.type,null!==e&&null!=t.stateNode)As(e,t,r,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(n(166));return Us(t),null}if(e=Wo(Uo.current),lo(t)){o=t.stateNode,r=t.type;var s=t.memoizedProps;switch(o[ci]=t,o[ui]=s,e=!!(1&t.mode),r){case"dialog":jr("cancel",o),jr("close",o);break;case"iframe":case"object":case"embed":jr("load",o);break;case"video":case"audio":for(a=0;a<Pr.length;a++)jr(Pr[a],o);break;case"source":jr("error",o);break;case"img":case"image":case"link":jr("error",o),jr("load",o);break;case"details":jr("toggle",o);break;case"input":q(o,s),jr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},jr("invalid",o);break;case"textarea":te(o,s),jr("invalid",o)}for(var l in me(r,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?o.textContent!==c&&(!0!==s.suppressHydrationWarning&&Yr(o.textContent,c,e),a=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Yr(o.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",o)}switch(r){case"input":U(o),J(o,s,!0);break;case"textarea":U(o),re(o);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(o.onclick=Jr)}o=a,t.updateQueue=o,null!==o&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=l.createElement(r,{is:o.is}):(e=l.createElement(r),"select"===r&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,r),e[ci]=t,e[ui]=o,Ts(e,t,!1,!1),t.stateNode=e;e:{switch(l=ge(r,o),r){case"dialog":jr("cancel",e),jr("close",e),a=o;break;case"iframe":case"object":case"embed":jr("load",e),a=o;break;case"video":case"audio":for(a=0;a<Pr.length;a++)jr(Pr[a],e);a=o;break;case"source":jr("error",e),a=o;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=o;break;case"details":jr("toggle",e),a=o;break;case"input":q(e,o),a=W(e,o),jr("invalid",e);break;case"option":default:a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=I({},o,{value:void 0}),jr("invalid",e);break;case"textarea":te(e,o),a=ee(e,o),jr("invalid",e)}for(s in me(r,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?pe(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&le(e,u):"children"===s?"string"==typeof u?("textarea"!==r||""!==u)&&ce(e,u):"number"==typeof u&&ce(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",e):null!=u&&g(e,s,u,l))}switch(r){case"input":U(e),J(e,o,!1);break;case"textarea":U(e),re(e);break;case"option":null!=o.value&&e.setAttribute("value",""+$(o.value));break;case"select":e.multiple=!!o.multiple,null!=(s=o.value)?Q(e,!!o.multiple,s,!1):null!=o.defaultValue&&Q(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Jr)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Us(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(n(166));if(r=Wo(Go.current),Wo(Uo.current),lo(t)){if(o=t.stateNode,r=t.memoizedProps,o[ci]=t,(s=o.nodeValue!==r)&&null!==(e=Qi))switch(e.tag){case 3:Yr(o.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(o.nodeValue,r,!!(1&e.mode))}s&&(t.flags|=4)}else(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[ci]=t,t.stateNode=o}return Us(t),null;case 13:if(_i(Ko),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(to&&null!==eo&&1&t.mode&&!(128&t.flags))co(),uo(),t.flags|=98560,s=!1;else if(s=lo(t),null!==o&&null!==o.dehydrated){if(null===e){if(!s)throw Error(n(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(n(317));s[ci]=t}else uo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Us(t),s=!1}else null!==no&&(ic(no),no=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ko.current?0===Pl&&(Pl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Us(t),null);case 4:return Xo(),Ls(e,t),null===e&&Br(t.stateNode.containerInfo),Us(t),null;case 10:return ko(t.type._context),Us(t),null;case 19:if(_i(Ko),null===(s=t.memoizedState))return Us(t),null;if(o=!!(128&t.flags),null===(l=s.rendering))if(o)Hs(s,!1);else{if(0!==Pl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Zo(e))){for(t.flags|=128,Hs(s,!1),null!==(o=l.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;null!==r;)e=o,(s=r).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Si(Ko,1&Ko.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Fl&&(t.flags|=128,o=!0,Hs(s,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Zo(l))){if(t.flags|=128,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!to)return Us(t),null}else 2*Xe()-s.renderingStartTime>Fl&&1073741824!==r&&(t.flags|=128,o=!0,Hs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=s.last)?r.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,r=Ko.current,Si(Ko,o?1&r|2:1&r),t):(Us(t),null);case 22:case 23:return cc(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&1&t.mode?!!(1073741824&Al)&&(Us(t),6&t.subtreeFlags&&(t.flags|=8192)):Us(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Gs(e,t){switch(Zi(t),t.tag){case 1:return Li(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),_i(Mi),_i(ki),ea(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(_i(Ko),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));uo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(Ko),null;case 4:return Xo(),null;case 10:return ko(t.type._context),null;case 22:case 23:return cc(),null;default:return null}}Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(){},As=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Wo(Uo.current);var a,s=null;switch(n){case"input":o=W(e,o),r=W(e,r),s=[];break;case"select":o=I({},o,{value:void 0}),r=I({},r,{value:void 0}),s=[];break;case"textarea":o=ee(e,o),r=ee(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in me(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ws=!1,qs=!1,Xs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Zs(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Qs=!1;function el(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Zs(t,n,o)}i=i.next}while(i!==r)}}function tl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[ui],delete t[hi],delete t[pi],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}var ll=null,cl=!1;function ul(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(nt&&"function"==typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(s){}switch(n.tag){case 5:qs||Ks(n,t);case 6:var r=ll,i=cl;ll=null,ul(e,t,n),cl=i,null!==(ll=r)&&(cl?(e=ll,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ll.removeChild(n.stateNode));break;case 18:null!==ll&&(cl?(e=ll,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Bt(e)):oi(ll,n.stateNode));break;case 4:r=ll,i=cl,ll=n.stateNode.containerInfo,cl=!0,ul(e,t,n),ll=r,cl=i;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&Zs(n,t,a),i=i.next}while(i!==r)}ul(e,t,n);break;case 1:if(!qs&&(Ks(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(qs=(r=qs)||null!==n.memoizedState,ul(e,t,n),qs=r):ul(e,t,n);break;default:ul(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pl(e,t){var r=t.deletions;if(null!==r)for(var i=0;i<r.length;i++){var o=r[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ll=l.stateNode,cl=!1;break e;case 3:case 4:ll=l.stateNode.containerInfo,cl=!0;break e}l=l.return}if(null===ll)throw Error(n(160));dl(a,s,o),ll=null,cl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){_c(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&i){try{el(3,e,e.return),tl(3,e)}catch(LH){_c(e,e.return,LH)}try{el(5,e,e.return)}catch(LH){_c(e,e.return,LH)}}break;case 1:pl(t,e),ml(e),512&i&&null!==r&&Ks(r,r.return);break;case 5:if(pl(t,e),ml(e),512&i&&null!==r&&Ks(r,r.return),32&e.flags){var o=e.stateNode;try{ce(o,"")}catch(LH){_c(e,e.return,LH)}}if(4&i&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(o,a),ge(l,s);var u=ge(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?pe(o,h):"dangerouslySetInnerHTML"===d?le(o,h):"children"===d?ce(o,h):g(o,d,h,u)}switch(l){case"input":Y(o,a);break;case"textarea":ne(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?Q(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?Q(o,!!a.multiple,a.defaultValue,!0):Q(o,!!a.multiple,a.multiple?[]:"",!1))}o[ui]=a}catch(LH){_c(e,e.return,LH)}}break;case 6:if(pl(t,e),ml(e),4&i){if(null===e.stateNode)throw Error(n(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(LH){_c(e,e.return,LH)}}break;case 3:if(pl(t,e),ml(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(LH){_c(e,e.return,LH)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Xe())),4&i&&hl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(qs=(u=qs)||d,pl(t,e),qs=u):pl(t,e),ml(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:el(4,p,p.return);break;case 1:Ks(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){i=p,r=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(LH){_c(i,r,LH)}}break;case 5:Ks(p,p.return);break;case 22:if(null!==p.memoizedState){bl(h);continue}}null!==f?(f.return=p,Js=f):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",s))}catch(LH){_c(e,e.return,LH)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(LH){_c(e,e.return,LH)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),ml(e),4&i&&hl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var i=r;break e}r=r.return}throw Error(n(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(ce(o,""),i.flags&=-33),sl(e,ol(e),o);break;case 3:case 4:var a=i.stateNode.containerInfo;al(e,ol(e),a);break;default:throw Error(n(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Js=e,vl(e)}function vl(e,t,n){for(var r=!!(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ws;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||qs;s=Ws;var c=qs;if(Ws=a,(qs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Js=l):xl(i);for(;null!==o;)Js=o,vl(o),o=o.sibling;Js=i,Ws=s,qs=c}yl(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Js=o):yl(e)}}function yl(e){for(;null!==Js;){var t=Js;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:qs||tl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!qs)if(null===r)i.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Qa(t.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$o(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}$o(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(n(163))}qs||512&t.flags&&nl(t)}catch(p){_c(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(r=t.sibling)){r.return=t.return,Js=r;break}Js=t.return}}function bl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var o=t.return;try{nl(t)}catch(l){_c(t,o,l)}break;case 5:var a=t.return;try{nl(t)}catch(l){_c(t,a,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var wl,_l=Math.ceil,Sl=v.ReactCurrentDispatcher,El=v.ReactCurrentOwner,kl=v.ReactCurrentBatchConfig,Ml=0,Cl=null,Tl=null,Ll=0,Al=0,Ol=wi(0),Pl=0,Rl=null,Il=0,Nl=0,jl=0,zl=null,Dl=null,Bl=0,Fl=1/0,$l=null,Hl=!1,Ul=null,Vl=null,Gl=!1,Wl=null,ql=0,Xl=0,Yl=null,Jl=-1,Kl=0;function Zl(){return 6&Ml?Xe():-1!==Jl?Jl:Jl=Xe()}function Ql(e){return 1&e.mode?2&Ml&&0!==Ll?Ll&-Ll:null!==po.transition?(0===Kl&&(Kl=ht()),Kl):0!==(e=gt)?e:e=void 0===(e=window.event)?16:qt(e.type):1}function ec(e,t,r,i){if(50<Xl)throw Xl=0,Yl=null,Error(n(185));ft(e,r,i),2&Ml&&e===Cl||(e===Cl&&(!(2&Ml)&&(Nl|=r),4===Pl&&oc(e,Ll)),tc(e,i),1===r&&0===Ml&&!(1&t.mode)&&(Fl=Xe()+500,ji&&Bi()))}function tc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-rt(o),s=1<<a,l=i[a];-1===l?s&n&&!(s&r)||(i[a]=ut(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ct(e,e===Cl?Ll:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,Di(e)}(ac.bind(null,e)):Di(ac.bind(null,e)),ri((function(){!(6&Ml)&&Bi()})),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=Ke;break;case 16:default:n=Ze;break;case 536870912:n=et}n=Cc(n,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nc(e,t){if(Jl=-1,Kl=0,6&Ml)throw Error(n(327));var r=e.callbackNode;if(xc()&&e.callbackNode!==r)return null;var i=ct(e,e===Cl?Ll:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=fc(e,i);else{t=i;var o=Ml;Ml|=2;var a=hc();for(Cl===e&&Ll===t||($l=null,Fl=Xe()+500,uc(e,t));;)try{gc();break}catch(l){dc(e,l)}Eo(),Sl.current=a,Ml=o,null!==Tl?t=0:(Cl=null,Ll=0,t=Pl)}if(0!==t){if(2===t&&(0!==(o=dt(e))&&(i=o,t=rc(e,o))),1===t)throw r=Rl,uc(e,0),oc(e,i),tc(e,Xe()),r;if(6===t)oc(e,i);else{if(o=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ir(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=fc(e,i),2===t&&(a=dt(e),0!==a&&(i=a,t=rc(e,a))),1!==t)))throw r=Rl,uc(e,0),oc(e,i),tc(e,Xe()),r;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(n(345));case 2:case 5:bc(e,Dl,$l);break;case 3:if(oc(e,i),(130023424&i)===i&&10<(t=Bl+500-Xe())){if(0!==ct(e,0))break;if(((o=e.suspendedLanes)&i)!==i){Zl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ei(bc.bind(null,e,Dl,$l),t);break}bc(e,Dl,$l);break;case 4:if(oc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var s=31-rt(i);a=1<<s,(s=t[s])>o&&(o=s),i&=~a}if(i=o,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_l(i/1960))-i)){e.timeoutHandle=ei(bc.bind(null,e,Dl,$l),i);break}bc(e,Dl,$l);break;default:throw Error(n(329))}}}return tc(e,Xe()),e.callbackNode===r?nc.bind(null,e):null}function rc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Dl,Dl=n,null!==t&&ic(t)),e}function ic(e){null===Dl?Dl=e:Dl.push.apply(Dl,e)}function oc(e,t){for(t&=~jl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(6&Ml)throw Error(n(327));xc();var t=ct(e,0);if(!(1&t))return tc(e,Xe()),null;var r=fc(e,t);if(0!==e.tag&&2===r){var i=dt(e);0!==i&&(t=i,r=rc(e,i))}if(1===r)throw r=Rl,uc(e,0),oc(e,t),tc(e,Xe()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Dl,$l),tc(e,Xe()),null}function sc(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(Fl=Xe()+500,ji&&Bi())}}function lc(e){null!==Wl&&0===Wl.tag&&!(6&Ml)&&xc();var t=Ml;Ml|=1;var n=kl.transition,r=gt;try{if(kl.transition=null,gt=1,e)return e()}finally{gt=r,kl.transition=n,!(6&(Ml=t))&&Bi()}}function cc(){Al=Ol.current,_i(Ol)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(Zi(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ai();break;case 3:Xo(),_i(Mi),_i(ki),ea();break;case 5:Jo(r);break;case 4:Xo();break;case 13:case 19:_i(Ko);break;case 10:ko(r.type._context);break;case 22:case 23:cc()}n=n.return}if(Cl=e,Tl=e=Oc(e.current,null),Ll=Al=t,Pl=0,Rl=null,jl=Nl=Il=0,Dl=zl=null,null!==Lo){for(t=0;t<Lo.length;t++)if(null!==(r=(n=Lo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Lo=null}return e}function dc(e,t){for(;;){var r=Tl;try{if(Eo(),ta.current=Ya,sa){for(var i=ia.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}sa=!1}if(ra=0,aa=oa=ia=null,la=!1,ca=0,El.current=null,null===r||null===r.return){Pl=1,Rl=t,Tl=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ps(s);if(null!==f){f.flags&=-257,fs(f,s,l,0,t),1&f.mode&&hs(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){hs(a,u,t),pc();break e}c=Error(n(426))}else if(to&&1&l.mode){var v=ps(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),fs(v,s,l,0,t),ho(as(c,l));break e}}a=c=as(c,l),4!==Pl&&(Pl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,us(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Vl&&Vl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bo(a,ds(a,l,t));break e}}a=a.return}while(null!==a)}yc(r)}catch(x){t=x,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Ya,null===e?Ya:e}function pc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Cl||!(268435455&Il)&&!(268435455&Nl)||oc(Cl,Ll)}function fc(e,t){var r=Ml;Ml|=2;var i=hc();for(Cl===e&&Ll===t||($l=null,uc(e,t));;)try{mc();break}catch(gG){dc(e,gG)}if(Eo(),Ml=r,Sl.current=i,null!==Tl)throw Error(n(261));return Cl=null,Ll=0,Pl}function mc(){for(;null!==Tl;)vc(Tl)}function gc(){for(;null!==Tl&&!We();)vc(Tl)}function vc(e){var t=wl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?yc(e):Tl=t,El.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Pl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Vs(n,t,Al)))return void(Tl=n);if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Pl&&(Pl=5)}function bc(e,t,r){var i=gt,o=kl.transition;try{kl.transition=null,gt=1,function(e,t,r,i){do{xc()}while(null!==Wl);if(6&Ml)throw Error(n(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cl&&(Tl=Cl=null,Ll=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Gl||(Gl=!0,Cc(Ze,(function(){return xc(),null}))),a=!!(15990&r.flags),!!(15990&r.subtreeFlags)||a){a=kl.transition,kl.transition=null;var s=gt;gt=1;var l=Ml;Ml|=4,El.current=null,function(e,t){if(Kr=$t,ur(e=cr())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(i&&0!==i.rangeCount){r=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{r.nodeType,a.nodeType}catch(w){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===o&&(l=s),p===a&&++d===i&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zr={focusedElem:e,selectionRange:r},$t=!1,Js=t;null!==Js;)if(e=(t=Js).child,1028&t.subtreeFlags&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Qa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(n(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=Qs,Qs=!1}(e,r),fl(r,e),dr(Zr),$t=!!Kr,Zr=Kr=null,e.current=r,gl(r),qe(),Ml=l,gt=s,kl.transition=a}else e.current=r;if(Gl&&(Gl=!1,Wl=e,ql=o),a=e.pendingLanes,0===a&&(Vl=null),function(e){if(nt&&"function"==typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),tc(e,Xe()),null!==t)for(i=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Ul,Ul=null,e;!!(1&ql)&&0!==e.tag&&xc(),a=e.pendingLanes,1&a?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Bi()}(e,t,r,i)}finally{kl.transition=o,gt=i}return null}function xc(){if(null!==Wl){var e=vt(ql),t=kl.transition,r=gt;try{if(kl.transition=null,gt=16>e?16:e,null===Wl)var i=!1;else{if(e=Wl,Wl=null,ql=0,6&Ml)throw Error(n(331));var o=Ml;for(Ml|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(16&Js.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:el(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(rl(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(2048&(a=Js).flags)switch(a.tag){case 0:case 11:case 15:el(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:tl(9,l)}}catch(_){_c(l,l.return,_)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(Ml=o,Bi(),nt&&"function"==typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(_){}i=!0}return i}finally{gt=r,kl.transition=t}}return!1}function wc(e,t,n){e=zo(e,t=us(0,t=as(n,t),1),1),t=Zl(),null!==e&&(ft(e,1,t),tc(e,t))}function _c(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=zo(t,e=ds(t,e=as(n,e),1),1),e=Zl(),null!==t&&(ft(t,1,e),tc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Ll&n)===n&&(4===Pl||3===Pl&&(130023424&Ll)===Ll&&500>Xe()-Bl?uc(e,0):jl|=n),tc(e,t)}function Ec(e,t){0===t&&(1&e.mode?(t=st,!(130023424&(st<<=1))&&(st=4194304)):t=1);var n=Zl();null!==(e=Po(e,t))&&(ft(e,t,n),tc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Mc(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(n(314))}null!==i&&i.delete(t),Ec(e,r)}function Cc(e,t){return Ve(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Tc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,r,i,o,a){var s=2;if(i=e,"function"==typeof e)Ac(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Rc(r.children,o,a,t);case w:s=8,o|=8;break;case _:return(e=Lc(12,r,t,2|o)).elementType=_,e.lanes=a,e;case M:return(e=Lc(13,r,t,o)).elementType=M,e.lanes=a,e;case C:return(e=Lc(19,r,t,o)).elementType=C,e.lanes=a,e;case A:return Ic(r,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case E:s=9;break e;case k:s=11;break e;case T:s=14;break e;case L:s=16,i=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Lc(s,r,t,o)).elementType=e,t.type=i,t.lanes=a,t}function Rc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dc(e,t,n,r,i,o,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Bc(e){if(!e)return Ei;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(Li(r))return Pi(e,r,t)}return t}function Fc(e,t,n,r,i,o,a,s,l){return(e=Dc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=jo(r=Zl(),i=Ql(n))).callback=null!=t?t:null,zo(n,o,i),e.current.lanes=i,ft(e,i,r),tc(e,r),e}function $c(e,t,n,r){var i=t.current,o=Zl(),a=Ql(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(ec(e,i,a,o),Do(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}wl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)gs=!0;else{if(!(e.lanes&r||128&t.flags))return gs=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),uo();break;case 5:Yo(t);break;case 1:Li(t.type)&&Ri(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(xo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Ko,1&Ko.current),t.flags|=128,null):n&t.child.childLanes?Is(e,t,n):(Si(Ko,1&Ko.current),null!==(e=$s(e,t,n))?e.sibling:null);Si(Ko,1&Ko.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Ko,Ko.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return $s(e,t,n)}(e,t,r);gs=!!(131072&e.flags)}else gs=!1,to&&1048576&t.flags&&Ji(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Fs(e,t),e=t.pendingProps;var o=Ti(t,ki.current);Co(t,r),o=pa(null,t,i,e,o,r);var a=fa();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(i)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Io(t),o.updater=ts,t.stateNode=o,o._reactInternals=t,os(t,i,e,r),t=ks(null,t,i,!0,a,r)):(t.tag=0,to&&a&&Ki(t),vs(null,t,o,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ac(e)?1:0;if(null!=e){if((e=e.$$typeof)===k)return 11;if(e===T)return 14}return 2}(i),e=Qa(i,e),o){case 0:t=Ss(null,t,i,e,r);break e;case 1:t=Es(null,t,i,e,r);break e;case 11:t=ys(null,t,i,e,r);break e;case 14:t=bs(null,t,i,Qa(i.type,e),r);break e}throw Error(n(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,Ss(e,t,i,o=t.elementType===i?o:Qa(i,o),r);case 1:return i=t.type,o=t.pendingProps,Es(e,t,i,o=t.elementType===i?o:Qa(i,o),r);case 3:e:{if(Ms(t),null===e)throw Error(n(387));i=t.pendingProps,o=(a=t.memoizedState).element,No(e,t),Fo(t,i,null,r);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Cs(e,t,i,r,o=as(Error(n(423)),t));break e}if(i!==o){t=Cs(e,t,i,r,o=as(Error(n(424)),t));break e}for(eo=ai(t.stateNode.containerInfo.firstChild),Qi=t,to=!0,no=null,r=bo(t,null,i,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(uo(),i===o){t=$s(e,t,r);break e}vs(e,t,i,r)}t=t.child}return t;case 5:return Yo(t),null===e&&ao(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Qr(i,o)?s=null:null!==a&&Qr(i,a)&&(t.flags|=32),_s(e,t),vs(e,t,s,r),t.child;case 6:return null===e&&ao(t),null;case 13:return Is(e,t,r);case 4:return qo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=yo(t,null,i,r):vs(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,ys(e,t,i,o=t.elementType===i?o:Qa(i,o),r);case 7:return vs(e,t,t.pendingProps,r),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Si(xo,i._currentValue),i._currentValue=s,null!==a)if(ir(a.value,s)){if(a.children===o.children&&!Mi.current){t=$s(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=jo(-1,r&-r)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Mo(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(n(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Mo(s,r,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}vs(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Co(t,r),i=i(o=To(o)),t.flags|=1,vs(e,t,i,r),t.child;case 14:return o=Qa(i=t.type,t.pendingProps),bs(e,t,i,o=Qa(i.type,o),r);case 15:return xs(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Qa(i,o),Fs(e,t),t.tag=1,Li(i)?(e=!0,Ri(t)):e=!1,Co(t,r),rs(t,i,o),os(t,i,o,r),ks(null,t,i,!0,e,r);case 19:return Bs(e,t,r);case 22:return ws(e,t,r)}throw Error(n(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Kc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}$c(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=Fc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[di]=a.current,Br(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Dc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[di]=l.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}qc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));$c(e,t,null,null)},qc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){$c(null,e,null,null)})),t[di]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&It(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lt(t.pendingLanes);0!==n&&(mt(t,1|n),tc(t,Xe()),!(6&Ml)&&(Fl=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Po(e,1);if(null!==t){var n=Zl();ec(t,e,1,n)}})),Vc(e,1)}},bt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)ec(t,e,134217728,Zl());Vc(e,134217728)}},xt=function(e){if(13===e.tag){var t=Ql(e),n=Po(e,t);if(null!==n)ec(n,e,t,Zl());Vc(e,t)}},wt=function(){return gt},_t=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},be=function(e,t,r){switch(t){case"input":if(Y(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=yi(i);if(!o)throw Error(n(90));V(i),Y(i,o)}}}break;case"textarea":ne(e,r);break;case"select":null!=(t=r.value)&&Q(e,!!r.multiple,t,!1)}},ke=sc,Me=lc;var Zc={usingClientEntryPoint:!1,Events:[gi,vi,yi,Se,Ee,sc]},Qc={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eu={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{tt=tu.inject(eu),nt=tu}catch(se){}}return Eu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,Eu.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(n(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,r)},Eu.createRoot=function(e,t){if(!Xc(e))throw Error(n(299));var r=!1,i="",o=Gc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Dc(e,1,!1,null,0,r,0,i,o),e[di]=t.current,Br(8===e.nodeType?e.parentNode:e),new Wc(t)},Eu.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=He(t))?null:e.stateNode},Eu.flushSync=function(e){return lc(e)},Eu.hydrate=function(e,t,r){if(!Yc(t))throw Error(n(200));return Kc(null,e,t,!0,r)},Eu.hydrateRoot=function(e,t,r){if(!Xc(e))throw Error(n(405));var i=null!=r&&r.hydratedSources||null,o=!1,a="",s=Gc;if(null!=r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Fc(t,null,e,1,null!=r?r:null,o,0,a,s),e[di]=t.current,Br(e),i)for(e=0;e<i.length;e++)o=(o=(r=i[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new qc(t)},Eu.render=function(e,t,r){if(!Yc(t))throw Error(n(200));return Kc(null,e,t,!1,r)},Eu.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(n(40));return!!e._reactRootContainer&&(lc((function(){Kc(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},Eu.unstable_batchedUpdates=sc,Eu.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Yc(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Kc(e,t,r,!1,i)},Eu.version="18.3.1-next-f1338f8080-20240426",Eu}function Lu(){if(_u)return Su.exports;return _u=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),Su.exports=Tu(),Su.exports}var Au=Lu();const Ou=Bs(Au),Pu=r({__proto__:null,default:Ou},[Au]);
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(this,arguments)}var Iu,Nu;(Nu=Iu||(Iu={})).Pop="POP",Nu.Push="PUSH",Nu.Replace="REPLACE";const ju="popstate";function zu(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Iu.Pop,l=null,c=u();null==c&&(c=0,a.replaceState(Ru({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=Iu.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s=Iu.Push;let n=$u(m.location,e,t);c=u()+1;let r=Fu(n,c),d=m.createHref(n);try{a.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}o&&l&&l({action:s,location:m.location,delta:1})}function p(e,t){s=Iu.Replace;let n=$u(m.location,e,t);c=u();let r=Fu(n,c),i=m.createHref(n);a.replaceState(r,"",i),o&&l&&l({action:s,location:m.location,delta:0})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:Hu(e);return n=n.replace(/ $/,"%20"),Du(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ju,d),l=e,()=>{i.removeEventListener(ju,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>a.go(e)};return m}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return $u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:Hu(t)}),0,e)}function Du(e,t){if(!1===e||null==e)throw new Error(t)}function Bu(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(gG){}}}function Fu(e,t){return{usr:e.state,key:e.key,idx:t}}function $u(e,t,n,r){return void 0===n&&(n=null),Ru({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Uu(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Hu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Uu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Vu,Gu;(Gu=Vu||(Vu={})).data="data",Gu.deferred="deferred",Gu.redirect="redirect",Gu.error="error";const Wu=new Set(["lazy","caseSensitive","path","id","index","children"]);function qu(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,String(i)],a="string"==typeof e.id?e.id:o.join("-");if(Du(!0!==e.index||!e.children,"Cannot specify children on an index route"),Du(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=Ru({},e,t(e),{id:a});return r[a]=n,n}{let n=Ru({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=qu(e.children,t,o,r)),n}}))}function Xu(e,t,n){return void 0===n&&(n="/"),Yu(e,t,n,!1)}function Yu(e,t,n,r){let i=cd(("string"==typeof t?Uu(t):t).pathname||"/",n);if(null==i)return null;let o=Ju(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=ld(i);a=ad(o[s],e,r)}return a}function Ju(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Du(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=fd([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Du(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),Ju(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:od(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of Ku(e.path))i(e,t,r);else i(e,t)})),t}function Ku(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=Ku(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const Zu=/^:[\w-]+$/,Qu=3,ed=2,td=1,nd=10,rd=-2,id=e=>"*"===e;function od(e,t){let n=e.split("/"),r=n.length;return n.some(id)&&(r+=rd),t&&(r+=ed),n.filter((e=>!id(e))).reduce(((e,t)=>e+(Zu.test(t)?Qu:""===t?td:nd)),r)}function ad(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=sd({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=sd({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:fd([o,u.pathname]),pathnameBase:md(fd([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=fd([o,u.pathnameBase]))}return a}function sd(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Bu("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function ld(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Bu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function cd(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ud(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function dd(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function hd(e,t){let n=dd(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function pd(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=Uu(e):(i=Ru({},e),Du(!i.pathname||!i.pathname.includes("?"),ud("?","pathname","search",i)),Du(!i.pathname||!i.pathname.includes("#"),ud("#","pathname","hash",i)),Du(!i.search||!i.search.includes("#"),ud("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?Uu(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:gd(r),hash:vd(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const fd=e=>e.join("/").replace(/\/\/+/g,"/"),md=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gd=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",vd=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class yd{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function bd(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const xd=["post","put","patch","delete"],wd=new Set(xd),_d=["get",...xd],Sd=new Set(_d),Ed=new Set([301,302,303,307,308]),kd=new Set([307,308]),Md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cd={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Td={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ld=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ad=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),Od="remix-router-transitions";function Pd(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,r=!n;let i;if(Du(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=Ad;let o,a,s,l={},c=qu(e.routes,i,void 0,l),u=e.basename||"/",d=e.dataStrategy||Hd,h=e.patchRoutesOnNavigation,p=Ru({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,m=new Set,g=null,v=null,y=null,b=null!=e.hydrationData,x=Xu(c,e.history.location,u),w=!1,_=null;if(null==x&&!h){let t=eh(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Qd(c);x=n,_={[r.id]:t}}if(x&&!e.hydrationData){fe(x,c,e.history.location.pathname).active&&(x=null)}if(x)if(x.some((e=>e.route.lazy)))a=!1;else if(x.some((e=>e.route.loader)))if(p.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=x.findIndex((e=>void 0!==n[e.route.id]));a=x.slice(0,e+1).every((e=>!zd(e.route,t,n)))}else a=x.every((e=>!zd(e.route,t,n)))}else a=null!=e.hydrationData;else a=!0;else if(a=!1,x=[],p.v7_partialHydration){let t=fe(null,c,e.history.location.pathname);t.active&&t.matches&&(w=!0,x=t.matches)}let S,E,k={historyAction:e.history.action,location:e.history.location,matches:x,initialized:a,navigation:Md,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},M=Iu.Pop,C=!1,T=!1,L=new Map,A=null,O=!1,P=!1,R=[],I=new Set,N=new Map,j=0,z=-1,D=new Map,B=new Set,F=new Map,$=new Map,H=new Set,U=new Map,V=new Map;function G(e,t){void 0===t&&(t={}),k=Ru({},k,e);let n=[],r=[];p.v7_fetcherPersist&&k.fetchers.forEach(((e,t)=>{"idle"===e.state&&(H.has(t)?r.push(t):n.push(t))})),H.forEach((e=>{k.fetchers.has(e)||N.has(e)||r.push(e)})),[...m].forEach((e=>e(k,{deletedFetchers:r,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),p.v7_fetcherPersist?(n.forEach((e=>k.fetchers.delete(e))),r.forEach((e=>ne(e)))):r.forEach((e=>H.delete(e)))}function W(t,n,r){var i,a;let s,{flushSync:l}=void 0===r?{}:r,u=null!=k.actionData&&null!=k.navigation.formMethod&&ch(k.navigation.formMethod)&&"loading"===k.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?k.actionData:null;let d=n.loaderData?Jd(k.loaderData,n.loaderData,n.matches||[],n.errors):k.loaderData,h=k.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,Td))));let p,f=!0===C||null!=k.navigation.formMethod&&ch(k.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(o&&(c=o,o=void 0),O||M===Iu.Pop||(M===Iu.Push?e.history.push(t,t.state):M===Iu.Replace&&e.history.replace(t,t.state)),M===Iu.Pop){let e=L.get(k.location.pathname);e&&e.has(t.pathname)?p={currentLocation:k.location,nextLocation:t}:L.has(t.pathname)&&(p={currentLocation:t,nextLocation:k.location})}else if(T){let e=L.get(k.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(k.location.pathname,e)),p={currentLocation:k.location,nextLocation:t}}G(Ru({},n,{actionData:s,loaderData:d,historyAction:M,location:t,initialized:!0,navigation:Md,revalidation:"idle",restoreScrollPosition:pe(t,n.matches||k.matches),preventScrollReset:f,blockers:h}),{viewTransitionOpts:p,flushSync:!0===l}),M=Iu.Pop,C=!1,T=!1,O=!1,P=!1,R=[]}async function q(t,n,r){S&&S.abort(),S=null,M=t,O=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(g&&y){let n=he(e,t);g[n]=y()}}(k.location,k.matches),C=!0===(r&&r.preventScrollReset),T=!0===(r&&r.enableViewTransition);let i=o||c,a=r&&r.overrideNavigation,s=null!=r&&r.initialHydration&&k.matches&&k.matches.length>0&&!w?k.matches:Xu(i,n,u),l=!0===(r&&r.flushSync);if(s&&k.initialized&&!P&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(k.location,n)&&!(r&&r.submission&&ch(r.submission.formMethod)))return void W(n,{matches:s},{flushSync:l});let d=fe(s,i,n.pathname);if(d.active&&d.matches&&(s=d.matches),!s){let{error:e,notFoundMatches:t,route:r}=ue(n.pathname);return void W(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:l})}S=new AbortController;let h,f=Wd(e.history,n,S.signal,r&&r.submission);if(r&&r.pendingError)h=[Zd(s).route.id,{type:Vu.error,error:r.pendingError}];else if(r&&r.submission&&ch(r.submission.formMethod)){let t=await async function(e,t,n,r,i,o){void 0===o&&(o={});Z();let a,s=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(G({navigation:s},{flushSync:!0===o.flushSync}),i){let n=await me(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=Zd(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:Vu.error,error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=ue(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:Vu.error,error:n}]}}r=n.matches}let l=fh(r,t);if(l.route.action||l.route.lazy){if(a=(await J("action",k,e,[l],r,null))[l.route.id],e.signal.aborted)return{shortCircuited:!0}}else a={type:Vu.error,error:eh(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(ah(a)){let t;if(o&&null!=o.replace)t=o.replace;else{t=Gd(a.response.headers.get("Location"),new URL(e.url),u)===k.location.pathname+k.location.search}return await Y(e,a,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(ih(a))throw eh(400,{type:"defer-action"});if(oh(a)){let e=Zd(r,l.route.id);return!0!==(o&&o.replace)&&(M=Iu.Push),{matches:r,pendingActionResult:[e.route.id,a]}}return{matches:r,pendingActionResult:[l.route.id,a]}}(f,n,r.submission,s,d.active,{replace:r.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(oh(r)&&bd(r.error)&&404===r.error.status)return S=null,void W(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}s=t.matches||s,h=t.pendingActionResult,a=gh(n,r.submission),l=!1,d.active=!1,f=Wd(e.history,f.url,f.signal)}let{shortCircuited:m,matches:v,loaderData:b,errors:x}=await async function(t,n,r,i,a,s,l,d,h,f,m){let g=a||gh(n,s),v=s||l||mh(g),y=!(O||p.v7_partialHydration&&h);if(i){if(y){let e=X(m);G(Ru({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:f})}let e=await me(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=Zd(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=ue(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let b=o||c,[x,w]=jd(e.history,k,r,v,n,p.v7_partialHydration&&!0===h,p.v7_skipActionErrorRevalidation,P,R,I,H,F,B,b,u,m);if(de((e=>!(r&&r.some((t=>t.route.id===e)))||x&&x.some((t=>t.route.id===e)))),z=++j,0===x.length&&0===w.length){let e=oe();return W(n,Ru({matches:r,loaderData:{},errors:m&&oh(m[1])?{[m[0]]:m[1].error}:null},Kd(m),e?{fetchers:new Map(k.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(y){let e={};if(!i){e.navigation=g;let t=X(m);void 0!==t&&(e.actionData=t)}w.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=k.fetchers.get(e.key),n=vh(void 0,t?t.data:void 0);k.fetchers.set(e.key,n)})),new Map(k.fetchers)}(w)),G(e,{flushSync:f})}w.forEach((e=>{re(e.key),e.controller&&N.set(e.key,e.controller)}));let _=()=>w.forEach((e=>re(e.key)));S&&S.signal.addEventListener("abort",_);let{loaderResults:E,fetcherResults:M}=await K(k,r,x,w,t);if(t.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",_);w.forEach((e=>N.delete(e.key)));let C=th(E);if(C)return await Y(t,C.result,!0,{replace:d}),{shortCircuited:!0};if(C=th(M),C)return B.add(C.key),await Y(t,C.result,!0,{replace:d}),{shortCircuited:!0};let{loaderData:T,errors:L}=Yd(k,r,E,m,w,M,U);U.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&U.delete(t)}))})),p.v7_partialHydration&&h&&k.errors&&(L=Ru({},k.errors,L));let A=oe(),D=ae(z),$=A||D||w.length>0;return Ru({matches:r,loaderData:T,errors:L},$?{fetchers:new Map(k.fetchers)}:{})}(f,n,s,d.active,a,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,l,h);m||(S=null,W(n,Ru({matches:v||s},Kd(h),{loaderData:b,errors:x})))}function X(e){return e&&!oh(e[1])?{[e[0]]:e[1].data}:k.actionData?0===Object.keys(k.actionData).length?null:k.actionData:void 0}async function Y(r,i,o,a){let{submission:s,fetcherSubmission:l,preventScrollReset:c,replace:d}=void 0===a?{}:a;i.response.headers.has("X-Remix-Revalidate")&&(P=!0);let h=i.response.headers.get("Location");Du(h,"Expected a Location header on the redirect Response"),h=Gd(h,new URL(r.url),u);let p=$u(k.location,h,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(Ld.test(h)){const r=e.history.createURL(h);n=r.origin!==t.location.origin||null==cd(r.pathname,u)}if(n)return void(d?t.location.replace(h):t.location.assign(h))}S=null;let f=!0===d||i.response.headers.has("X-Remix-Replace")?Iu.Replace:Iu.Push,{formMethod:m,formAction:g,formEncType:v}=k.navigation;!s&&!l&&m&&g&&v&&(s=mh(k.navigation));let y=s||l;if(kd.has(i.response.status)&&y&&ch(y.formMethod))await q(f,p,{submission:Ru({},y,{formAction:h}),preventScrollReset:c||C,enableViewTransition:o?T:void 0});else{let e=gh(p,s);await q(f,p,{overrideNavigation:e,fetcherSubmission:l,preventScrollReset:c||C,enableViewTransition:o?T:void 0})}}async function J(e,t,n,r,o,a){let s,c={};try{s=await async function(e,t,n,r,i,o,a,s,l,c){let u=o.map((e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Du(i,"No route found in manifest");let o={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;Bu(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||Wu.has(a)||(o[a]=r[a])}Object.assign(i,o),Object.assign(i,Ru({},t(i),{lazy:void 0}))}(e.route,l,s):void 0)),d=o.map(((e,n)=>{let o=u[n],a=i.some((t=>t.route.id===e.route.id)),s=async n=>(n&&"GET"===r.method&&(e.route.lazy||e.route.loader)&&(a=!0),a?async function(e,t,n,r,i,o){let a,s,l=r=>{let a,l=new Promise(((e,t)=>a=t));s=()=>a(),t.signal.addEventListener("abort",s);let c=i=>"function"!=typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:o},...void 0!==i?[i]:[]),u=(async()=>{try{return{type:"data",result:await(i?i((e=>c(e))):c())}}catch(gG){return{type:"error",result:gG}}})();return Promise.race([u,l])};try{let i=n.route[e];if(r)if(i){let e,[t]=await Promise.all([l(i).catch((t=>{e=t})),r]);if(void 0!==e)throw e;a=t}else{if(await r,i=n.route[e],!i){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw eh(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:Vu.data,result:void 0}}a=await l(i)}else{if(!i){let e=new URL(t.url);throw eh(404,{pathname:e.pathname+e.search})}a=await l(i)}Du(void 0!==a.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(gG){return{type:Vu.error,result:gG}}finally{s&&t.signal.removeEventListener("abort",s)}return a}(t,r,e,o,n,c):Promise.resolve({type:Vu.data,result:void 0}));return Ru({},e,{shouldLoad:a,resolve:s})})),h=await e({matches:d,request:r,params:o[0].params,fetcherKey:a,context:c});try{await Promise.all(u)}catch(gG){}return h}(d,e,0,n,r,o,a,l,i)}catch(gG){return r.forEach((t=>{c[t.route.id]={type:Vu.error,error:gG}})),c}for(let[i,l]of Object.entries(s))if(rh(l)){let e=l.result;c[i]={type:Vu.redirect,response:Vd(e,n,i,o,u,p.v7_relativeSplatPath)}}else c[i]=await Ud(l);return c}async function K(t,n,r,i,o){let a=t.matches,s=J("loader",0,o,r,n,null),l=Promise.all(i.map((async t=>{if(t.matches&&t.match&&t.controller){let n=(await J("loader",0,Wd(e.history,t.path,t.controller.signal),[t.match],t.matches,t.key))[t.match.route.id];return{[t.key]:n}}return Promise.resolve({[t.key]:{type:Vu.error,error:eh(404,{pathname:t.path})}})}))),c=await s,u=(await l).reduce(((e,t)=>Object.assign(e,t)),{});return await Promise.all([uh(n,c,o.signal,a,t.loaderData),dh(n,u,i)]),{loaderResults:c,fetcherResults:u}}function Z(){P=!0,R.push(...de()),F.forEach(((e,t)=>{N.has(t)&&I.add(t),re(t)}))}function Q(e,t,n){void 0===n&&(n={}),k.fetchers.set(e,t),G({fetchers:new Map(k.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ee(e,t,n,r){void 0===r&&(r={});let i=Zd(k.matches,t);ne(e),G({errors:{[i.route.id]:n},fetchers:new Map(k.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function te(e){return $.set(e,($.get(e)||0)+1),H.has(e)&&H.delete(e),k.fetchers.get(e)||Cd}function ne(e){let t=k.fetchers.get(e);!N.has(e)||t&&"loading"===t.state&&D.has(e)||re(e),F.delete(e),D.delete(e),B.delete(e),p.v7_fetcherPersist&&H.delete(e),I.delete(e),k.fetchers.delete(e)}function re(e){let t=N.get(e);t&&(t.abort(),N.delete(e))}function ie(e){for(let t of e){let e=yh(te(t).data);k.fetchers.set(t,e)}}function oe(){let e=[],t=!1;for(let n of B){let r=k.fetchers.get(n);Du(r,"Expected fetcher: "+n),"loading"===r.state&&(B.delete(n),e.push(n),t=!0)}return ie(e),t}function ae(e){let t=[];for(let[n,r]of D)if(r<e){let e=k.fetchers.get(n);Du(e,"Expected fetcher: "+n),"loading"===e.state&&(re(n),D.delete(n),t.push(n))}return ie(t),t.length>0}function se(e){k.blockers.delete(e),V.delete(e)}function le(e,t){let n=k.blockers.get(e)||Td;Du("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(k.blockers);r.set(e,t),G({blockers:r})}function ce(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===V.size)return;V.size>1&&Bu(!1,"A router only supports one blocker at a time");let i=Array.from(V.entries()),[o,a]=i[i.length-1],s=k.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function ue(e){let t=eh(404,{pathname:e}),n=o||c,{matches:r,route:i}=Qd(n);return de(),{notFoundMatches:r,route:i,error:t}}function de(e){let t=[];return U.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),U.delete(r))})),t}function he(e,t){if(v){return v(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,k.loaderData))))||e.key}return e.key}function pe(e,t){if(g){let n=he(e,t),r=g[n];if("number"==typeof r)return r}return null}function fe(e,t,n){if(h){if(!e){return{active:!0,matches:Yu(t,n,u,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:Yu(t,n,u,!0)}}}return{active:!1,matches:null}}async function me(e,t,n,r){if(!h)return{type:"success",matches:e};let a=e;for(;;){let e=null==o,s=o||c,d=l;try{await h({signal:n,path:t,matches:a,fetcherKey:r,patch:(e,t)=>{n.aborted||Fd(e,t,s,d,i)}})}catch(gG){return{type:"error",error:gG,partialMatches:a}}finally{e&&!n.aborted&&(c=[...c])}if(n.aborted)return{type:"aborted"};let p=Xu(s,t,u);if(p)return{type:"success",matches:p};let f=Yu(s,t,u,!0);if(!f||a.length===f.length&&a.every(((e,t)=>e.route.id===f[t].route.id)))return{type:"success",matches:null};a=f}}return s={get basename(){return u},get future(){return p},get state(){return k},get routes(){return c},get window(){return t},initialize:function(){if(f=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(E)return E(),void(E=void 0);Bu(0===V.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ce({currentLocation:k.location,nextLocation:r,historyAction:n});if(o&&null!=i){let t=new Promise((e=>{E=e}));return e.history.go(-1*i),void le(o,{state:"blocked",location:r,proceed(){le(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(i)))},reset(){let e=new Map(k.blockers);e.set(o,Td),G({blockers:e})}})}return q(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(Od);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(gG){}}(t,L);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(Od,JSON.stringify(r))}catch(n){Bu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}
/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(t,L);t.addEventListener("pagehide",e),A=()=>t.removeEventListener("pagehide",e)}return k.initialized||q(Iu.Pop,k.location,{initialHydration:!0}),s},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,n){if(g=e,y=t,v=n||null,!b&&k.navigation===Md){b=!0;let e=pe(k.location,k.matches);null!=e&&G({restoreScrollPosition:e})}return()=>{g=null,y=null,v=null}},navigate:async function t(n,r){if("number"==typeof n)return void e.history.go(n);let i=Rd(k.location,k.matches,u,p.v7_prependBasename,n,p.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:a,error:s}=Id(p.v7_normalizeFormMethod,!1,i,r),l=k.location,c=$u(k.location,o,r&&r.state);c=Ru({},c,e.history.encodeLocation(c));let d=r&&null!=r.replace?r.replace:void 0,h=Iu.Push;!0===d?h=Iu.Replace:!1===d||null!=a&&ch(a.formMethod)&&a.formAction===k.location.pathname+k.location.search&&(h=Iu.Replace);let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.flushSync),g=ce({currentLocation:l,nextLocation:c,historyAction:h});if(!g)return await q(h,c,{submission:a,pendingError:s,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:m});le(g,{state:"blocked",location:c,proceed(){le(g,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,r)},reset(){let e=new Map(k.blockers);e.set(g,Td),G({blockers:e})}})},fetch:function(t,n,i,a){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");re(t);let s=!0===(a&&a.flushSync),l=o||c,d=Rd(k.location,k.matches,u,p.v7_prependBasename,i,p.v7_relativeSplatPath,n,null==a?void 0:a.relative),h=Xu(l,d,u),f=fe(h,l,d);if(f.active&&f.matches&&(h=f.matches),!h)return void ee(t,n,eh(404,{pathname:d}),{flushSync:s});let{path:m,submission:g,error:v}=Id(p.v7_normalizeFormMethod,!0,d,a);if(v)return void ee(t,n,v,{flushSync:s});let y=fh(h,m),b=!0===(a&&a.preventScrollReset);g&&ch(g.formMethod)?async function(t,n,r,i,a,s,l,d,h){function f(e){if(!e.route.action&&!e.route.lazy){let e=eh(405,{method:h.formMethod,pathname:r,routeId:n});return ee(t,n,e,{flushSync:l}),!0}return!1}if(Z(),F.delete(t),!s&&f(i))return;let m=k.fetchers.get(t);Q(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(h,m),{flushSync:l});let g=new AbortController,v=Wd(e.history,r,g.signal,h);if(s){let e=await me(a,new URL(v.url).pathname,v.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ee(t,n,e.error,{flushSync:l});if(!e.matches)return void ee(t,n,eh(404,{pathname:r}),{flushSync:l});if(f(i=fh(a=e.matches,r)))return}N.set(t,g);let y=j,b=await J("action",k,v,[i],a,t),x=b[i.route.id];if(v.signal.aborted)return void(N.get(t)===g&&N.delete(t));if(p.v7_fetcherPersist&&H.has(t)){if(ah(x)||oh(x))return void Q(t,yh(void 0))}else{if(ah(x))return N.delete(t),z>y?void Q(t,yh(void 0)):(B.add(t),Q(t,vh(h)),Y(v,x,!1,{fetcherSubmission:h,preventScrollReset:d}));if(oh(x))return void ee(t,n,x.error)}if(ih(x))throw eh(400,{type:"defer-action"});let w=k.navigation.location||k.location,_=Wd(e.history,w,g.signal),E=o||c,C="idle"!==k.navigation.state?Xu(E,k.navigation.location,u):k.matches;Du(C,"Didn't find any matches after fetcher action");let T=++j;D.set(t,T);let L=vh(h,x.data);k.fetchers.set(t,L);let[A,O]=jd(e.history,k,C,h,w,!1,p.v7_skipActionErrorRevalidation,P,R,I,H,F,B,E,u,[i.route.id,x]);O.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=k.fetchers.get(t),r=vh(void 0,n?n.data:void 0);k.fetchers.set(t,r),re(t),e.controller&&N.set(t,e.controller)})),G({fetchers:new Map(k.fetchers)});let $=()=>O.forEach((e=>re(e.key)));g.signal.addEventListener("abort",$);let{loaderResults:V,fetcherResults:q}=await K(k,C,A,O,_);if(g.signal.aborted)return;g.signal.removeEventListener("abort",$),D.delete(t),N.delete(t),O.forEach((e=>N.delete(e.key)));let X=th(V);if(X)return Y(_,X.result,!1,{preventScrollReset:d});if(X=th(q),X)return B.add(X.key),Y(_,X.result,!1,{preventScrollReset:d});let{loaderData:te,errors:ne}=Yd(k,C,V,void 0,O,q,U);if(k.fetchers.has(t)){let e=yh(x.data);k.fetchers.set(t,e)}ae(T),"loading"===k.navigation.state&&T>z?(Du(M,"Expected pending action"),S&&S.abort(),W(k.navigation.location,{matches:C,loaderData:te,errors:ne,fetchers:new Map(k.fetchers)})):(G({errors:ne,loaderData:Jd(k.loaderData,te,C,ne),fetchers:new Map(k.fetchers)}),P=!1)}(t,n,m,y,h,f.active,s,b,g):(F.set(t,{routeId:n,path:m}),async function(t,n,r,i,o,a,s,l,c){let u=k.fetchers.get(t);Q(t,vh(c,u?u.data:void 0),{flushSync:s});let d=new AbortController,h=Wd(e.history,r,d.signal);if(a){let e=await me(o,new URL(h.url).pathname,h.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ee(t,n,e.error,{flushSync:s});if(!e.matches)return void ee(t,n,eh(404,{pathname:r}),{flushSync:s});i=fh(o=e.matches,r)}N.set(t,d);let p=j,f=await J("loader",k,h,[i],o,t),m=f[i.route.id];ih(m)&&(m=await hh(m,h.signal,!0)||m);N.get(t)===d&&N.delete(t);if(h.signal.aborted)return;if(H.has(t))return void Q(t,yh(void 0));if(ah(m))return z>p?void Q(t,yh(void 0)):(B.add(t),void(await Y(h,m,!1,{preventScrollReset:l})));if(oh(m))return void ee(t,n,m.error);Du(!ih(m),"Unhandled fetcher deferred data"),Q(t,yh(m.data))}(t,n,m,y,h,f.active,s,b,g))},revalidate:function(){Z(),G({revalidation:"loading"}),"submitting"!==k.navigation.state&&("idle"!==k.navigation.state?q(M||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:!0===T}):q(k.historyAction,k.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:te,deleteFetcher:function(e){let t=($.get(e)||0)-1;t<=0?($.delete(e),H.add(e),p.v7_fetcherPersist||ne(e)):$.set(e,t),G({fetchers:new Map(k.fetchers)})},dispose:function(){f&&f(),A&&A(),m.clear(),S&&S.abort(),k.fetchers.forEach(((e,t)=>ne(t))),k.blockers.forEach(((e,t)=>se(t)))},getBlocker:function(e,t){let n=k.blockers.get(e)||Td;return V.get(e)!==t&&V.set(e,t),n},deleteBlocker:se,patchRoutes:function(e,t){let n=null==o;Fd(e,t,o||c,l,i),n&&(c=[...c],G({}))},_internalFetchControllers:N,_internalActiveDeferreds:U,_internalSetRoutes:function(e){l={},o=qu(e,i,void 0,l)}},s}function Rd(e,t,n,r,i,o,a,s){let l,c;if(a){l=[];for(let e of t)if(l.push(e),e.route.id===a){c=e;break}}else l=t,c=t[t.length-1];let u=pd(i||".",hd(l,o),cd(e.pathname,n)||e.pathname,"path"===s);if(null==i&&(u.search=e.search,u.hash=e.hash),(null==i||""===i||"."===i)&&c){let e=ph(u.search);if(c.route.index&&!e)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&e){let e=new URLSearchParams(u.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();u.search=n?"?"+n:""}}return r&&"/"!==n&&(u.pathname="/"===u.pathname?n:fd([n,u.pathname])),Hu(u)}function Id(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&(i=r.formMethod,!Sd.has(i.toLowerCase())))return{path:n,error:eh(405,{method:r.formMethod})};var i;let o,a,s=()=>({path:n,error:eh(400,{type:"invalid-body"})}),l=r.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=nh(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ch(c))return s();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!ch(c))return s();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(gG){return s()}}}if(Du("function"==typeof FormData,"FormData is not available in this environment"),r.formData)o=qd(r.formData),a=r.formData;else if(r.body instanceof FormData)o=qd(r.body),a=r.body;else if(r.body instanceof URLSearchParams)o=r.body,a=Xd(o);else if(null==r.body)o=new URLSearchParams,a=new FormData;else try{o=new URLSearchParams(r.body),a=Xd(o)}catch(gG){return s()}let d={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(ch(d.formMethod))return{path:n,submission:d};let h=Uu(n);return t&&h.search&&ph(h.search)&&o.append("index",""),h.search="?"+o,{path:Hu(h),submission:d}}function Nd(e,t,n){void 0===n&&(n=!1);let r=e.findIndex((e=>e.route.id===t));return r>=0?e.slice(0,n?r+1:r):e}function jd(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){let g=m?oh(m[1])?m[1].error:m[1].data:void 0,v=e.createURL(t.location),y=e.createURL(i),b=n;o&&t.errors?b=Nd(n,Object.keys(t.errors)[0],!0):m&&oh(m[1])&&(b=Nd(n,m[0]));let x=m?m[1].statusCode:void 0,w=a&&x&&x>=400,_=b.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return zd(i,t.loaderData,t.errors);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let a=t.matches[n],c=e;return Bd(e,Ru({currentUrl:v,currentParams:a.params,nextUrl:y,nextParams:c.params},r,{actionResult:g,actionStatus:x,defaultShouldRevalidate:!w&&(s||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||Dd(a,c))}))})),S=[];return d.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||u.has(i))return;let a=Xu(p,e.path,f);if(!a)return void S.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(i),d=fh(a,e.path),m=!1;h.has(i)?m=!1:c.has(i)?(c.delete(i),m=!0):m=l&&"idle"!==l.state&&void 0===l.data?s:Bd(d,Ru({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:g,actionStatus:x,defaultShouldRevalidate:!w&&s})),m&&S.push({key:i,routeId:e.routeId,path:e.path,matches:a,match:d,controller:new AbortController})})),[_,S]}function zd(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],i=null!=n&&void 0!==n[e.id];return!(!r&&i)&&("function"==typeof e.loader&&!0===e.loader.hydrate||!r&&!i)}function Dd(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Bd(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}function Fd(e,t,n,r,i){var o;let a;if(e){let t=r[e];Du(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),a=t.children}else a=n;let s=qu(t.filter((e=>!a.some((t=>$d(e,t))))),i,[e||"_","patch",String((null==(o=a)?void 0:o.length)||"0")],r);a.push(...s)}function $d(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,n)=>{var r;return null==(r=t.children)?void 0:r.some((t=>$d(e,t)))})))}async function Hd(e){let{matches:t}=e,n=t.filter((e=>e.shouldLoad));return(await Promise.all(n.map((e=>e.resolve())))).reduce(((e,t,r)=>Object.assign(e,{[n[r].route.id]:t})),{})}async function Ud(e){let{result:t,type:n}=e;if(lh(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(gG){return{type:Vu.error,error:gG}}return n===Vu.error?{type:Vu.error,error:new yd(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:Vu.data,data:e,statusCode:t.status,headers:t.headers}}var r,i,o,a,s,l,c,u;return n===Vu.error?sh(t)?t.data instanceof Error?{type:Vu.error,error:t.data,statusCode:null==(o=t.init)?void 0:o.status,headers:null!=(a=t.init)&&a.headers?new Headers(t.init.headers):void 0}:{type:Vu.error,error:new yd((null==(r=t.init)?void 0:r.status)||500,void 0,t.data),statusCode:bd(t)?t.status:void 0,headers:null!=(i=t.init)&&i.headers?new Headers(t.init.headers):void 0}:{type:Vu.error,error:t,statusCode:bd(t)?t.status:void 0}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(t)?{type:Vu.deferred,deferredData:t,statusCode:null==(s=t.init)?void 0:s.status,headers:(null==(l=t.init)?void 0:l.headers)&&new Headers(t.init.headers)}:sh(t)?{type:Vu.data,data:t.data,statusCode:null==(c=t.init)?void 0:c.status,headers:null!=(u=t.init)&&u.headers?new Headers(t.init.headers):void 0}:{type:Vu.data,data:t}}function Vd(e,t,n,r,i,o){let a=e.headers.get("Location");if(Du(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ld.test(a)){let s=r.slice(0,r.findIndex((e=>e.route.id===n))+1);a=Rd(new URL(t.url),s,i,!0,a,o),e.headers.set("Location",a)}return e}function Gd(e,t,n){if(Ld.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=null!=cd(i.pathname,n);if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Wd(e,t,n,r){let i=e.createURL(nh(t)).toString(),o={signal:n};if(r&&ch(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=qd(r.formData):o.body=r.formData}return new Request(i,o)}function qd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function Xd(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Yd(e,t,n,r,i,o,a){let{loaderData:s,errors:l}=function(e,t,n,r){let i,o={},a=null,s=!1,l={},c=n&&oh(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let u=n.route.id,d=t[u];if(Du(!ah(d),"Cannot handle redirect results in processLoaderData"),oh(d)){let t=d.error;void 0!==c&&(t=c,c=void 0),a=a||{};{let n=Zd(e,u);null==a[n.route.id]&&(a[n.route.id]=t)}o[u]=void 0,s||(s=!0,i=bd(d.error)?d.error.status:500),d.headers&&(l[u]=d.headers)}else ih(d)?(r.set(u,d.deferredData),o[u]=d.deferredData.data,null==d.statusCode||200===d.statusCode||s||(i=d.statusCode),d.headers&&(l[u]=d.headers)):(o[u]=d.data,d.statusCode&&200!==d.statusCode&&!s&&(i=d.statusCode),d.headers&&(l[u]=d.headers))})),void 0!==c&&n&&(a={[n[0]]:c},o[n[0]]=void 0),{loaderData:o,errors:a,statusCode:i||200,loaderHeaders:l}}(t,n,r,a);return i.forEach((t=>{let{key:n,match:r,controller:i}=t,a=o[n];if(Du(a,"Did not find corresponding fetcher result"),!i||!i.signal.aborted)if(oh(a)){let t=Zd(e.matches,null==r?void 0:r.route.id);l&&l[t.route.id]||(l=Ru({},l,{[t.route.id]:a.error})),e.fetchers.delete(n)}else if(ah(a))Du(!1,"Unhandled fetcher revalidation redirect");else if(ih(a))Du(!1,"Unhandled fetcher deferred data");else{let t=yh(a.data);e.fetchers.set(n,t)}})),{loaderData:s,errors:l}}function Jd(e,t,n,r){let i=Ru({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Kd(e){return e?oh(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Zd(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Qd(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function eh(e,t){let{pathname:n,routeId:r,method:i,type:o,message:a}=void 0===t?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?l="defer() is not supported in actions":"invalid-body"===o&&(l="Unable to encode submission body")):403===e?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",l='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new yd(e||500,s,new Error(l),!0)}function th(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(ah(r))return{key:e,result:r}}}function nh(e){return Hu(Ru({},"string"==typeof e?Uu(e):e,{hash:""}))}function rh(e){return lh(e.result)&&Ed.has(e.result.status)}function ih(e){return e.type===Vu.deferred}function oh(e){return e.type===Vu.error}function ah(e){return(e&&e.type)===Vu.redirect}function sh(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function lh(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function ch(e){return wd.has(e.toLowerCase())}async function uh(e,t,n,r,i){let o=Object.entries(t);for(let a=0;a<o.length;a++){let[s,l]=o[a],c=e.find((e=>(null==e?void 0:e.route.id)===s));if(!c)continue;let u=r.find((e=>e.route.id===c.route.id)),d=null!=u&&!Dd(u,c)&&void 0!==(i&&i[c.route.id]);ih(l)&&d&&await hh(l,n,!1).then((e=>{e&&(t[s]=e)}))}}async function dh(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:a}=n[r],s=t[i];e.find((e=>(null==e?void 0:e.route.id)===o))&&(ih(s)&&(Du(a,"Expected an AbortController for revalidating fetcher deferred result"),await hh(s,a.signal,!0).then((e=>{e&&(t[i]=e)}))))}}async function hh(e,t,n){if(void 0===n&&(n=!1),!(await e.deferredData.resolveData(t))){if(n)try{return{type:Vu.data,data:e.deferredData.unwrappedData}}catch(gG){return{type:Vu.error,error:gG}}return{type:Vu.data,data:e.deferredData.data}}}function ph(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function fh(e,t){let n="string"==typeof t?Uu(t).search:t.search;if(e[e.length-1].route.index&&ph(n||""))return e[e.length-1];let r=dd(e);return r[r.length-1]}function mh(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function gh(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vh(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yh(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(this,arguments)}const xh=cl.createContext(null),wh=cl.createContext(null),_h=cl.createContext(null),Sh=cl.createContext(null),Eh=cl.createContext({outlet:null,matches:[],isDataRoute:!1}),kh=cl.createContext(null);function Mh(){return null!=cl.useContext(Sh)}function Ch(){return Mh()||Du(!1),cl.useContext(Sh).location}function Th(e){cl.useContext(_h).static||cl.useLayoutEffect(e)}function Lh(){let{isDataRoute:e}=cl.useContext(Eh);return e?function(){let{router:e}=function(){let e=cl.useContext(xh);return e||Du(!1),e}(zh.UseNavigateStable),t=Bh(Dh.UseNavigateStable),n=cl.useRef(!1);return Th((()=>{n.current=!0})),cl.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,bh({fromRouteId:t},i)))}),[e,t])}():function(){Mh()||Du(!1);let e=cl.useContext(xh),{basename:t,future:n,navigator:r}=cl.useContext(_h),{matches:i}=cl.useContext(Eh),{pathname:o}=Ch(),a=JSON.stringify(hd(i,n.v7_relativeSplatPath)),s=cl.useRef(!1);return Th((()=>{s.current=!0})),cl.useCallback((function(n,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof n)return void r.go(n);let l=pd(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:fd([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,a,o,e])}()}const Ah=cl.createContext(null);function Oh(){let{matches:e}=cl.useContext(Eh),t=e[e.length-1];return t?t.params:{}}function Ph(e,t,n,r){Mh()||Du(!1);let{navigator:i,static:o}=cl.useContext(_h),{matches:a}=cl.useContext(Eh),s=a[a.length-1],l=s?s.params:{};!s||s.pathname;let c,u=s?s.pathnameBase:"/";s&&s.route,c=Ch();let d=c.pathname||"/",h=d;if("/"!==u){let e=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=!o&&n&&n.matches&&n.matches.length>0?n.matches:Xu(e,{pathname:h}),f=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||Du(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let e=a[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,r,i)=>{let o,u=!1,d=null,h=null;var p;n&&(o=s&&r.route.id?s[r.route.id]:void 0,d=r.route.errorElement||Ih,l&&(c<0&&0===i?(Fh[p="route-fallback"]||(Fh[p]=!0),u=!0,h=null):c===i&&(u=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=o?d:u?h:r.route.Component?cl.createElement(r.route.Component,null):r.route.element?r.route.element:e,cl.createElement(jh,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?cl.createElement(Nh,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:fd([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:fd([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return f}function Rh(){let e=function(){var e;let t=cl.useContext(kh),n=function(){let e=cl.useContext(wh);return e||Du(!1),e}(),r=Bh();if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=bd(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return cl.createElement(cl.Fragment,null,cl.createElement("h2",null,"Unexpected Application Error!"),cl.createElement("h3",{style:{fontStyle:"italic"}},t),n?cl.createElement("pre",{style:r},n):null,null)}const Ih=cl.createElement(Rh,null);class Nh extends cl.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?cl.createElement(Eh.Provider,{value:this.props.routeContext},cl.createElement(kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jh(e){let{routeContext:t,match:n,children:r}=e,i=cl.useContext(xh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),cl.createElement(Eh.Provider,{value:t},r)}var zh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(zh||{}),Dh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dh||{});function Bh(e){let t=function(){let e=cl.useContext(Eh);return e||Du(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Du(!1),n.route.id}const Fh={};function $h(e){return function(e){let t=cl.useContext(Eh).outlet;return t?cl.createElement(Ah.Provider,{value:e},t):t}(e.context)}function Hh(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Iu.Pop,navigator:o,static:a=!1,future:s}=e;Mh()&&Du(!1);let l=t.replace(/^\/*/,"/"),c=cl.useMemo((()=>({basename:l,navigator:o,static:a,future:bh({v7_relativeSplatPath:!1},s)})),[l,s,o,a]);"string"==typeof r&&(r=Uu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=cl.useMemo((()=>{let e=cd(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:i}}),[l,u,d,h,p,f,i]);return null==m?null:cl.createElement(_h.Provider,{value:c},cl.createElement(Sh.Provider,{children:n,value:m}))}function Uh(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:cl.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:cl.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:cl.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}
/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(this,arguments)}function Gh(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Promise((()=>{}));try{window.__reactRouterVersion="6"}catch(gG){}function Wh(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Vh({},t,{errors:qh(t.errors)})),t}function qh(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new yd(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"==typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(gG){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const Xh=cl.createContext({isTransitioning:!1}),Yh=cl.createContext(new Map),Jh=dl.startTransition,Kh=Pu.flushSync;function Zh(e){Kh?Kh(e):e()}class Qh{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function ep(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=cl.useState(n.state),[a,s]=cl.useState(),[l,c]=cl.useState({isTransitioning:!1}),[u,d]=cl.useState(),[h,p]=cl.useState(),[f,m]=cl.useState(),g=cl.useRef(new Map),{v7_startTransition:v}=r||{},y=cl.useCallback((e=>{v?function(e){Jh?Jh(e):e()}(e):e()}),[v]),b=cl.useCallback(((e,t)=>{let{deletedFetchers:r,flushSync:i,viewTransitionOpts:a}=t;e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),r.forEach((e=>g.current.delete(e)));let l=null==n.window||null==n.window.document||"function"!=typeof n.window.document.startViewTransition;if(a&&!l){if(i){Zh((()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})}));let t=n.window.document.startViewTransition((()=>{Zh((()=>o(e)))}));return t.finished.finally((()=>{Zh((()=>{d(void 0),p(void 0),s(void 0),c({isTransitioning:!1})}))})),void Zh((()=>p(t)))}h?(u&&u.resolve(),h.skipTransition(),m({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(s(e),c({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?Zh((()=>o(e))):y((()=>o(e)))}),[n.window,h,u,g,y]);cl.useLayoutEffect((()=>n.subscribe(b)),[n,b]),cl.useEffect((()=>{l.isTransitioning&&!l.flushSync&&d(new Qh)}),[l]),cl.useEffect((()=>{if(u&&a&&n.window){let e=a,t=u.promise,r=n.window.document.startViewTransition((async()=>{y((()=>o(e))),await t}));r.finished.finally((()=>{d(void 0),p(void 0),s(void 0),c({isTransitioning:!1})})),p(r)}}),[y,a,u,n.window]),cl.useEffect((()=>{u&&a&&i.location.key===a.location.key&&u.resolve()}),[u,h,i.location,a]),cl.useEffect((()=>{!l.isTransitioning&&f&&(s(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))}),[l.isTransitioning,f]),cl.useEffect((()=>{}),[]);let x=cl.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),w=n.basename||"/",_=cl.useMemo((()=>({router:n,navigator:x,static:!1,basename:w})),[n,x,w]),S=cl.useMemo((()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath})),[n.future.v7_relativeSplatPath]);return cl.useEffect((()=>function(e,t){null==e||e.v7_startTransition,void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath,t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}(r,n.future)),[r,n.future]),cl.createElement(cl.Fragment,null,cl.createElement(xh.Provider,{value:_},cl.createElement(wh.Provider,{value:i},cl.createElement(Yh.Provider,{value:g.current},cl.createElement(Xh.Provider,{value:l},cl.createElement(Hh,{basename:w,location:i.location,navigationType:i.historyAction,navigator:x,future:S},i.initialized||n.future.v7_partialHydration?cl.createElement(tp,{routes:n.routes,future:n.future,state:i}):t))))),null)}const tp=cl.memo(np);function np(e){let{routes:t,future:n,state:r}=e;return Ph(t,0,r,n)}var rp,ip,op,ap;function sp(e){let t=cl.useRef(Gh(e)),n=cl.useRef(!1),r=Ch(),i=cl.useMemo((()=>function(e,t){let n=Gh(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),o=Lh(),a=cl.useCallback(((e,t)=>{const r=Gh("function"==typeof e?e(i):e);n.current=!0,o("?"+r,t)}),[o,i]);return[i,a]}(ip=rp||(rp={})).UseScrollRestoration="useScrollRestoration",ip.UseSubmit="useSubmit",ip.UseSubmitFetcher="useSubmitFetcher",ip.UseFetcher="useFetcher",ip.useViewTransitionState="useViewTransitionState",(ap=op||(op={})).UseFetcher="useFetcher",ap.UseFetchers="useFetchers",ap.UseScrollRestoration="useScrollRestoration";var lp,cp={exports:{}};var up=(lp||(lp=1,cp.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:a,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=g;var w="$isDayjsObject",_=function(e){return e instanceof M||!(!e||!e[w])},S=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();x[o]&&(i=o),n&&(x[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;x[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},E=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new M(n)},k=y;k.l=S,k.i=_,k.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return k},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!k.u(t)||t,u=k.p(e),p=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},f=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return p(r?v-x:v+(6-x),g);case s:case h:return f(y+"Hours",0);case a:return f(y+"Minutes",1);case o:return f(y+"Seconds",2);case i:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=k.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[k.p(e)]()},v.add=function(r,u){var h,p=this;r=Number(r);var f=k.p(u),m=function(e){var t=E(p);return k.w(t.date(t.date()+Math.round(e*r)),p)};if(f===c)return this.set(c,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var g=(h={},h[o]=t,h[a]=n,h[i]=e,h)[f]||1,v=this.$d.getTime()+r*g;return k.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return k.s(o%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return s+1;case"MM":return k.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return k.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return k.s(a,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,p){var f,m=this,g=k.p(h),v=E(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,x=function(){return k.m(m,v)};switch(g){case d:f=x()/12;break;case c:f=x();break;case u:f=x()/3;break;case l:f=(b-y)/6048e5;break;case s:f=(b-y)/864e5;break;case a:f=b/n;break;case o:f=b/t;break;case i:f=b/e;break;default:f=b}return p?f:k.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return k.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),C=M.prototype;return E.prototype=C,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",h]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,M,E),e.$i=!0),E},E.locale=S,E.isDayjs=_,E.unix=function(e){return E(1e3*e)},E.en=x[b],E.Ls=x,E.p={},E}()),cp.exports);const dp=Bs(up),hp=e=>new Promise(((t,n)=>{fetch(`locales/${e}.json`).then((e=>e.json())).then((e=>t(e))).catch((e=>n(e)))})),pp=()=>!window.invokeNative,fp=()=>{},mp=(e,t)=>{const n=e*t;return n%2==0?+n.toFixed(0):+(n+1).toFixed(0)},gp=e=>{const t=e.toString();return 10===t.length?e:13===t.length?Math.floor(e/1e3):16===t.length?Math.floor(e/1e6):19===t.length?Math.floor(e/1e9):(console.warn("Unexpected timestamp length, assuming milliseconds. ",e),Math.floor(e/1e3))};var vp=(e=>(e[e.None=0]="None",e[e.Incoming=1]="Incoming",e[e.Outgoing=2]="Outgoing",e[e.Ongoing=3]="Ongoing",e))(vp||{});const yp=(e,t,n={stopPropagation:!1,isModal:!1,isCall:!1})=>{const r=cl.useRef(fp),i=vu((e=>e.optionsModal)),o=vu((e=>e.phoneData));cl.useEffect((()=>{r.current=t}),[t]),cl.useEffect((()=>{const t=t=>{const{action:a,data:s}=t.data;(null==i?void 0:i.status)&&!n.isModal||(n.isCall||o.callType===vp.None)&&r.current&&a===e&&(r.current(s),n.stopPropagation&&t.stopPropagation())};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}),[e,null==i?void 0:i.status,n.isModal])};var bp=(e=>(e.None="none",e.Alarm="alarm",e.RadioOn="radioOn",e.CustomApp="custom",e.Ringtone="ringtone",e.CallRing="callRing",e.CallBusy="callBusy",e.Notification="default",e.CellBroadcast="cellBroadcast",e.CompanyRingtone="companyRingtone",e))(bp||{});const xp={loop:!1,type:bp.CallBusy},wp={loop:!0,type:bp.CallRing},_p={loop:!0,type:bp.Ringtone};bp.CompanyRingtone,bp.Alarm,bp.RadioOn,bp.CellBroadcast;const Sp={sounds:{ringtones:[{key:"apex",name:"Apex",extension:"mp3"},{key:"default",name:"Default",extension:"mp3"},{key:"2pac_all_eyes_on_me",name:"2Pac - All Eyes On Me",extension:"mp3"},{key:"azis_motel",name:"Azis - Motel",extension:"mp3"},{key:"company_ringtone",name:"companyRingtone",extension:"mp3"},{key:"harp",name:"harp",extension:"mp3"},{key:"me_gusta",name:"MeGustaTu",extension:"mp3"},{key:"sencha",name:"sencha",extension:"mp3"}],notifications:[{key:"default",name:"Default",extension:"mp3"},{key:"ding",name:"Ding",extension:"mp3"},{key:"RingRing",name:"RingRing",extension:"mp3"},{key:"Spaceline",name:"Spaceline",extension:"mp3"},{key:"Whistle",name:"Whistle",extension:"mp3"}]},wallpapers:[{key:"wallpaper",name:"Wallpaper",extension:"png"},{key:"mag_wallpaper_06",name:"Mag Wallpaper 06",extension:"webp"},{key:"Natural",name:"Natural",extension:"png"},{key:"Black",name:"Black",extension:"png"},{key:"White",name:"White",extension:"png"},{key:"Blue",name:"Blue",extension:"png"}],settingsConfig:{languages:["en"],colors:["#ff571f","red"],currencyLabel:"USD",currencySymbol:"$",currencyFormat:"en-US",dateFormat:"MM/DD/YYYY",timeFormat:"HH:mm",timezone:"America/Los_Angeles",language:"en",theme:"light",wallpaper:"wallpaper",sounds:{ringtones:"default",notifications:"default"},wallpapers:["wallpaper","mag_wallpaper_06","Natural","Black","White","Blue"],realTime:!0,realTimeLocation:!0,syncLocationTimeout:1e3,allowAnonymousCalls:!0,quickShareShowFullNames:!0,groupMembersLimit:10,allowExternalUpload:!0,worldClockLocations:[]}},Ep={languages:[{value:"de",label:"Deutsch"},{value:"en",label:"English"}]};var kp=(e=>(e.Discord="Discord",e.Fivemanage="Fivemanage",e.Custom="Custom",e))(kp||{});dp().unix(),dp().subtract(1,"day").subtract(20,"minutes").unix(),dp().subtract(1,"day").subtract(12,"minutes").unix(),dp().subtract(2,"days").subtract(64,"minutes").unix(),dp().subtract(2,"days").subtract(13,"minutes").unix(),dp().subtract(2,"days").subtract(18,"minutes").unix(),dp().subtract(2,"days").subtract(54,"minutes").unix();const Mp={apiKeys:{Audio:"",Image:"",Video:""},uploadMethod:{Audio:kp.Fivemanage,Image:kp.Fivemanage,Video:kp.Fivemanage},uploadRequestData:{Audio:{field:"recording",headers:[{"Content-Type":"application/json"}],successPath:"url",url:"https://api.fivemanage.com/api/audio/"},Image:{field:"image",headers:[{"Content-Type":"application/json"}],successPath:"url",url:"https://api.fivemanage.com/api/image/"},Video:{field:"video",headers:[{"Content-Type":"application/json"}],successPath:"url",url:"https://api.fivemanage.com/api/video/"}}};function Cp(e,t=0){const n=Array.isArray(e)?e:[e];for(const r of n)(pp()||r.internal)&&setTimeout((()=>{!r.internal&&console.info(`[DEBUG] Dispatching event: ${r.action}`),window.dispatchEvent(new MessageEvent("message",{data:{action:r.action,data:r.data}}))}),t)}const Tp={},Lp=(e,t,n,r)=>{Rp(n)&&Tp[n]||(Rp(n)&&(Tp[n]=new Date),((e,t,n,r)=>{var i,o,a,s;const l=[n,{code:t,...r||{}}];if(null==(o=null==(i=null==e?void 0:e.services)?void 0:i.logger)?void 0:o.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);Rp(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(null==(s=null==(a=null==e?void 0:e.services)?void 0:a.logger)?void 0:s.warn)?e.services.logger.warn(...l):(null==console?void 0:console.warn)&&console.warn(...l)})(e,t,n,r))},Ap=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},Op=(e,t,n)=>{e.loadNamespaces(t,Ap(e,n))},Pp=(e,t,n,r)=>{if(Rp(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Op(e,n,r);n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,Ap(e,r))},Rp=e=>"string"==typeof e,Ip=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Np={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},jp=e=>Np[e];let zp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Ip,jp)};let Dp;const Bp={type:"3rdParty",init(e){((e={})=>{zp={...zp,...e}})(e.options.react),(e=>{Dp=e})(e)}},Fp=cl.createContext();class $p{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Hp=(e,t,n,r)=>e.getFixedT(t,n,r),Up=(e,t={})=>{var n,r,i,o;const{i18n:a}=t,{i18n:s,defaultNS:l}=cl.useContext(Fp)||{},c=a||s||Dp;if(c&&!c.reportNamespaces&&(c.reportNamespaces=new $p),!c){Lp(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>Rp(t)?t:(e=>"object"==typeof e&&null!==e)(t)&&Rp(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}(null==(n=c.options.react)?void 0:n.wait)&&Lp(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...zp,...c.options.react,...t},{useSuspense:d,keyPrefix:h}=u;let p=l||(null==(r=c.options)?void 0:r.defaultNS);p=Rp(p)?[p]:p||["translation"],null==(o=(i=c.reportNamespaces).addUsedNamespaces)||o.call(i,p);const f=(c.isInitialized||c.initializedStoreOnce)&&p.every((e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{var i;if((null==(i=n.bindI18n)?void 0:i.indexOf("languageChanging"))>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(Lp(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,c,u))),m=((e,t,n,r)=>cl.useCallback(Hp(e,t,n,r),[e,t,n,r]))(c,t.lng||null,"fallback"===u.nsMode?p:p[0],h),g=()=>m,v=()=>Hp(c,t.lng||null,"fallback"===u.nsMode?p:p[0],h),[y,b]=cl.useState(g);let x=p.join();t.lng&&(x=`${t.lng}${x}`);const w=((e,t)=>{const n=cl.useRef();return cl.useEffect((()=>{n.current=e}),[e,t]),n.current})(x),_=cl.useRef(!0);cl.useEffect((()=>{const{bindI18n:e,bindI18nStore:n}=u;_.current=!0,f||d||(t.lng?Pp(c,t.lng,p,(()=>{_.current&&b(v)})):Op(c,p,(()=>{_.current&&b(v)}))),f&&w&&w!==x&&_.current&&b(v);const r=()=>{_.current&&b(v)};return e&&(null==c||c.on(e,r)),n&&(null==c||c.store.on(n,r)),()=>{_.current=!1,c&&(null==e||e.split(" ").forEach((e=>c.off(e,r)))),n&&c&&n.split(" ").forEach((e=>c.store.off(e,r)))}}),[c,x]),cl.useEffect((()=>{_.current&&f&&b(g)}),[c,h,f]);const S=[y,c,f];if(S.t=y,S.i18n=c,S.ready=f,f)return S;if(!f&&!d)return S;throw new Promise((e=>{t.lng?Pp(c,t.lng,p,(()=>e())):Op(c,p,(()=>e()))}))},Vp=["hide-yboomer","utils:get-info"];async function Gp(e,t,n,r=2e4){const i={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)};if(pp()&&n)return n;const o=window.name?window.name:"nui-frame-app";try{const t=fetch(`https://${o}/${e}`,i),n=new Promise(((t,n)=>setTimeout((()=>{Vp.includes(e)||n(new Error(`Request timed out - ${e}`))}),r))),a=await Promise.race([t,n]),s=await a.json();if(!a.ok)throw new Error(`HTTP error: ${a.status} - ${a.statusText}`);return s}catch(a){throw Vp.includes(e)||console.error(`An error occurred while processing '${e}':`,a),a}}var Wp=(e=>(e.Home="home",e.Snake="snake",e.Phone="phone",e.Camera="camera",e.Closing="closing",e.Gallery="gallery",e.Settings="settings",e.Contacts="contacts",e.Messages="messages",e.Calculator="calculator",e.Call="call",e))(Wp||{});const qp=pp()?"":"/ui/build/index.html",Xp=pp()?"/":"/ui/build/index.html",Yp=window.location.origin+"/ui/build/",Jp=e=>"string"==typeof e,Kp=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},Zp=e=>null==e?"":""+e,Qp=/###/g,ef=e=>e&&e.indexOf("###")>-1?e.replace(Qp,"."):e,tf=e=>!e||Jp(e),nf=(e,t,n)=>{const r=Jp(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(tf(e))return{};const t=ef(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return tf(e)?{}:{obj:e,k:ef(r[i])}},rf=(e,t,n)=>{const{obj:r,k:i}=nf(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=nf(e,a,Object);for(;void 0===s.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=nf(e,a,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${o}`]&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},of=(e,t)=>{const{obj:n,k:r}=nf(e,t);if(n)return n[r]},af=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Jp(e[r])||e[r]instanceof String||Jp(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):af(e[r],t[r],n):e[r]=t[r]);return e},sf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cf=e=>Jp(e)?e.replace(/[&<>"'\/]/g,(e=>lf[e])):e;const uf=[" ",",","?","!",";"],df=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),hf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||"object"!=typeof i)return;let e,t="";for(let a=o;a<r.length;++a)if(a!==o&&(t+=n),t+=r[a],e=i[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<r.length-1)continue;o+=a-o+1;break}i=e}return i},pf=e=>e&&e.replace("_","-"),ff={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class mf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||ff,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Jp(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new mf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new mf(this.logger,e)}}var gf=new mf;class vf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let i=0;i<r;i++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let o=0;o<i;o++)r.apply(r,[e,...n])}))}}}class yf extends vf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Jp(n)&&i?a.push(...n.split(i)):a.push(n)));const s=of(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&o&&Jp(n)?hf(this.data&&this.data[e]&&this.data[e][t],n,i):s}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),rf(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(Jp(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let s=of(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?af(s,n,i):s={...s,...n},rf(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var bf={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))})),t}};const xf={};class wf extends vf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{n[e]&&(r[e]=n[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=gf.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=uf.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=df.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Jp(i)?[i]:i};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return{key:e,namespaces:Jp(i)?[i]:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let d=u&&u.res;const h=u&&u.usedKey||o,p=u&&u.exactUsedKey||o,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!Jp(d)&&"boolean"!=typeof d&&"number"!=typeof d;if(!(g&&d&&v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||Jp(m)&&Array.isArray(d))if(g&&Jp(m)&&Array.isArray(d))d=d.join(m),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;const c=void 0!==t.count&&!Jp(t.count),h=wf.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(r=!0,d=g),this.isValidLookup(d)||(a=!0,d=o);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,y=h&&g!==d&&this.options.updateMissing;if(a||r||y){if(this.logger.log(y?"updateKey":"missingKey",l,s,o,y?g:d),i){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=h&&r!==d?r:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,i,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,i,y,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],o+n,t[`defaultValue${n}`]||g)}))})):r(e,o,g))}d=this.extendTranslation(d,e,t,u,n),a&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${o}`),(a||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,r?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(i){const e=Array.isArray(d),n=e?[]:{},r=e?p:h;for(const o in d)if(Object.prototype.hasOwnProperty.call(d,o)){const e=`${r}${i}${o}`;n[o]=this.translate(e,{...t,joinArrays:!1,ns:a}),n[o]===e&&(n[o]=d[o])}d=n}}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a=Jp(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&!Jp(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):o.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s=Jp(a)?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=bf.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Jp(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),l=s.key;n=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&!Jp(a.count),d=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&(Jp(a.context)||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(o=e,!xf[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(xf[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;i=n;const o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),a.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),d&&o.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${a.context}`;o.push(n),u&&(o.push(n+e),a.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Jp(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const _f=e=>e.charAt(0).toUpperCase()+e.slice(1);class Sf{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gf.create("languageUtils")}getScriptPartFromCode(e){if(!(e=pf(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=pf(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Jp(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(gG){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=_f(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=_f(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=_f(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Jp(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Jp(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):Jp(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}let Ef=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],kf={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const Mf=["v1","v2","v3"],Cf=["v4"],Tf={zero:0,one:1,two:2,few:3,many:4,other:5};class Lf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=gf.create("pluralResolver"),this.options.compatibilityJSON&&!Cf.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Ef.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:kf[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const r=pf("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch(n){if(!e.match(/-|_/))return;const r=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(r,t)}return this.pluralRulesCache[o]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>Tf[e]-Tf[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Mf.includes(this.options.compatibilityJSON)}}const Af=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const r=of(e,n);return void 0!==r?r:of(t,n)})(e,t,n);return!o&&i&&Jp(n)&&(o=hf(e,n,r),void 0===o&&(o=hf(t,n,r))),o},Of=e=>e.replace(/\$/g,"$$$$");class Pf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=gf.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:s,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:cf,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?sf(i):o||"{{",this.suffix=a?sf(a):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?sf(d):h||sf("$t("),this.nestingSuffix=p?sf(p):f||sf(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const i=Af(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(Af(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,u=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Of(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Of(this.escape(e)):Of(e)}].forEach((t=>{for(a=0;i=t.regex.exec(e);){const n=i[1].trim();if(o=l(n),void 0===o)if("function"==typeof c){const t=c(e,i,r);o=Jp(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(u){o=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else Jp(o)||this.useRawValueToEscape||(o=Zp(o));const s=t.safeValue(o);if(e=e.replace(i[0],s),u?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(gG){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,gG),`${e}${n}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];i={...o},i=i.replace&&!Jp(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(r=t(a.call(this,n[1].trim(),i),i),r&&n[0]===e&&!Jp(r))return r;Jp(r)||(r=Zp(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=s.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const Rf=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=t[a];return s||(s=e(pf(r),i),t[a]=s),s(n)}};class If{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=gf.create("formatter"),this.options=e,this.formats={number:Rf(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Rf(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Rf(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Rf(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Rf(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Rf(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const o=i.reduce(((e,t)=>{const{formatName:i,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[i](e,s,{...o,...r,...a})}catch(a){this.logger.warn(a)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return o}}class Nf extends vf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=gf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},a={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,r=!1,void 0===o[a]&&(o[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=nf(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(l){a(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Jp(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Jp(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const l={...o,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let i;i=5===c.length?c(e,t,n,r,l):c(e,t,n,r),i&&"function"==typeof i.then?i.then((e=>a(null,e))).catch(a):a(null,i)}catch(s){a(s)}else c(e,t,n,r,a,l)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const jf=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Jp(e[1])&&(t.defaultValue=e[1]),Jp(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),zf=e=>(Jp(e.ns)&&(e.ns=[e.ns]),Jp(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Jp(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Df=()=>{};class Bf extends vf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=zf(e),this.services={},this.logger=gf,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Jp(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=jf();this.options={...r,...this.options,...zf(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?gf.init(i(this.modules.logger),this.options):gf.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=If);const n=new Sf(this.options);this.store=new yf(this.options.resources,this.options);const o=this.services;o.logger=gf,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new Lf(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Pf(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new Nf(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new wf(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Df),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=Kp(),a=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Df;const n=Jp(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=Kp();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Df),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&bf.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=Kp();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Jp(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(u,o)};return Jp(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=Kp();return this.options.ns?(Jp(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Kp();Jp(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Sf(jf());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Bf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Df;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new Bf(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));return["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new yf(this.store.data,r),i.services.resourceStore=i.store),i.translator=new wf(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ff=Bf.createInstance();Ff.createInstance=Bf.createInstance,Ff.createInstance,Ff.dir,Ff.init,Ff.loadResources,Ff.reloadResources,Ff.use,Ff.changeLanguage,Ff.getFixedT,Ff.t,Ff.exists,Ff.setDefaultNamespace,Ff.hasLoadedNamespace,Ff.loadNamespaces,Ff.loadLanguages,Ff.use(Bp).init({debug:!1,fallbackLng:"en",defaultNS:"translation",interpolation:{escapeValue:!1},resources:{en:{translation:hp("en").then((e=>{Ff.addResourceBundle("en","translation",e)})).catch((e=>{console.error("i18n:Failed to load translations:",e)}))},de:{translation:hp("de").then((e=>{Ff.addResourceBundle("de","translation",e)})).catch((e=>{console.error("i18n:Failed to load translations:",e)}))}}});const $f={TargetData:{number:"000"}};function Hf(e){return e.callType===vp.Incoming||(e.callType===vp.Outgoing||e.callType===vp.Ongoing)}function Uf(e){return e.callType!==vp.None}function Vf(e){return e.callType!==vp.None}const Gf=()=>{const{t:e}=Up(),t=Lh(),n=Ch(),r=vu((e=>e.newNotification)),i=vu((e=>e.phoneIdentifiers));vu((e=>e.newNotifications));const o=vu((e=>e.contactIsBusy)),a=vu((e=>e.uploadConfig)),s=vu((e=>e.phoneData)),l=vu((e=>e.isPlaying)),c=vu((e=>e.settings)),u=vu((e=>e.signal)),d=vu((e=>e.isOpen)),h=i.number,p=s.callType,f=gu((e=>e.setContactIsBusy)),m=gu((e=>e.setUploadConfig)),g=gu((e=>e.setIsCompanyCall)),v=gu((e=>e.setContacts)),y=gu((e=>e.setIsSoftOpen)),b=gu((e=>e.setWasPlaying)),x=gu((e=>e.setPlaySound)),w=gu((e=>e.setIsPlaying)),_=gu((e=>e.setIsLocked)),S=gu((e=>e.setPreShowNotification)),E=gu((e=>e.setPhoneDataCallType)),k=gu((e=>e.setPhoneDataCallData)),M=gu((e=>e.setPhoneIdentifiers)),C=gu((e=>e.pushNewNotification)),T=gu((e=>e.setNewNotification)),L=gu((e=>e.setPhoneDataTargetNumber)),A=gu((e=>e.setSoundData)),O=gu((e=>e.setSettings)),P=gu((e=>e.setSignal));vu((e=>e.settingsConfig));const R=gu((e=>e.setSettingsConfig)),[I,N]=cl.useState(!1);yp("main:set-device-data",(async e=>await(async e=>{var n;if(O({...c,...e.settings}),i&&i.imei!==e.device.imei&&t(`${Xp}`),M({...e.device}),e.settings.autoLockTimeout>0&&e.device.lock?_(!e.timeoutUnlocked):_(e.device.lock),(null==e?void 0:e.contacts)&&v(e.contacts),!I||i.os!==e.device.os){const e=await Gp("main:get-config",null,JSON.stringify(Sp)),t=JSON.parse(e);R(t),N(!0);const n=await Gp("misc:get-additional-config",null,Ep);if(R({...t,languages:n.languages}),n.languages)for(const r of n.languages)Ff.hasResourceBundle(r.value,"translation")||Ff.addResourceBundle(r.value,"translation",hp(r.value).then((e=>{Ff.addResourceBundle(r.value,"translation",e)})).catch((e=>{console.error("PhoneContainer:Failed to load translations:",e)})),!0,!0)}(pp()||a)&&(null==(n=window.cameraRender)?void 0:n.hasUploadConfig())||Gp("utils:get-upload-config",null,Mp).then((e=>{var t,n,r,i,o,a,s;e&&((null==(t=null==e?void 0:e.apiKeys)?void 0:t.Audio)&&(null==(n=null==e?void 0:e.apiKeys)?void 0:n.Video)&&(null==(r=null==e?void 0:e.apiKeys)?void 0:r.Image)&&(null==(i=null==e?void 0:e.uploadMethod)?void 0:i.Audio)&&(null==(o=null==e?void 0:e.uploadMethod)?void 0:o.Video)&&(null==(a=null==e?void 0:e.uploadMethod)?void 0:a.Image)?(m(!0),null==(s=window.cameraRender)||s.setUploadConfig(e)):m(!1))}))})(e)));const j=e=>{Cp({action:"ui:notify",internal:!0,data:{message:e,type:"error"}})},[z,D]=cl.useState(-1);cl.useEffect((()=>{o||-1!==z&&clearTimeout(z)}),[o]);const B=e=>{x(!1),Gp("phone:answer-call",null,{}).then((()=>{E(vp.Ongoing)}))},F=()=>{x(!1),Gp("phone:cancel-call",null,{}).then((()=>{$()})),o&&f(!1),E(vp.None)},$=()=>{L("000"),k($f),A({type:bp.None,loop:!1}),x(!1),E(vp.None),Gp("main:get-soft-open",null,!0).then((e=>{e&&Gp("main:hide-soft-yboomer",null,!0).then((()=>{y(!1)}))}))};yp("signal:set",(e=>(e=>{P({...u,available:e.available,strength:e.strength})})(e)),{isModal:!0,isCall:!0}),yp("ui:phone:call",(t=>(t=>{let n="";t.number&&(t.number===h?n=e("call.cannotCallYourself"):s.callType!==vp.None?n=e("call.alreadyInCall"):u.available||(n=e("call.noService")),c.hideCallerId&&(t.anonymous=!0),n?j(n):(E(vp.Outgoing),L(t.number),Gp("phone:call-from-app",t,{busy:!1,canCall:!0,inCall:!1,isOnline:!0}).then((e=>{if(null==e?void 0:e.busy){A(xp),x(!0),f(!0);const e=setTimeout((()=>{x(!1),A({type:bp.None,loop:!1}),L("000"),k($f),E(vp.None),g(!1),f(!1)}),2500);D(e)}else(null==e?void 0:e.canCall)&&!(null==e?void 0:e.inCall)?(A(wp),x(!0),(null==t?void 0:t.callback)&&t.callback()):(x(!1),L("000"),E(vp.None),k($f))}))))})(t)),{isModal:!0,isCall:!0}),yp("ui:phone:answer-call",(e=>B()),{isModal:!0,isCall:!0}),yp("ui:phone:cancel-call",F,{isModal:!0,isCall:!0}),yp("phone:setup-call",(e=>(e=>{l&&(b(!0),w(!1)),k(e),E(vp.Incoming),A(_p),x(!0),d||Gp("main:soft-show-yboomer")})(e)),{isModal:!0,isCall:!0}),yp("phone:set-ongoing-call",(()=>{x(!1),E(vp.Ongoing)}),{isModal:!0}),yp("phone:cleanup-after-cancel-call",(()=>{$()}),{isModal:!0,isCall:!0});const H=e=>{if((e=>{var t;const r=n.pathname;if(!d)return!0;if((null==e?void 0:e.app)===Wp.Messages){const n=RegExp(/chat\/([^\/]+)/).exec(r),i=n?n[1]:null;if((null==(t=null==e?void 0:e.data)?void 0:t.channelId)===i)return!1}return!0})(e))if(!r&&e){const t=()=>{d||Gp("main:soft-show-yboomer").then((()=>y(!0))),C(e),S(!0),T(!0)};i.lock&&!d?(_(!0),t()):t()}else r&&e&&C(e)};yp("notifications:new",(e=>{H(e)}));yp("ui:copy-to-clipboard",(t=>((t,n=e("apps.settings.copiedToClipboard"))=>{const r=document.createElement("textarea");r.value=t,document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),j(n)}catch(i){console.error("Unable to copy to clipboard",i)}document.body.removeChild(r)})(t.text,t.successMessage)));const[U,V]=cl.useState([]),G=cl.useRef();cl.useEffect((()=>(G.current&&clearTimeout(G.current),U.length>0&&(G.current=setTimeout((()=>{Gp("notifications:bulk-remove",U,!0),V([])}),5e3)),()=>{G.current&&clearTimeout(G.current)})),[U]);yp("ui:notifications:bulk-remove",(e=>(e=>V((t=>[...t,...e])))(e)));yp("kb-cancel-call",(()=>{p!==vp.None&&F()}),{isCall:!0,isModal:!0}),yp("kb-answer-call",(()=>{p===vp.Incoming&&B()}),{isCall:!0,isModal:!0});return yp("cleanup:on-death",(()=>{l&&w(!1)})),el.jsx("div",{className:"invisible absolute"})};function Wf(e){const t=Lh(),[n,r]=cl.useState(1),{index:i,resetIndexPosition:o}=yu(e.position??null,n),a=vu((e=>e.footerActions)),s=vu((e=>e.phoneData)),l=vu((e=>e.optionsModal)),c=vu((e=>e.security.isLocked)),[u,d]=cl.useState(!1),[h,p]=cl.useState(!1),[f,m]=cl.useState(!1),g=(e,t)=>{const n=document.querySelector(`${e}[tabindex="${t}"]`);null==n||n.focus(),r(t)};return cl.useEffect((()=>{const t=document.querySelectorAll(`${e.selector}[tabindex]`);return t.forEach((t=>{t.addEventListener("click",(()=>{g(e.selector,Number(t.getAttribute("tabindex")))}))})),()=>{t.forEach((t=>{t.removeEventListener("click",(()=>{g(e.selector,Number(t.getAttribute("tabindex")))}))}))}}),[e.selector,e.maxFocus,l.status]),cl.useEffect((()=>{d(!1);const e=setTimeout((()=>{d(!0)}),50);return()=>clearTimeout(e)}),[l.status]),cl.useEffect((()=>{if(l.status)return void p(!0);let e;return l.status||(e=setTimeout((()=>{p(!1)}),50)),()=>clearTimeout(e)}),[l.status]),cl.useEffect((()=>{g(e.selector,e.defaultFocus??1)}),[]),cl.useEffect((()=>{l.status&&!e.isModal||g(e.selector,n)}),[n,e.selector,e.maxFocus,l.status]),cl.useEffect((()=>{const i=i=>{if((!h||e.isModal)&&(!c||e.allowLocked)){if("Enter"===i.key){if(Uf(s))return;if(e.enterHandler&&u)return void e.enterHandler();const t=document.querySelector(`${e.selector}[tabindex="${n}"]`);null==t||t.click()}if("Backspace"===i.key){if(Vf(s))return;const r=document.querySelector(`${e.selector}[tabindex="${n}"]`);if(r&&""!==r.value&&void 0!==r.value)return void m(!0);if(e.backspaceHandler&&u&&!f)return void e.backspaceHandler();e.backspaceHandler||!u||f||t(-1)}if("Shift"===i.key){if(Hf(s))return;2===i.location&&e.shiftHandler&&e.shiftHandler()}if(s.callType===vp.None&&("ArrowDown"===i.key||"ArrowUp"===i.key||"ArrowLeft"===i.key||"ArrowRight"===i.key)){let t=n;"ArrowDown"===i.key?t=e.inverse?n-1:n+1:"ArrowUp"===i.key&&(t=e.inverse?n+1:n-1),"ArrowLeft"!==i.key||e.disableLeftRight?"ArrowRight"!==i.key||e.disableLeftRight||(t=n+3):t=n-3,t<1||0===t?t=1:t>e.maxFocus&&(t=e.maxFocus),r(t),g(e.selector,t)}}};return window.addEventListener("keydown",i),window.addEventListener("keyup",(e=>{"Backspace"===e.key&&m(!1)})),()=>{window.removeEventListener("keydown",i)}}),[n,e.maxFocus,u,a.right,s.callType,l.status,h,f,e.enterHandler,e.backspaceHandler,e.shiftHandler,e.disableLeftRight,e.inverse]),cl.useEffect((()=>{if(e.position&&1!==i&&(!l.status||e.isModal)){r(i),g(e.selector,i);const t=document.querySelector(`${e.selector}[tabindex="${i}"]`);null==t||t.scrollIntoView({block:"center"})}}),[i,l.status]),yp("keyboard:up",(()=>{if(c&&!e.allowLocked)return;const t=new KeyboardEvent("keydown",{key:"ArrowUp"});window.dispatchEvent(t)}),{isModal:e.isModal}),yp("keyboard:down",(()=>{if(c&&!e.allowLocked)return;const t=new KeyboardEvent("keydown",{key:"ArrowDown"});window.dispatchEvent(t)}),{isModal:e.isModal}),yp("keyboard:left",(()=>{if(c&&!e.allowLocked)return;const t=new KeyboardEvent("keydown",{key:"ArrowLeft"});window.dispatchEvent(t)}),{isModal:e.isModal}),yp("keyboard:right",(()=>{if(c&&!e.allowLocked)return;const t=new KeyboardEvent("keydown",{key:"ArrowRight"});window.dispatchEvent(t)}),{isModal:e.isModal}),yp("keyboard:enter",(()=>{if((!c||e.allowLocked)&&!Uf(s))if(e.enterHandler&&u)e.enterHandler();else if(u){const t=document.querySelector(`${e.selector}[tabindex="${n}"]`);null==t||t.click()}}),{isModal:e.isModal}),yp("keyboard:backspace",(()=>{c&&!e.allowLocked||Vf(s)||e.backspaceHandler&&u&&e.backspaceHandler()}),{isModal:e.isModal}),yp("keyboard:shift",(()=>{c&&!e.allowLocked||Hf(s)||e.shiftHandler&&u&&e.shiftHandler()}),{isModal:e.isModal}),{focusItem:g,resetIndexPosition:o,currentFocus:n}}const qf={left:"",center:"select",right:"exit"},Xf={left:"",center:"select",right:""};var Yf=(e=>(e.Select="select",e.Exit="exit",e.Options="options",e.Search="search",e.Back="back",e.Clear="clear",e.Save="save",e.Call="call",e.Cancel="cancel",e.Answer="answer",e.Decline="decline",e.Mute="mute",e.Unmute="unmute",e.End="end",e.Send="send",e.Read="read",e.ReadAll="readAll",e.Dismiss="dismiss",e.Calculate="calculate",e.Alerts="alerts",e.Scroll="scroll",e.Chat="chat",e.Unlock="unlock",e.Copy="copy",e.GoTo="goTo",e.SimEject="simEject",e.SimInsert="simInsert",e.Preview="preview",e.ClearAll="clearAll",e.Capture="capture",e.Block="block",e.Unblock="unblock",e.Media="media",e.Edit="edit",e))(Yf||{}),Jf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kf=ul.createContext&&ul.createContext(Jf),Zf=["attr","size","title"];function Qf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},em.apply(this,arguments)}function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach((function(t){rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rm(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function im(e){return e&&e.map(((e,t)=>ul.createElement(e.tag,nm({key:t},e.attr),im(e.child))))}function om(e){return t=>ul.createElement(am,em({attr:nm({},e.attr)},t),im(e.child))}function am(e){var t=t=>{var n,{attr:r,size:i,title:o}=e,a=Qf(e,Zf),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),ul.createElement("svg",em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:nm(nm({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&ul.createElement("title",null,o),e.children)};return void 0!==Kf?ul.createElement(Kf.Consumer,null,(e=>t(e))):t(Jf)}function sm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-2.5 4A2.5 2.5 0 0 1 18 9.5c.42 0 .8.11 1.15.29l-3.36 3.36c-.18-.35-.29-.73-.29-1.15zm2.5 2.5c-.42 0-.8-.11-1.15-.29l3.36-3.36c.18.35.29.73.29 1.15a2.5 2.5 0 0 1-2.5 2.5zM17 18H7V6h10v1h2V3c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4h-2v1z"},child:[]}]})(e)}function lm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A7.987 7.987 0 0 1 5.08 16zm2.95-8H5.08a7.987 7.987 0 0 1 4.33-3.56A15.65 15.65 0 0 0 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"},child:[]}]})(e)}function cm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 12A4.5 4.5 0 0 0 14 7.97v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.796 8.796 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06a8.99 8.99 0 0 0 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4 9.91 6.09 12 8.18V4z"},child:[]}]})(e)}function um(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 0 1 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0 1 20 12c0 4.42-3.58 8-8 8z"},child:[]}]})(e)}function dm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 16v-2l-8.5-5V3.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5V9L2 14v2l8.5-2.5V19L8 20.5V22l4-1 4 1v-1.5L13.5 19v-5.5L22 16z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]}]})(e)}function hm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.5 7.67V3.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V9l8.5 5v2l-4.49-1.32-7.01-7.01zm9.28 14.94 1.41-1.41-7.69-7.7-3.94-3.94-6.75-6.75-1.42 1.41 6.38 6.38L2 14v2l8.5-2.5V19L8 20.5V22l4-1 4 1v-1.5L13.5 19v-2.67l6.28 6.28z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]}]})(e)}function pm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M5 18h14v2H5v-2zm4.6-2.7L5 10.7l2-1.9 2.6 2.6L17 4l2 2-9.4 9.3z"},child:[]}]})(e)}function fm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 1.01 7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"},child:[]}]})(e)}function mm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(e)}function gm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(e)}function vm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 14h3v6H5v-6z"},child:[]}]})(e)}function ym(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 14h3v6H5v-6zm6-5h3v11h-3V9z"},child:[]}]})(e)}function bm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M17 4h3v16h-3V4zM5 14h3v6H5v-6zm6-5h3v11h-3V9z"},child:[]}]})(e)}function xm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M10.83 5H17v9.11l2 2V5c0-1.1-.9-2-2-2h-7L7.94 5.06l1.42 1.42L10.83 5zm10.43 16.21L3.79 3.74 2.38 5.15 5 7.77V19a2 2 0 0 0 2 2h11.23l1.62 1.62 1.41-1.41zM7 19V9.79L16.23 19H7z"},child:[]}]})(e)}function wm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25V21zm2-2.92 9.06-9.06.92.92L5.92 19H5v-.92zM18.37 3.29a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34z"},child:[]}]})(e)}function _m(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m20.5 10 .5-2h-4l1-4h-2l-1 4h-4l1-4h-2L9 8H5l-.5 2h4l-1 4h-4L3 16h4l-1 4h2l1-4h4l-1 4h2l1-4h4l.5-2h-4l1-4h4zm-7 4h-4l1-4h4l-1 4z"},child:[]}]})(e)}function Sm(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.32 4.26A9.949 9.949 0 0 0 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1a7.941 7.941 0 0 1 1.62 3.9zm-1.62 5.9 1.43 1.43a9.981 9.981 0 0 0 2.21-5.32h-2.02a7.945 7.945 0 0 1-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zm2.59-9.34L13 13.17V7h-2v6.17l-2.59-2.59L7 12l5 5 5-5-1.41-1.41zM11 19.93v2.02c-5.05-.5-9-4.76-9-9.95s3.95-9.45 9-9.95v2.02C7.05 4.56 4 7.92 4 12s3.05 7.44 7 7.93z"},child:[]}]})(e)}var Em=(e=>(e.Create="create",e.Book="book",e.ContactsLanding="contactsLanding",e.Edit="edit",e.Search="search",e.Blocked="blocked",e))(Em||{}),km=function(){return km=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},km.apply(this,arguments)};function Mm(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var Cm="-ms-",Tm="-moz-",Lm="-webkit-",Am="comm",Om="rule",Pm="decl",Rm="@keyframes",Im=Math.abs,Nm=String.fromCharCode,jm=Object.assign;function zm(e){return e.trim()}function Dm(e,t){return(e=t.exec(e))?e[0]:e}function Bm(e,t,n){return e.replace(t,n)}function Fm(e,t,n){return e.indexOf(t,n)}function $m(e,t){return 0|e.charCodeAt(t)}function Hm(e,t,n){return e.slice(t,n)}function Um(e){return e.length}function Vm(e){return e.length}function Gm(e,t){return t.push(e),e}function Wm(e,t){return e.filter((function(e){return!Dm(e,t)}))}var qm=1,Xm=1,Ym=0,Jm=0,Km=0,Zm="";function Qm(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:qm,column:Xm,length:a,return:"",siblings:s}}function eg(e,t){return jm(Qm("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function tg(e){for(;e.root;)e=eg(e.root,{children:[e]});Gm(e,e.siblings)}function ng(){return Km=Jm<Ym?$m(Zm,Jm++):0,Xm++,10===Km&&(Xm=1,qm++),Km}function rg(){return $m(Zm,Jm)}function ig(){return Jm}function og(e,t){return Hm(Zm,e,t)}function ag(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sg(e){return zm(og(Jm-1,ug(91===e?e+2:40===e?e+1:e)))}function lg(e){for(;(Km=rg())&&Km<33;)ng();return ag(e)>2||ag(Km)>3?"":" "}function cg(e,t){for(;--t&&ng()&&!(Km<48||Km>102||Km>57&&Km<65||Km>70&&Km<97););return og(e,ig()+(t<6&&32==rg()&&32==ng()))}function ug(e){for(;ng();)switch(Km){case e:return Jm;case 34:case 39:34!==e&&39!==e&&ug(Km);break;case 40:41===e&&ug(e);break;case 92:ng()}return Jm}function dg(e,t){for(;ng()&&e+Km!==57&&(e+Km!==84||47!==rg()););return"/*"+og(t,Jm-1)+"*"+Nm(47===e?e:ng())}function hg(e){for(;!ag(rg());)ng();return og(e,Jm)}function pg(e){return function(e){return Zm="",e}(fg("",null,null,null,[""],e=function(e){return qm=Xm=1,Ym=Um(Zm=e),Jm=0,[]}(e),0,[0],e))}function fg(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",x=i,w=o,_=r,S=b;g;)switch(f=y,y=ng()){case 40:if(108!=f&&58==$m(S,d-1)){-1!=Fm(S+=Bm(sg(y),"&","&\f"),"&\f",Im(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=sg(y);break;case 9:case 10:case 13:case 32:S+=lg(f);break;case 92:S+=cg(ig()-1,7);continue;case 47:switch(rg()){case 42:case 47:Gm(gg(dg(ng(),ig()),t,n,l),l);break;default:S+="/"}break;case 123*m:s[c++]=Um(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Bm(S,/\f/g,"")),p>0&&Um(S)-d&&Gm(p>32?vg(S+";",r,n,d-1,l):vg(Bm(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(Gm(_=mg(S,t,n,c,u,i,s,b,x=[],w=[],d,o),o),123===y)if(0===u)fg(S,t,_,_,x,o,d,s,w);else switch(99===h&&110===$m(S,3)?100:h){case 100:case 108:case 109:case 115:fg(e,_,_,r&&Gm(mg(e,_,_,0,0,i,s,b,i,x=[],d,w),w),i,w,d,s,r?x:w);break;default:fg(S,_,_,_,[""],w,0,s,w)}}c=u=p=0,m=v=1,b=S="",d=a;break;case 58:d=1+Um(S),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(Km=Jm>0?$m(Zm,--Jm):0,Xm--,10===Km&&(Xm=1,qm--),Km))continue;switch(S+=Nm(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(Um(S)-1)*v,v=1;break;case 64:45===rg()&&(S+=sg(ng())),h=rg(),u=d=Um(b=S+=hg(ig())),y++;break;case 45:45===f&&2==Um(S)&&(m=0)}}return o}function mg(e,t,n,r,i,o,a,s,l,c,u,d){for(var h=i-1,p=0===i?o:[""],f=Vm(p),m=0,g=0,v=0;m<r;++m)for(var y=0,b=Hm(e,h+1,h=Im(g=a[m])),x=e;y<f;++y)(x=zm(g>0?p[y]+" "+b:Bm(b,/&\f/g,p[y])))&&(l[v++]=x);return Qm(e,t,n,0===i?Om:s,l,c,u,d)}function gg(e,t,n,r){return Qm(e,t,n,Am,Nm(Km),Hm(e,2,-2),0,r)}function vg(e,t,n,r,i){return Qm(e,t,n,Pm,Hm(e,0,r),Hm(e,r+1,-1),r,i)}function yg(e,t,n){switch(function(e,t){return 45^$m(e,0)?(((t<<2^$m(e,0))<<2^$m(e,1))<<2^$m(e,2))<<2^$m(e,3):0}(e,t)){case 5103:return Lm+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lm+e+e;case 4789:return Tm+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Lm+e+Tm+e+Cm+e+e;case 5936:switch($m(e,t+11)){case 114:return Lm+e+Cm+Bm(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Lm+e+Cm+Bm(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Lm+e+Cm+Bm(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Lm+e+Cm+e+e;case 6165:return Lm+e+Cm+"flex-"+e+e;case 5187:return Lm+e+Bm(e,/(\w+).+(:[^]+)/,Lm+"box-$1$2"+Cm+"flex-$1$2")+e;case 5443:return Lm+e+Cm+"flex-item-"+Bm(e,/flex-|-self/g,"")+(Dm(e,/flex-|baseline/)?"":Cm+"grid-row-"+Bm(e,/flex-|-self/g,""))+e;case 4675:return Lm+e+Cm+"flex-line-pack"+Bm(e,/align-content|flex-|-self/g,"")+e;case 5548:return Lm+e+Cm+Bm(e,"shrink","negative")+e;case 5292:return Lm+e+Cm+Bm(e,"basis","preferred-size")+e;case 6060:return Lm+"box-"+Bm(e,"-grow","")+Lm+e+Cm+Bm(e,"grow","positive")+e;case 4554:return Lm+Bm(e,/([^-])(transform)/g,"$1"+Lm+"$2")+e;case 6187:return Bm(Bm(Bm(e,/(zoom-|grab)/,Lm+"$1"),/(image-set)/,Lm+"$1"),e,"")+e;case 5495:case 3959:return Bm(e,/(image-set\([^]*)/,Lm+"$1$`$1");case 4968:return Bm(Bm(e,/(.+:)(flex-)?(.*)/,Lm+"box-pack:$3"+Cm+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lm+e+e;case 4200:if(!Dm(e,/flex-|baseline/))return Cm+"grid-column-align"+Hm(e,t)+e;break;case 2592:case 3360:return Cm+Bm(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Dm(e.props,/grid-\w+-end/)}))?~Fm(e+(n=n[t].value),"span",0)?e:Cm+Bm(e,"-start","")+e+Cm+"grid-row-span:"+(~Fm(n,"span",0)?Dm(n,/\d+/):+Dm(n,/\d+/)-+Dm(e,/\d+/))+";":Cm+Bm(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Dm(e.props,/grid-\w+-start/)}))?e:Cm+Bm(Bm(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Bm(e,/(.+)-inline(.+)/,Lm+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Um(e)-1-t>6)switch($m(e,t+1)){case 109:if(45!==$m(e,t+4))break;case 102:return Bm(e,/(.+:)(.+)-([^]+)/,"$1"+Lm+"$2-$3$1"+Tm+(108==$m(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Fm(e,"stretch",0)?yg(Bm(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Bm(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,o,a,s){return Cm+n+":"+r+s+(i?Cm+n+"-span:"+(o?a:+a-+r)+s:"")+e}));case 4949:if(121===$m(e,t+6))return Bm(e,":",":"+Lm)+e;break;case 6444:switch($m(e,45===$m(e,14)?18:11)){case 120:return Bm(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Lm+(45===$m(e,14)?"inline-":"")+"box$3$1"+Lm+"$2$3$1"+Cm+"$2box$3")+e;case 100:return Bm(e,":",":"+Cm)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Bm(e,"scroll-","scroll-snap-")+e}return e}function bg(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function xg(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Pm:return e.return=e.return||e.value;case Am:return"";case Rm:return e.return=e.value+"{"+bg(e.children,r)+"}";case Om:if(!Um(e.value=e.props.join(",")))return""}return Um(n=bg(e.children,r))?e.return=e.value+"{"+n+"}":""}function wg(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Pm:return void(e.return=yg(e.value,e.length,n));case Rm:return bg([eg(e,{value:Bm(e.value,"@","@"+Lm)})],r);case Om:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Dm(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":tg(eg(e,{props:[Bm(t,/:(read-\w+)/,":-moz-$1")]})),tg(eg(e,{props:[t]})),jm(e,{props:Wm(n,r)});break;case"::placeholder":tg(eg(e,{props:[Bm(t,/:(plac\w+)/,":"+Lm+"input-$1")]})),tg(eg(e,{props:[Bm(t,/:(plac\w+)/,":-moz-$1")]})),tg(eg(e,{props:[Bm(t,/:(plac\w+)/,Cm+"input-$1")]})),tg(eg(e,{props:[t]})),jm(e,{props:Wm(n,r)})}return""}))}}var _g={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sg={},Eg="undefined"!=typeof process&&void 0!==Sg&&(Sg.REACT_APP_SC_ATTR||Sg.SC_ATTR)||"data-styled",kg="active",Mg="data-styled-version",Cg="6.1.16",Tg="/*!sc*/\n",Lg="undefined"!=typeof window&&"HTMLElement"in window,Ag=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==Sg&&void 0!==Sg.REACT_APP_SC_DISABLE_SPEEDY&&""!==Sg.REACT_APP_SC_DISABLE_SPEEDY?"false"!==Sg.REACT_APP_SC_DISABLE_SPEEDY&&Sg.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==Sg&&void 0!==Sg.SC_DISABLE_SPEEDY&&""!==Sg.SC_DISABLE_SPEEDY&&("false"!==Sg.SC_DISABLE_SPEEDY&&Sg.SC_DISABLE_SPEEDY)),Og=Object.freeze([]),Pg=Object.freeze({});var Rg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Ig=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ng=/(^-|-$)/g;function jg(e){return e.replace(Ig,"-").replace(Ng,"")}var zg=/(a)(d)/gi,Dg=function(e){return String.fromCharCode(e+(e>25?39:97))};function Bg(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Dg(t%52)+n;return(Dg(t%52)+n).replace(zg,"$1-$2")}var Fg,$g=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Hg=function(e){return $g(5381,e)};function Ug(e){return"string"==typeof e&&!0}var Vg="function"==typeof Symbol&&Symbol.for,Gg=Vg?Symbol.for("react.memo"):60115,Wg=Vg?Symbol.for("react.forward_ref"):60112,qg={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xg={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Jg=((Fg={})[Wg]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fg[Gg]=Yg,Fg);function Kg(e){return("type"in(t=e)&&t.type.$$typeof)===Gg?Yg:"$$typeof"in e?Jg[e.$$typeof]:qg;var t}var Zg=Object.defineProperty,Qg=Object.getOwnPropertyNames,ev=Object.getOwnPropertySymbols,tv=Object.getOwnPropertyDescriptor,nv=Object.getPrototypeOf,rv=Object.prototype;function iv(e,t,n){if("string"!=typeof t){if(rv){var r=nv(t);r&&r!==rv&&iv(e,r,n)}var i=Qg(t);ev&&(i=i.concat(ev(t)));for(var o=Kg(e),a=Kg(t),s=0;s<i.length;++s){var l=i[s];if(!(l in Xg||n&&n[l]||a&&l in a||o&&l in o)){var c=tv(t,l);try{Zg(e,l,c)}catch(u){}}}}return e}function ov(e){return"function"==typeof e}function av(e){return"object"==typeof e&&"styledComponentId"in e}function sv(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function lv(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function cv(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function uv(e,t,n){if(void 0===n&&(n=!1),!n&&!cv(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=uv(e[r],t[r]);else if(cv(t))for(var r in t)e[r]=uv(e[r],t[r]);return e}function dv(e,t){Object.defineProperty(e,"toString",{value:t})}function hv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var pv=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw hv(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(Tg);return t},e}(),fv=new Map,mv=new Map,gv=1,vv=function(e){if(fv.has(e))return fv.get(e);for(;mv.has(gv);)gv++;var t=gv++;return fv.set(e,t),mv.set(t,e),t},yv=function(e,t){gv=t+1,fv.set(e,t),mv.set(t,e)},bv="style[".concat(Eg,"][").concat(Mg,'="').concat(Cg,'"]'),xv=new RegExp("^".concat(Eg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wv=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},_v=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Tg),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(xv);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(yv(u,c),wv(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},Sv=function(e){for(var t=document.querySelectorAll(bv),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Eg)!==kg&&(_v(e,i),i.parentNode&&i.parentNode.removeChild(i))}};var Ev=function(e){var t,n,r=document.head,i=e||r,o=document.createElement("style"),a=(t=i,(n=Array.from(t.querySelectorAll("style[".concat(Eg,"]"))))[n.length-1]),s=void 0!==a?a.nextSibling:null;o.setAttribute(Eg,kg),o.setAttribute(Mg,Cg);var l="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return l&&o.setAttribute("nonce",l),i.insertBefore(o,s),o},kv=function(){function e(e){this.element=Ev(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw hv(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Mv=function(){function e(e){this.element=Ev(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Cv=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Tv=Lg,Lv={isServer:!Lg,useCSSOMInjection:!Ag},Av=function(){function e(e,t,n){void 0===e&&(e=Pg),void 0===t&&(t={});var r=this;this.options=km(km({},Lv),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Lg&&Tv&&(Tv=!1,Sv(this)),dv(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i,o=(i=n,mv.get(i));if(void 0===o)return"continue";var a=e.names.get(o),s=t.getGroup(n);if(void 0===a||!a.size||0===s.length)return"continue";var l="".concat(Eg,".g").concat(n,'[id="').concat(o,'"]'),c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+="".concat(e,","))})),r+="".concat(s).concat(l,'{content:"').concat(c,'"}').concat(Tg)},o=0;o<n;o++)i(o);return r}(r)}))}return e.registerId=function(e){return vv(e)},e.prototype.rehydrate=function(){!this.server&&Lg&&Sv(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(km(km({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,n=e.target,r=e.isServer?new Cv(n):t?new kv(n):new Mv(n),new pv(r)));var e,t,n,r},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(vv(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(vv(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(vv(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ov=/&/g,Pv=/^\s*\/\/.*$/gm;function Rv(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Rv(e.children,t)),e}))}var Iv=new Av,Nv=function(){var e,t,n,r=Pg,i=r.options,o=void 0===i?Pg:i,a=r.plugins,s=void 0===a?Og:a,l=function(n,r,i){return i.startsWith(t)&&i.endsWith(t)&&i.replaceAll(t,"").length>0?".".concat(e):n},c=s.slice();c.push((function(e){e.type===Om&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Ov,t).replace(n,l))})),o.prefix&&c.push(wg),c.push(xg);var u=function(r,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),e=s,t=i,n=new RegExp("\\".concat(t,"\\b"),"g");var l=r.replace(Pv,""),u=pg(a||i?"".concat(a," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=Rv(u,o.namespace));var d,h,p,f=[];return bg(u,(d=c.concat((p=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&p(e)})),h=Vm(d),function(e,t,n,r){for(var i="",o=0;o<h;o++)i+=d[o](e,t,n,r)||"";return i})),f};return u.hash=s.length?s.reduce((function(e,t){return t.name||hv(15),$g(e,t.name)}),5381).toString():"",u}(),jv=ul.createContext({shouldForwardProp:void 0,styleSheet:Iv,stylis:Nv});function zv(){return cl.useContext(jv)}jv.Consumer,ul.createContext(void 0);var Dv=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Nv);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,dv(this,(function(){throw hv(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Nv),this.name+e.hash},e}(),Bv=function(e){return e>="A"&&e<="Z"};function Fv(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Bv(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var $v=function(e){return null==e||!1===e||""===e},Hv=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!$v(o)&&(Array.isArray(o)&&o.isCss||ov(o)?r.push("".concat(Fv(i),":"),o,";"):cv(o)?r.push.apply(r,Mm(Mm(["".concat(i," {")],Hv(o),!1),["}"],!1)):r.push("".concat(Fv(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in _g||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Uv(e,t,n,r){return $v(e)?[]:av(e)?[".".concat(e.styledComponentId)]:ov(e)?!ov(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Uv(e(t),t,n,r):e instanceof Dv?n?(e.inject(n,r),[e.getName(r)]):[e]:cv(e)?Hv(e):Array.isArray(e)?Array.prototype.concat.apply(Og,e.map((function(e){return Uv(e,t,n,r)}))):[e.toString()];var i}var Vv=Hg(Cg),Gv=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ov(n)&&!av(n))return!1}return!0}(e),this.componentId=t,this.baseHash=$g(Vv,t),this.baseStyle=n,Av.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=sv(r,this.staticRulesId);else{var i=lv(Uv(this.rules,e,t,n)),o=Bg($g(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=sv(r,o),this.staticRulesId=o}else{for(var s=$g(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=lv(Uv(u,e,t,n));s=$g(s,d+c),l+=d}}if(l){var h=Bg(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(l,".".concat(h),void 0,this.componentId)),r=sv(r,h)}}return r},e}(),Wv=ul.createContext(void 0);Wv.Consumer;var qv={};function Xv(e,t,n){var r,i=av(e),o=e,a=!Ug(e),s=t.attrs,l=void 0===s?Og:s,c=t.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":jg(e);qv[n]=(qv[n]||0)+1;var r="".concat(n,"-").concat(function(e){return Bg(Hg(e)>>>0)}(Cg+n+qv[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,d=t.displayName,h=void 0===d?Ug(r=e)?"styled.".concat(r):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(r),")"):d,p=t.displayName&&t.componentId?"".concat(jg(t.displayName),"-").concat(t.componentId):t.componentId||u,f=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,m=t.shouldForwardProp;if(i&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new Gv(n,p,i?o.componentStyle:void 0);function b(e,t){return function(e,t,n){var r=e.attrs,i=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,s=e.styledComponentId,l=e.target,c=ul.useContext(Wv),u=zv(),d=e.shouldForwardProp||u.shouldForwardProp,h=function(e,t,n){return void 0===n&&(n=Pg),e.theme!==n.theme&&e.theme||t||n.theme}(t,c,o)||Pg,p=function(e,t,n){for(var r,i=km(km({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var a=ov(r=e[o])?r(i):r;for(var s in a)i[s]="className"===s?sv(i[s],a[s]):"style"===s?km(km({},i[s]),a[s]):a[s]}return t.className&&(i.className=sv(i.className,t.className)),i}(r,t,h),f=p.as||l,m={};for(var g in p)void 0===p[g]||"$"===g[0]||"as"===g||"theme"===g&&p.theme===h||("forwardedAs"===g?m.as=p.forwardedAs:d&&!d(g,f)||(m[g]=p[g]));var v,y,b,x=(v=i,y=p,b=zv(),v.generateAndInjectStyles(y,b.styleSheet,b.stylis)),w=sv(a,s);return x&&(w+=" "+x),p.className&&(w+=" "+p.className),m[Ug(f)&&!Rg.has(f)?"class":"className"]=w,n&&(m.ref=n),cl.createElement(f,m)}(x,e,t)}b.displayName=h;var x=ul.forwardRef(b);return x.attrs=f,x.componentStyle=y,x.displayName=h,x.shouldForwardProp=m,x.foldedComponentIds=i?sv(o.foldedComponentIds,o.styledComponentId):"",x.styledComponentId=p,x.target=i?o.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)uv(e,i[r],!0);return e}({},o.defaultProps,e):e}}),dv(x,(function(){return".".concat(x.styledComponentId)})),a&&iv(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function Yv(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Jv=function(e){return Object.assign(e,{isCss:!0})};function Kv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ov(e)||cv(e))return Jv(Uv(Yv(Og,Mm([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Uv(r):Jv(Uv(Yv(r,t)))}function Zv(e,t,n){if(void 0===n&&(n=Pg),!t)throw hv(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,Kv.apply(void 0,Mm([r],i,!1)))};return r.attrs=function(r){return Zv(e,t,km(km({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Zv(e,t,km(km({},n),r))},r}var Qv=function(e){return Zv(Xv,e)},ey=Qv;Rg.forEach((function(e){ey[e]=Qv(e)}));const ty=ey.div.attrs({className:"tgg-container-scrollable"})`
	${e=>e.$disabled?"overflow: hidden":"overflow: hidden auto"};

	::-webkit-scrollbar {
		width: 0px;
	}
`,ny=cl.forwardRef((({children:e,style:t,offsetHeight:n,disableScroll:r,id:i},o)=>el.jsx(ty,{id:i??"tgg-container-scrollable",ref:o,style:{...t,height:`calc(100% - ${n}px)`},$disabled:r,children:e}))),ry=ey.div.attrs({className:"tgg-footer"})`
	display: flex;
	justify-content: space-between;

	font-size: calc(12px * ${e=>e.$resizeBy});

	color: var(--tgg-text-color-primary);

	padding: calc(0.25em * ${e=>e.$resizeBy}) calc(0.5em * ${e=>e.$resizeBy});

	.tgg-option-label {
		width: 33.33%;

		&:first-child {
			text-align: left;
		}

		&:nth-child(2) {
			text-align: center;
		}

		&:last-child {
			text-align: right;
		}
	}
`,iy=({_setHeight:e})=>{const t=cl.useRef(null),{t:n}=Up(),r=vu((e=>e.footerActions)),i=vu((e=>e.resizeBy)),o=r.center,a=r.right,s=r.left;return cl.useLayoutEffect((()=>{var n;t&&e&&e(null==(n=null==t?void 0:t.current)?void 0:n.clientHeight)}),[t,e]),el.jsxs(ry,{$resizeBy:i,ref:t,children:[el.jsx("div",{className:"tgg-option-label",children:s&&n(`footerOptions.${s}`)}),el.jsx("div",{className:"tgg-option-label",children:o&&n(`footerOptions.${o}`)}),el.jsx("div",{className:"tgg-option-label",children:a&&n(`footerOptions.${a}`)})]})},oy=ey.div.attrs({className:"tgg-app-header"})`
	display: flex;
	justify-content: center;
	align-items: center;

	padding: calc(0.015rem * ${e=>e.$resizeBy}) 0;

	background-color: #596373;

	.tgg-header-title {
		font-size: calc(0.9rem * ${e=>e.$resizeBy});

		color: var(--tgg-highlight-color);
	}
`,ay=({title:e,_setHeight:t})=>{const n=cl.useRef(null),r=vu((e=>e.resizeBy));return cl.useLayoutEffect((()=>{var e;n&&t&&t(null==(e=null==n?void 0:n.current)?void 0:e.clientHeight)}),[n,t]),el.jsx(oy,{$resizeBy:r,ref:n,children:el.jsx("div",{className:"tgg-header-title",children:e})})},sy=ey.div.attrs({className:"tgg-app-layout"})`
	position: absolute;
	top: 0;

	z-index: ${e=>e.$zIndex??1};

	height: 100%;
	width: 100%;

	padding: 0 3.35px 0 3px;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);
`,ly=({title:e,children:t,disableScrollable:n=!1,disableHeader:r=!1,zIndex:i=1})=>{const[o,a]=cl.useState(0),[s,l]=cl.useState(0);return el.jsxs(sy,{$zIndex:i,children:[!r&&el.jsx(ay,{title:e,_setHeight:r?fp:a}),el.jsx(ny,{offsetHeight:o+s,disableScroll:n,children:t}),el.jsx(iy,{_setHeight:l})]})},cy=ey.div.attrs({className:"tgg-search-contact-result"})`
	.tgg-contact-list-empty {
		display: flex;
		justify-content: center;
		width: 100%;
	}

	.tgg-contact-item {
		padding: 0.5rem;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
	}

	.tgg-contact-item-container {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
	}

	.tgg-contact-item-button {
		display: flex;
		align-items: center;
		padding: 10px;
	}

	.tgg-contact-item-container:focus {
		background-color: var(--tgg-highlight-color);
	}
`,uy={success:!0,contacts:[{id:1,name:"John Smith",number:"555-0123"},{id:2,name:"Jane Doe",number:"555-0124"}]},dy=()=>{const{contactName:e}=Oh(),t=Lh(),n=vu((e=>e.footerActions)),r=gu((e=>e.setFooterActions)),i=vu((e=>e.phoneIdentifiers)),o=vu((e=>e.signal)),{t:a}=Up(),[s,l]=cl.useState([]),{currentFocus:c}=Wf({maxFocus:s.length,selector:".tgg-contact-item-container",defaultFocus:1,enterHandler:()=>{const n=s[c-1];n&&t(`${qp}/contacts/${Em.Edit}/${n.id}?goBackTo=${Em.Search}/${e}`)},backspaceHandler:()=>{t(`${qp}/contacts/${Em.Search}`)},shiftHandler:()=>{u()}});function u(){const e=s[c-1];Cp({action:"ui:phone:call",internal:!0,data:{number:e.number,name:e.name}})}return cl.useEffect((()=>{Gp("contacts:search-by-name",e,uy).then((e=>{e.success&&l(e.contacts)}))}),[e]),cl.useEffect((()=>(r({...n,left:Yf.Call,center:Yf.Select,right:Yf.Back}),()=>{r({...n,left:"",right:Yf.Exit})})),[]),yp("keyboard:opt",(()=>{u()})),yp("keyboard:green",(()=>{u()})),el.jsx(cy,{children:el.jsx(ly,{title:`${a("apps.contactsSearchResult.title")}: ${e}`,children:el.jsxs("div",{className:"tgg-contact-list",children:[(!i.number||!o.available)&&el.jsx("div",{className:"tgg-contact-list-empty",children:a("general.noSim")}),i.number&&0===s.length&&el.jsx("div",{className:"tgg-contact-list-empty",children:a("apps.contactsSearchResult.noContacts")}),i.number&&s.length>0&&s.map(((e,t)=>el.jsxs("div",{className:"tgg-contact-item-container",tabIndex:t+1,style:{backgroundColor:c===t+1?"var(--tgg-highlight-color)":"transparent"},children:[el.jsxs("div",{className:"tgg-contact-item tgg-focus",tabIndex:t+1,children:[el.jsx("span",{children:e.name}),el.jsx("span",{children:e.number})]},e.id),el.jsx("div",{className:"tgg-contact-item-button",children:el.jsx(wm,{})})]},e.id)))]})})})};function hy(e){return om({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19 3h-11c-1.654 0-3 1.346-3 3v1h-1c-.553 0-1 .448-1 1s.447 1 1 1h1v2h-1c-.553 0-1 .448-1 1s.447 1 1 1h1v2h-1c-.553 0-1 .448-1 1s.447 1 1 1h1v1c0 1.654 1.346 3 3 3h11c1.654 0 3-1.346 3-3v-12c0-1.654-1.346-3-3-3zm-12 3c0-.551.449-1 1-1v2h-1v-1zm0 3h1v2h-1v-2zm0 4h1v2h-1v-2zm0 5v-1h1v2c-.551 0-1-.449-1-1zm13 0c0 .551-.449 1-1 1h-10v-14h10c.551 0 1 .449 1 1v12z"},child:[]},{tag:"circle",attr:{cx:"14",cy:"10.5",r:"2"},child:[]},{tag:"path",attr:{d:"M14 13.356c-1.562 0-2.5.715-2.5 1.429 0 .357.938.715 2.5.715 1.466 0 2.5-.357 2.5-.715 0-.714-.98-1.429-2.5-1.429z"},child:[]}]}]})(e)}function py(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function fy(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function my(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function gy(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function vy(e){return om({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-90.62-70.05c.19-1.38.8-2.66.8-4.06.05-7.55-2.61-15.27-8.61-21.71-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-40.33 8.38-74.66 31.07-97.59 62.57L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.35 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.42-6.97 4.17-17.02-2.81-22.45zM157.23 251.54c-8.61 67.96-36.41 93.33-52.62 110.75-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h241.92L157.23 251.54zM320 512c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"},child:[]}]})(e)}function yy(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function by(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function xy(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm0-192c35.35 0 64-28.65 64-64s-28.65-64-64-64-64 28.65-64 64 28.65 64 64 64zm192 48H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function wy(e){return om({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function _y(e){return om({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"},child:[]}]})(e)}function Sy(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ey(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(e)}function ky(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function My(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Cy(e){return om({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V128L256 0H64C28.7 0 0 28.7 0 64zm224 192h-64v-64h64v64zm96 0h-64v-64h32c17.7 0 32 14.3 32 32v32zm-64 128h64v32c0 17.7-14.3 32-32 32h-32v-64zm-96 0h64v64h-64v-64zm-96 0h64v64H96c-17.7 0-32-14.3-32-32v-32zm0-96h256v64H64v-64zm0-64c0-17.7 14.3-32 32-32h32v64H64v-32z"},child:[]}]})(e)}function Ty(e){return om({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ly(e){return om({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"},child:[]}]})(e)}function Ay(e){return om({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H112c-20.858 0-38.643 13.377-45.248 32H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h496c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24zM48 392V144h16v248c0 4.411-3.589 8-8 8s-8-3.589-8-8zm480 8H111.422c.374-2.614.578-5.283.578-8V112h416v288zM172 280h136c6.627 0 12-5.373 12-12v-96c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v96c0 6.627 5.373 12 12 12zm28-80h80v40h-80v-40zm-40 140v-24c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H172c-6.627 0-12-5.373-12-12zm192 0v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0-144v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12zm0 72v-24c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12H364c-6.627 0-12-5.373-12-12z"},child:[]}]})(e)}const Oy=ey.div.attrs({className:"tgg-contacts-landing"})`
	*:focus {
		background-color: var(--tgg-highlight-color);
	}

	.tgg-row-section-content {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding-top: calc(25px * ${e=>e.$resizeBy});
		padding-bottom: calc(45px * ${e=>e.$resizeBy});
	}
`;function Py(){const e=Lh(),{currentFocus:t}=Wf({maxFocus:4,selector:".contacts-row-section",backspaceHandler:()=>e(`${Xp}`)}),n=vu((e=>e.resizeBy)),{t:r}=Up(),i=gu((e=>e.setFooterActions));cl.useEffect((()=>{i({left:"",center:Yf.Select,right:Yf.Back})}),[]);const o=t=>{switch(t){case Em.Create:return e(Em.Create);case Em.Book:return e(Em.Book);case Em.Search:return e(Em.Search);case Em.Blocked:return e(Em.Blocked);default:return e(Em.ContactsLanding)}},a=(e,t)=>{"Enter"===e.key&&t()};return el.jsx(Oy,{$resizeBy:n,children:el.jsxs(ly,{title:r("apps.contacts.title"),children:[el.jsx("div",{className:"contacts-row-section",tabIndex:1,style:{backgroundColor:1===t?"var(--tgg-highlight-color)":""},onClick:()=>o(Em.Book),children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(hy,{size:22*n,color:"var(--tgg-text-color-primary)"}),el.jsx("div",{className:"tgg-log-title",children:r("apps.contacts.names")})]})}),el.jsx("div",{className:"contacts-row-section",tabIndex:2,style:{backgroundColor:2===t?"var(--tgg-highlight-color)":""},onClick:()=>o(Em.Search),children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(My,{size:22*n,color:"var(--tgg-text-color-primary)"}),el.jsx("div",{className:"tgg-log-title",children:r("apps.contacts.search")})]})}),el.jsx("div",{className:"contacts-row-section",tabIndex:3,onClick:()=>o(Em.Create),style:{backgroundColor:3===t?"var(--tgg-highlight-color)":""},onKeyDown:e=>a(e,(()=>o(Em.Create))),children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(gm,{size:22*n,color:"var(--tgg-text-color-primary)"}),el.jsx("div",{className:"tgg-log-title",children:r("apps.contacts.addContact")})]})}),el.jsx("div",{className:"contacts-row-section",tabIndex:4,onClick:()=>o(Em.Blocked),style:{backgroundColor:4===t?"var(--tgg-highlight-color)":""},onKeyDown:e=>a(e,(()=>o(Em.Blocked))),children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(sm,{size:22*n,color:"var(--tgg-text-color-primary)"}),el.jsx("div",{className:"tgg-log-title",children:r("apps.contacts.blockedNumbers")})]})})]})})}function Ry(e){return om({attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"},child:[]}]})(e)}const Iy=ey.div.attrs({className:"tgg-messages-landing"})`
	position: relative;

	color: var(--tgg-text-color-primary);

	height: 100%;
	width: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-msg-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-row-section-content {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding-top: calc(25px * ${e=>e.$resizeBy});
		padding-bottom: calc(45px * ${e=>e.$resizeBy});
	}
`,Ny=()=>{const e=vu((e=>e.resizeBy)),{t:t}=Up(),n=Lh(),r=gu((e=>e.setFooterActions));cl.useEffect((()=>{r({left:"",center:Yf.Select,right:Yf.Back})}),[]);const{currentFocus:i}=Wf({maxFocus:2,selector:".tgg-row-section",backspaceHandler:()=>n(`${Xp}`)}),o=e=>{switch(e){case nl.Create:return n(nl.Create);case nl.Inbox:return n(nl.Inbox);default:return n(nl.MsgLanding)}};return el.jsx(Iy,{$resizeBy:e,children:el.jsxs(ly,{title:t("apps.messages.title"),children:[el.jsx("div",{className:"tgg-row-section",tabIndex:1,onClick:()=>o(nl.Create),onKeyDown:e=>((e,t)=>{"Enter"===e.key&&t()})(e,(()=>o(nl.Create))),style:{backgroundColor:1===i?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(Ry,{size:18*e}),el.jsx("span",{className:"tgg-msg-title",children:t("apps.messages.create")})]})}),el.jsx("div",{className:"tgg-row-section",tabIndex:2,onClick:()=>o(nl.Inbox),style:{backgroundColor:2===i?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(py,{size:18*e}),el.jsx("span",{className:"tgg-msg-title",children:t("apps.messages.inbox")})]})})]})})};function jy(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391 480c-19.52 0-46.94-7.06-88-30-49.93-28-88.55-53.85-138.21-103.38C116.91 298.77 93.61 267.79 61 208.45c-36.84-67-30.56-102.12-23.54-117.13C45.82 73.38 58.16 62.65 74.11 52a176.3 176.3 0 0 1 28.64-15.2c1-.43 1.93-.84 2.76-1.21 4.95-2.23 12.45-5.6 21.95-2 6.34 2.38 12 7.25 20.86 16 18.17 17.92 43 57.83 52.16 77.43 6.15 13.21 10.22 21.93 10.23 31.71 0 11.45-5.76 20.28-12.75 29.81-1.31 1.79-2.61 3.5-3.87 5.16-7.61 10-9.28 12.89-8.18 18.05 2.23 10.37 18.86 41.24 46.19 68.51s57.31 42.85 67.72 45.07c5.38 1.15 8.33-.59 18.65-8.47 1.48-1.13 3-2.3 4.59-3.47 10.66-7.93 19.08-13.54 30.26-13.54h.06c9.73 0 18.06 4.22 31.86 11.18 18 9.08 59.11 33.59 77.14 51.78 8.77 8.84 13.66 14.48 16.05 20.81 3.6 9.53.21 17-2 22-.37.83-.78 1.74-1.21 2.75a176.49 176.49 0 0 1-15.29 28.58c-10.63 15.9-21.4 28.21-39.38 36.58A67.42 67.42 0 0 1 391 480z"},child:[]}]})(e)}function zy(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 400a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm128 256a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM128 272a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48z"},child:[]}]})(e)}function Dy(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M364.13 125.25 87 403l-23 45 44.99-23 277.76-277.13-22.62-22.62zm56.56-56.56-22.62 22.62 22.62 22.63 22.62-22.63a16 16 0 0 0 0-22.62h0a16 16 0 0 0-22.62 0z"},child:[]}]})(e)}const By=ey.div.attrs({className:"tgg-search-contact"})`
	&-container {
		z-index: '999';
		font-size: '50px';
		position: 'relative';
	}

	&-item {
		border: '1px solid black';
		padding: '10px';
		display: 'flex';
		justify-content: 'space-between';
	}

	.tgg-focus:focus {
		background-color: var(--tgg-highlight-color);
	}

	.tgg-app-layout {
		z-index: 3;
	}

	.tgg-create-message-container {
		padding: 0.15rem 0.5rem;
	}

	.tgg-receiver-container,
	.tgg-msg-content-container {
		display: flex;
		flex-direction: column;
	}

	.tgg-receiver-header {
		display: flex;
		justify-content: space-between;
	}

	.tgg-numbers-type {
		display: flex;
		align-items: center;
		gap: 0.15rem;
	}

	.tgg-numbers-type span {
		font-size: smaller;
	}

	.tgg-receiver-input,
	.tgg-msg-content-input {
		background-color: transparent;
	}

	.tgg-keyboard-type-info {
		display: flex;
		align-items: center;
		gap: 0.6rem;
	}

	.tgg-create-msg-title {
		font-size: 1rem;
	}

	.tgg-receiver-length {
		font-size: 0.9rem;
	}
`,Fy=()=>{const e=vu((e=>e.footerActions)),t=gu((e=>e.setFooterActions)),n=Lh(),[r,i]=cl.useState(""),o=cl.useRef(r),{t:a}=Up();cl.useEffect((()=>{o.current=r}),[r]),Wf({maxFocus:1,selector:".tgg-focus",defaultFocus:1,disableLeftRight:!0,enterHandler:()=>{s()},backspaceHandler:()=>{},shiftHandler:()=>{n(`${qp}/contacts`)}}),cl.useEffect((()=>{t({...e,left:Yf.Cancel,center:Yf.Search,right:Yf.Clear})}),[r]);const s=cl.useCallback((()=>{n(`${qp}/contacts/search/${o.current}`)}),[r,n]);return yp("keyboard:enter",(async()=>{s()})),el.jsx(By,{children:el.jsx(ly,{title:a("apps.contactsSearch.title"),children:el.jsx("form",{className:"tgg-create-message-container",onSubmit:e=>{e.preventDefault()},children:el.jsxs("div",{className:"tgg-receiver-container",children:[el.jsxs("div",{className:"tgg-receiver-header",children:[el.jsxs("span",{className:"tgg-create-msg-title",children:[a("apps.contactsSearch.name"),":"]}),el.jsxs("span",{className:"tgg-keyboard-type-info",children:[el.jsxs("span",{className:"tgg-numbers-type",children:[el.jsx(Dy,{size:14}),el.jsx("span",{children:a("apps.contactsSearch.abc")})]}),el.jsxs("span",{className:"tgg-receiver-length",children:[r.length,"/20"]})]})]}),el.jsx("input",{className:"tgg-receiver-input tgg-focus",value:r,type:"text",tabIndex:1,style:{backgroundColor:"var(--tgg-highlight-color)"},onChange:e=>{e.target.value.length<=20&&i(e.target.value)},placeholder:a("apps.contactsSearch.placeholder"),onFocus:e=>{e.target.select()}})]})})})})},$y=20,Hy=20,Uy=100,Vy=4,Gy=255,Wy=20,qy=ey.div.attrs({className:"tgg-create-contact"})`
	.tgg-app-layout {
		z-index: 3;
	}

	.tgg-create-message-container {
		padding: 0.15rem 0.5rem;
	}

	.tgg-receiver-container,
	.tgg-msg-content-container {
		display: flex;
		flex-direction: column;
	}

	.tgg-receiver-header {
		display: flex;
		justify-content: space-between;
	}

	.tgg-numbers-type {
		display: flex;
		align-items: center;
		gap: 0.15rem;
	}

	.tgg-numbers-type span {
		font-size: smaller;
	}

	.tgg-receiver-input,
	.tgg-msg-content-input {
		background-color: transparent;
	}

	.tgg-keyboard-type-info {
		display: flex;
		align-items: center;
		gap: 0.6rem;
	}

	.tgg-create-msg-title {
		font-size: 1rem;
	}

	.tgg-receiver-length {
		font-size: 0.9rem;
	}

	.tgg-focus-item:focus {
		background-color: var(--tgg-highlight-color);
	}
`,Xy=()=>{var e;const{name:t,number:n}=(null==(e=Ch())?void 0:e.state)||{},[r,i]=cl.useState({name:t||"",number:n||""}),{t:o}=Up(),a=vu((e=>e.contacts)),s=gu((e=>e.setContacts)),l=gu((e=>e.setFooterActions)),{currentFocus:c}=Wf({selector:".tgg-focus-item",defaultFocus:1,maxFocus:2,disableLeftRight:!0,enterHandler:()=>{h()},backspaceHandler:()=>{},shiftHandler:()=>{d()}}),u=Lh(),d=cl.useCallback((()=>{u(-1)}),[u]);cl.useEffect((()=>{setTimeout((()=>{l({left:Yf.Cancel,center:Yf.Save,right:Yf.Clear})}),1)}),[c]);const h=cl.useCallback((()=>{i((e=>(0===e.name.length||0===e.number.length||Gp("contacts:create",e,{contactId:1,success:!0}).then((t=>{if(t.success){const n=t.contactId;s([...a,{id:n,name:e.name,number:e.number}]),u(-1)}})),e)))}),[a,u,s]);return yp("keyboard:enter",(()=>{h()})),yp("keyboard:opt",(()=>{d()})),el.jsx(qy,{children:el.jsx(ly,{title:o("apps.contactsCreate.title"),children:el.jsxs("div",{className:"tgg-create-message-container",children:[el.jsxs("div",{className:"tgg-receiver-container",children:[el.jsxs("div",{className:"tgg-receiver-header",children:[el.jsxs("span",{className:"tgg-create-msg-title",children:[o("apps.contactsCreate.name"),":"]}),el.jsxs("span",{className:"tgg-keyboard-type-info",children:[el.jsxs("span",{className:"tgg-numbers-type",children:[el.jsx(Dy,{size:14}),el.jsx("span",{children:o("apps.contactsCreate.abc")})]}),el.jsxs("span",{className:"tgg-receiver-length",children:[r.name.length,"/20"]})]})]}),el.jsx("input",{className:"tgg-receiver-input tgg-focus-item",value:r.name,type:"text",tabIndex:1,maxLength:$y,placeholder:o("apps.contactsCreate.placeholder"),onChange:e=>{e.target.value.length<=20&&i((t=>({...t,name:e.target.value})))},style:{backgroundColor:1===c?"var(--tgg-highlight-color)":""}})]}),el.jsxs("div",{className:"tgg-msg-content-container",children:[el.jsxs("span",{children:[o("apps.contactsCreate.number"),":"]}),el.jsx("input",{className:"tgg-msg-content-input tgg-focus-item",value:r.number,tabIndex:2,type:"text",maxLength:Hy,placeholder:o("apps.contactsCreate.numberPlaceholder"),onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&e.target.value.length<=15&&i((t=>({...t,number:e.target.value})))},style:{backgroundColor:2===c?"var(--tgg-highlight-color)":""}})]})]})})})};var Yy=(e=>(e.MessageOptions="Message Options",e.PhoneOptions="Phone Options",e.SettingsOptions="Settings Options",e.PinModal="Pin Modal",e.OptionsList="Options List",e.WallpaperUrl="Wallpaper Url",e.SoundPreview="Sound Preview",e.ChooseImage="Choose Image",e))(Yy||{});function Jy(e,t="error"){Cp({action:"ui:notify",internal:!0,data:{message:e,type:t}})}const Ky=ey.div.attrs({className:"tgg-create-message-view"})`
	position: absolute;

	top: 0;

	z-index: 2;

	display: flex;
	flex-direction: column;
	gap: calc(0.3rem * ${e=>e.$resizeBy});
	color: var(--tgg-text-color-primary);

	width: 100%;
	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-create-message-container {
		padding: calc(0.15rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
	}

	.tgg-receiver-container,
	.tgg-msg-content-container {
		display: flex;
		flex-direction: column;
	}

	.tgg-receiver-header {
		display: flex;
		justify-content: space-between;
	}

	.tgg-numbers-type {
		display: flex;
		align-items: center;
		gap: 0.15rem;
	}

	.tgg-numbers-type span {
		font-size: smaller;
	}

	.tgg-receiver-input,
	.tgg-msg-content-input {
		background-color: transparent;
	}

	.tgg-keyboard-type-info {
		display: flex;
		gap: 0.5rem;
		align-items: center;
	}

	.tgg-receiver-input {
		width: 100%;
	}

	.tgg-create-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}
	.tgg-receiver-length {
		font-size: smaller;
	}
`,Zy={channelId:"8gsHwQB",messageId:17,targetSource:1,timestamp:1736373320298},Qy=()=>{var e,t,n;const{state:r}=Ch(),i=null==r?void 0:r.contact,o=(null==r?void 0:r.message)||"",a=cl.useRef((null==i?void 0:i.number)||""),s=cl.useRef(o),l=vu((e=>e.phoneIdentifiers)),c=vu((e=>e.signal)),u=vu((e=>e.optionsModal)),d=gu((e=>e.setOptionsModal)),{t:h}=Up();cl.useEffect((()=>{var e;(null==(e=null==u?void 0:u.data)?void 0:e.number)&&(a.current.value=u.data.number)}),[null==(e=null==u?void 0:u.data)?void 0:e.number]);const p=Lh(),{currentFocus:f,focusItem:m}=Wf({maxFocus:2,selector:".tgg-focus-item",backspaceHandler:()=>{(s.current&&0===s.current.value.length&&2===f||a.current&&0===a.current.value.length&&1===f)&&p(`${qp}/${Wp.Messages}`),a.current&&a.current.value.length>0&&1===f&&(a.current.value=a.current.value.slice(0,a.current.value.length),m(".tgg-receiver-input",f)),s.current&&s.current.value.length>0&&2===f&&(s.current.value=s.current.value.slice(0,s.current.value.length),m(".tgg-msg-content-input",f))},shiftHandler:()=>{y()},enterHandler:()=>{!async function(){try{if(0===s.current.value.length||!a.current.value)return;const e=await Gp("message:send",{participants:[a.current.value],message:s.current.value},Zy);if(!e)return;let t="";t="string"==typeof e?e:e.channelId,p(`${qp}/${Wp.Messages}/${nl.Chat}/${t}`,{state:{participants:[a.current.value],conversationData:{channelId:t,content:s.current.value,groupMembers:[a.current.value],isGroup:!1,isOwner:1,lastMessageTimestamp:Date.now()}}})}catch(e){Jy(h("apps.createMessage.sendMessageError"))}}()},disableLeftRight:!0}),g=gu((e=>e.setFooterActions)),v=vu((e=>e.resizeBy));cl.useEffect((()=>{i&&(a.current.value=i.number)}),[i]),cl.useEffect((()=>{s.current.value=o}),[o]),cl.useEffect((()=>{u.status||b()}),[u.status,f]);const y=cl.useCallback((()=>{l.number&&c.available&&d({status:!0,modal:Yy.MessageOptions,data:{message:s.current.value}})}),[d,s]),b=cl.useCallback((()=>{l.number&&c.available?2===f&&s.current&&s.current.value.length>0||1===f&&a.current&&a.current.value.length>0?g({left:Yf.Options,center:Yf.Send,right:Yf.Clear}):g({left:Yf.Options,center:Yf.Send,right:Yf.Back}):g({left:"",center:"",right:Yf.Back})}),[f,s,a,g]);cl.useEffect((()=>()=>{d({status:!1,modal:Yy.MessageOptions,data:{}})}),[]),yp("keyboard:opt",(async()=>{y()}));const x=cl.useCallback((()=>{const e=a.current.value,t=e.replace(/\D/g,"").slice(0,30);e!==t&&(a.current.value=t),b()}),[b]);return el.jsx(Ky,{$resizeBy:v,children:el.jsx(ly,{title:l.number?h("apps.createMessage.title"):h("general.noSim"),children:el.jsxs("div",{className:"tgg-create-message-container",children:[el.jsxs("div",{className:"tgg-receiver-container",children:[el.jsxs("div",{className:"tgg-receiver-header",children:[el.jsx("span",{className:"tgg-create-msg-title",children:h("apps.createMessage.to")}),el.jsxs("span",{className:"tgg-keyboard-type-info",children:[el.jsxs("span",{className:"tgg-numbers-type",children:[el.jsx(Dy,{size:14*v}),el.jsx("span",{children:h("apps.createMessage.abc")})]}),el.jsxs("span",{className:"tgg-receiver-length",children:[(null==(n=null==(t=null==a?void 0:a.current)?void 0:t.value)?void 0:n.length)||0,"/",30]})]})]}),el.jsx("input",{type:"text",className:"tgg-receiver-input tgg-focus-item",ref:a,placeholder:h("apps.createMessage.receiverPlaceholder"),tabIndex:1,maxLength:Uy,onChange:x,disabled:!l.number||!c.available,style:{backgroundColor:1===f?"var(--tgg-highlight-color)":"",resize:"none"}})]}),el.jsxs("div",{className:"tgg-msg-content-container",children:[el.jsx("span",{children:h("apps.createMessage.message")}),el.jsx("textarea",{ref:s,className:"tgg-msg-content-input tgg-focus-item",tabIndex:2,style:{backgroundColor:2===f?"var(--tgg-highlight-color)":"",resize:"none"},disabled:!l.number||!c.available,onChange:b,rows:4,placeholder:h("apps.createMessage.messagePlaceholder")})]})]})})})};var eb=(e=>(e.contactsBook="contactsBook",e.contacts="contacts",e.homeScreen="homeScreen",e.settingsLanding="settingsLanding",e))(eb||{});const tb=ey.div.attrs({className:"tgg-phone-app"})`
	position: absolute;
	top: 0;
	left: 0;

	display: flex;
	flex-direction: column;
	align-items: space-between;

	height: 100%;
	width: 100%;

	z-index: 9;

	color: var(--tgg-text-color-primary);
	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		scroll-snap-align: start;
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		height: unset; // override default height
		padding: 10px;

		.tgg-row-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`,nb={call:"Call",message:"Message",save:"Save",delete:"Delete",block:"Block"},rb=()=>{const e=gu((e=>e.setOptionsModal)),t=vu((e=>e.optionsModal.data)),n=vu((e=>e.contacts)),r=gu((e=>e.setContacts)),i=vu((e=>e.footerActions)),{t:o}=Up(),a=gu((e=>e.setFooterActions)),s=Lh(),l=cl.useMemo((()=>Object.entries(nb).filter((([e,n])=>{var r;return!(null==(r=null==t?void 0:t.disableOptions)?void 0:r.includes(n))})).map((([e,r])=>{var i;const a=null==(i=n.find((e=>e.number===t.number)))?void 0:i.isBlocked;return{title:o(r===nb.block?a?"modals.phoneOptions.unblock":"modals.phoneOptions.block":`modals.phoneOptions.${r.toLowerCase()}`),action:{[nb.call]:p,[nb.save]:m,[nb.delete]:g,[nb.message]:f,[nb.block]:v}[r]}}))),[]),c=cl.useCallback((()=>{e({status:!1,modal:Yy.PhoneOptions,data:{number:t.number,name:t.name}})}),[e,t]),u=vu((e=>e.resizeBy)),{currentFocus:d,focusItem:h}=Wf({maxFocus:l.length,selector:".tgg-row-section",isModal:!0,backspaceHandler:()=>{c()}});function p(){Cp({action:"ui:phone:call",internal:!0,data:{number:t.number,isCompany:!1,anonymous:!1}})}function f(){s(`${qp}/messages/create`,{state:{contact:t}}),c()}function m(){s(`${qp}/contacts/create`,{state:{name:t.name,number:t.number}}),c()}async function g(){var e;const i=null==(e=n.find((e=>e.number===t.number)))?void 0:e.id;if((await Gp("contacts:delete-by-id",i)).success){const e=n.filter((e=>e.id!==i));return r(e),c(),h(".tgg-row-section",1),void Jy(o("modals.phoneOptions.contactDeleted"),"success")}Jy(o("modals.phoneOptions.failedToDeleteContact"),"error")}async function v(){const e=n.find((e=>e.number===t.number));if(!e)return;if((await Gp("contacts:block-contact",{phoneNumber:e.number,isBlocked:!e.isBlocked})).success){const t=n.map((t=>t.id===e.id?{...t,isBlocked:!t.isBlocked}:t));return r(t),c(),h(".tgg-row-section",1),void Jy(e.isBlocked?o("modals.phoneOptions.contactUnblocked"):o("modals.phoneOptions.contactBlocked"),"success")}Jy(o("modals.phoneOptions.failedToBlockContact"),"error")}return cl.useEffect((()=>()=>{c()}),[]),cl.useEffect((()=>(a({left:"",center:Yf.Select,right:Yf.Back}),()=>{a(i)})),[]),yp("keyboard:enter",(()=>{l[d-1].action()}),{isModal:!0}),yp("keyboard:green",(()=>{p()}),{isModal:!0}),el.jsx(tb,{$resizeBy:u,children:el.jsx(ly,{title:o("modals.phoneOptions.title"),children:l.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,style:{backgroundColor:d===t+1?"var(--tgg-highlight-color)":"transparent"},onClick:e.action,children:el.jsx("div",{className:"tgg-row-title",children:e.title})},e.title)))})})},ib=ey.div.attrs({className:"tgg-book-contact"})`
	&-container {
		z-index: '999';
		font-size: '50px';
		position: 'relative';
	}

	&-item {
		border: '1px solid black';
		padding: '10px';
		display: 'flex';
		justify-content: 'space-between';

		&:focus {
			background-color: 'var(--tgg-highlight-color)';
		}
	}

	.tgg-book-contact-empty {
		text-align: center;
	}
`,ob=()=>{const e=Lh(),{t:t}=Up(),n=vu((e=>e.contacts)),r=vu((e=>e.phoneIdentifiers)),i=vu((e=>e.signal)),o=gu((e=>e.setFooterActions)),a=gu((e=>e.setOptionsModal));const{currentFocus:s,resetIndexPosition:l}=Wf({maxFocus:n.length,selector:".tgg-book-contact-item",backspaceHandler:()=>{e(`${qp}/contacts/`),l()},shiftHandler:()=>{e(`${qp}/contacts/edit/${n[s-1].id}?goBackTo=${Em.Book}`)},enterHandler:function(){if(0===n.length)return;const e=n[s-1];a({status:!0,modal:Yy.PhoneOptions,data:{number:e.number,name:e.name,disableOptions:[nb.save]}})},position:eb.contactsBook});return cl.useEffect((()=>{0!==n.length?o({left:Yf.Edit,center:Yf.Options,right:Yf.Back}):o({left:"",center:"",right:Yf.Back})}),[n]),yp("keyboard:green",(()=>{Cp({action:"ui:phone:call",internal:!0,data:{number:n[s-1].number}})})),el.jsx(ib,{children:el.jsx(ly,{title:t("apps.contactsBook.title"),children:el.jsxs(el.Fragment,{children:[(!r.number||!i.available)&&el.jsx("div",{className:"tgg-book-contact-empty",children:el.jsx("h1",{children:t("general.noSim")})}),r.number&&n.length>0&&n.map(((e,t)=>el.jsxs("div",{style:{backgroundColor:t+1===s?"var(--tgg-highlight-color)":"",display:"flex",justifyContent:"space-between",padding:"6px"},className:"tgg-book-contact-item tgg-row-section",tabIndex:t+1,children:[el.jsxs("div",{children:[el.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",justifyContent:"center"},children:[e.name," ",e.isBlocked&&el.jsx(um,{size:18})]}),el.jsx("div",{children:e.number})]}),el.jsx("div",{style:{display:"flex",alignItems:"center",padding:"10px"},children:el.jsx(wm,{})})]},e.number+t))),r.number&&0===n.length&&el.jsx("div",{className:"tgg-book-contact-empty",children:el.jsx("h1",{children:t("apps.contactsBook.noContacts")})}),r.number&&n.length>0&&el.jsx("div",{className:"tgg-book-contact-empty",children:el.jsx("h1",{children:t("apps.contactsBook.endOfContacts")})})]})})})},ab=ey.div.attrs({className:"tgg-contact-edit"})`
	&-container {
		z-index: '999';
		font-size: '50px';
		position: 'relative';
	}

	&-item {
		border: '1px solid black';
		padding: '10px';
		display: 'flex';
		justify-content: 'space-between';
	}

	.tgg-app-layout {
		z-index: 3;
	}

	.tgg-create-message-container {
		padding: 0.15rem 0.5rem;
	}

	.tgg-receiver-container,
	.tgg-msg-content-container {
		display: flex;
		flex-direction: column;
	}

	.tgg-receiver-header {
		display: flex;
		justify-content: space-between;
	}

	.tgg-numbers-type {
		display: flex;
		align-items: center;
		gap: 0.15rem;
	}

	.tgg-numbers-type span {
		font-size: smaller;
	}

	.tgg-receiver-input,
	.tgg-msg-content-input {
		background-color: transparent;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-keyboard-type-info {
		display: flex;
		align-items: center;
		gap: 0.6rem;
	}

	.tgg-create-msg-title {
		font-size: 1rem;
	}

	.tgg-receiver-length {
		font-size: 0.9rem;
	}
`,sb=()=>{const e=Lh(),{id:t}=Oh(),{t:n}=Up(),[r]=sp(),i=r.get("goBackTo"),[o,a]=cl.useState(null),s=cl.useRef(o),l=vu((e=>e.footerActions)),c=vu((e=>e.contacts)),u=gu((e=>e.setContacts)),d=gu((e=>e.setFooterActions)),{currentFocus:h}=Wf({maxFocus:2,selector:".tgg-input-field",defaultFocus:1,disableLeftRight:!0,enterHandler:()=>{try{f()}catch(e){console.log(e)}},backspaceHandler(){},shiftHandler:()=>{p()}}),p=cl.useCallback((()=>{e(-1)}),[e]);cl.useEffect((()=>{s.current=o}),[o]),cl.useEffect((()=>{d({...l,left:Yf.Cancel,center:Yf.Save,right:Yf.Clear}),Gp("contacts:get-by-id",t,{contact:{contactId:1,name:"John Doe",number:"5551234567"},success:!0}).then((e=>{e.success&&a(e.contact)}))}),[t]);const f=()=>{Gp("contacts:update-by-id",{...s.current,contactId:t},{success:!0}).then((n=>{var r,o;if(n.success){e(`${qp}/contacts/${i??""}`);const n=c.find((e=>e.id===Number(t)));n&&s.current&&(n.name=null==(r=s.current)?void 0:r.name,n.number=null==(o=s.current)?void 0:o.number,u([...c]))}}))};return yp("keyboard:enter",(()=>{f()})),yp("keyboard:opt",(()=>{p()})),el.jsx(ab,{children:el.jsx(ly,{title:n("apps.contactsEdit.title"),children:el.jsxs("form",{className:"tgg-create-message-container",children:[el.jsxs("div",{className:"tgg-receiver-container",children:[el.jsxs("div",{className:"tgg-receiver-header",children:[el.jsxs("span",{className:"tgg-create-msg-title",children:[n("apps.contactsEdit.name"),":"]}),el.jsxs("span",{className:"tgg-keyboard-type-info",children:[el.jsxs("span",{className:"tgg-numbers-type",children:[el.jsx(Dy,{size:14}),el.jsx("span",{children:n("apps.contactsEdit.abc")})]}),el.jsxs("span",{className:"tgg-receiver-length",children:[o?o.name.length:0,"/20"]})]})]}),el.jsx("input",{className:"tgg-receiver-input tgg-input-field",value:null==o?void 0:o.name,type:"text",placeholder:n("apps.contactsEdit.namePlaceholder"),tabIndex:1,maxLength:$y,onChange:e=>{e.target.value.length<=20&&a((t=>t?{...t,name:e.target.value}:t))},style:{backgroundColor:1===h?"var(--tgg-highlight-color)":""},onFocus:e=>{e.target.select()}})]}),el.jsxs("div",{className:"tgg-msg-content-container",children:[el.jsxs("span",{children:[n("apps.contactsEdit.number"),":"]}),el.jsx("input",{className:"tgg-msg-content-input tgg-input-field",value:null==o?void 0:o.number,tabIndex:2,maxLength:Hy,type:"text",placeholder:n("apps.contactsEdit.numberPlaceholder"),onChange:e=>{(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&e.target.value.length<=15&&a((t=>t?{...t,number:e.target.value}:t))},style:{backgroundColor:2===h?"var(--tgg-highlight-color)":""},onFocus:e=>{e.target.select()}})]})]})})})};var lb=(e=>(e.Missed="missed",e.Incoming="incoming",e.Outgoing="outgoing",e.Canceled="canceled",e.Declined="declined",e))(lb||{}),cb=function(e,t){return cb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},cb(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ub=function(){return ub=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ub.apply(this,arguments)};var db="Pixel",hb="Percent",pb={unit:hb,value:.8};function fb(e){return"number"==typeof e?{unit:hb,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:db,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:hb,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),pb):(console.warn("scrollThreshold should be string or number"),pb)}var mb=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"==typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"==typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function l(){var l=this,c=Date.now()-a,u=arguments;function d(){a=Date.now(),n.apply(l,u)}o||(r&&!i&&d(),s(),void 0===r&&c>e?d():!0!==t&&(i=setTimeout(r?function(){i=void 0}:d,void 0===r?e-c:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),l.cancel=function(){s(),o=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}cb(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if(void 0===this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?ub(ub({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=fb(t);return r.unit===db?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=fb(t);return r.unit===db?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=ub({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return ul.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},ul.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&ul.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},ul.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(cl.Component);const gb=ey.div.attrs({className:"tgg-phone-app"})`
	position: relative;

	display: flex;
	flex-direction: column;
	align-items: space-between;

	height: 100%;

	color: var(--tgg-text-color-primary);

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-recent-info {
			display: flex;
			flex-direction: column;
			justify-content: center;
			width: 100%;
		}

		.tgg-row-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
			width: 100%;
			display: flex;
			justify-content: space-between;
		}

		.tgg-row-sub-title {
			font-size: calc(0.75rem * ${e=>e.$resizeBy});
			width: 100%;
			display: flex;
			justify-content: flex-end;
			opacity: 0.75;
		}

		.tgg-row-no-calls {
			width: 100%;
			text-align: center;
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`;function vb(e){return e.includes(":unknown")}const yb=({callType:e,title:t})=>{const n=Lh(),{t:r}=Up(),[i,o]=cl.useState(0),[a,s]=cl.useState(0),[l,c]=cl.useState([]),u=vu((e=>e.phoneIdentifiers)),d=vu((e=>e.resizeBy)),h=vu((e=>e.contacts)),p=gu((e=>e.setOptionsModal)),f=gu((e=>e.setFooterActions));cl.useEffect((()=>{m()}),[i]);const m=t=>{Gp("phone:recent-calls:get",{offset:25*i,callType:e},{recents:[],totalRecents:0}).then((e=>{e&&(e.totalRecents&&s(e.totalRecents),e.totalRecents&&e.recents.length>0&&c([...l,...e.recents]))}))},{currentFocus:g}=Wf({maxFocus:l.length,selector:".tgg-row-section",backspaceHandler:()=>{n(`${qp}/${Wp.Phone}`)},shiftHandler:()=>v(),enterHandler:()=>{vb(l[g-1].targetNumber)||y()}});cl.useEffect((()=>{const e=l[g-1];if(e&&vb(e.targetNumber))return void f({left:"",center:"",right:Yf.Back});const t={left:"",center:Yf.Call,right:Yf.Back};l.length>0&&(t.left=Yf.Options),f(t)}),[g,l]),cl.useEffect((()=>()=>{p({status:!1,modal:Yy.PhoneOptions,data:{number:"",name:""}})}),[]);const v=cl.useCallback((()=>{const e=[nb.delete],t=l[g-1];vb(t.targetNumber)||(h.find((e=>e.number===t.targetNumber))&&e.push(nb.save),x(t.targetNumber)||e.push(nb.block),p({status:!0,modal:Yy.PhoneOptions,data:{number:t.targetNumber,name:b(t.targetNumber),disableOptions:e}}))}),[l,g,h]);function y(){const e=l[g-1];Cp({action:"ui:phone:call",internal:!0,data:{number:e.targetNumber,name:b(e.targetNumber)}})}yp("keyboard:opt",(()=>{v()})),yp("keyboard:green",(()=>{y()}));const b=e=>{if(e.includes(":unknown"))return r("call.anonymous");const t=h.find((t=>t.number===e));return t?t.name:e},x=e=>h.find((t=>t.number===e));return el.jsx(gb,{$resizeBy:d,children:el.jsx(ly,{title:t,children:u.number?el.jsx(mb,{dataLength:null==l?void 0:l.length,next:()=>o((e=>e+1)),hasMore:a>(null==l?void 0:l.length),loader:el.jsx("div",{children:r("apps.phone.loading")}),scrollableTarget:"tgg-container-scrollable",children:cl.useMemo((()=>l&&l.length>0?null==l?void 0:l.map(((e,t)=>{return el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,style:{backgroundColor:g===t+1?"var(--tgg-highlight-color)":"transparent",display:"flex",justifyContent:"space-between"},children:el.jsxs("div",{className:"tgg-recent-info",children:[el.jsx("div",{className:"tgg-row-title",children:b(e.targetNumber)}),el.jsx("div",{className:"tgg-row-sub-title",children:(n=e.date,dp.unix(n/1e3).format("ddd h:mm A"))})]})},e.id);var n})):el.jsx("div",{className:"tgg-row-section",children:el.jsx("div",{className:"tgg-row-no-calls",children:r("apps.phone.noCalls")})})),[l,g])}):el.jsx("div",{className:"tgg-row-section",children:el.jsx("div",{className:"tgg-row-no-calls",children:r("general.noSim")})})})})},bb=()=>{const{t:e}=Up();return el.jsx(yb,{callType:lb.Incoming,title:e("apps.phone.receivedCalls")})};var xb=(e=>(e.HomeScreen="homeScreen",e.PhoneAppLanding="phoneAppLanding",e.PhoneCallsCurrent="phoneCallsCurrent",e.ContactsLanding="contactsLanding",e.MessagesLanding="messagesLanding",e.SettingsLanding="settingsLanding",e))(xb||{});const wb=ey.div.attrs({className:"tgg-contacts-app"})`
	position: relative;

	color: var(--tgg-text-color-primary);

	height: 100%;
	width: 100%;

	.contacts-row-section {
		display: flex;

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-log-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`,_b=()=>{const e=vu((e=>e.focusableZones)),t=vu((e=>e.footerActions)),n=vu((e=>e.currentZone)),r=vu((e=>e.resizeBy)),i=gu((e=>e.setCurrentZone)),o=gu((e=>e.setFocusableZones)),a=gu((e=>e.setFooterActions));return cl.useEffect((()=>{i(xb.ContactsLanding)}),[]),cl.useEffect((()=>()=>{a({...t,left:"",center:Yf.Select,right:""}),o({...e,[xb.ContactsLanding]:-1}),i(xb.HomeScreen)}),[n,e[xb.ContactsLanding]]),el.jsx(wb,{$resizeBy:r,children:el.jsx($h,{})})},Sb=ey.div.attrs({className:"tgg-messages-app"})`
	position: relative;

	color: var(--tgg-text-color-primary);

	height: 100%;
	width: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-msg-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`,Eb=()=>{const e=vu((e=>e.resizeBy));return el.jsx(Sb,{$resizeBy:e,children:el.jsx($h,{})})},kb=ey.div.attrs({className:"tgg-calculator"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	display: flex;
	flex-direction: column;
	justify-content: space-between;

	.tgg-calc-content {
		display: flex;
		flex-direction: column;
		gap: calc(1rem * ${e=>e.$resizeBy});
		height: 100%;

		.tgg-calc-equation-container {
			background-color: var(--tgg-highlight-color);
			padding: 8px;
			height: 100%;
			display: flex;
			justify-content: flex-end;
			align-items: flex-end;
		}

		.tgg-calc-operators {
			display: flex;
			justify-content: center;

			.tgg-calc-operators-circle-container {
				display: flex;
				flex-direction: column;
				justify-content: space-around;
				width: calc(6rem * ${e=>e.$resizeBy});
				height: calc(6rem * ${e=>e.$resizeBy});
				background-color: #596373;
				border-radius: 50%;
				color: var(--tgg-text-color-primary);

				.tgg-calc-operators-circle-first-row {
					display: flex;
					justify-content: center;
				}

				.tgg-calc-operators-circle-second-row {
					display: flex;
					justify-content: space-between;
					padding: 0 calc(0.3rem * ${e=>e.$resizeBy});
				}

				.tgg-calc-operators-circle-third-row {
					display: flex;
					justify-content: center;
				}
			}
		}
	}
`,Mb=()=>{const e=vu((e=>e.resizeBy)),[t,n]=cl.useState(""),r=cl.useRef(""),i=Lh(),[o,a]=cl.useState(0),[s,l]=cl.useState(0),{t:c}=Up(),u=c("apps.calculator.error"),d=c("apps.calculator.infinity"),h=gu((e=>e.setFooterActions));cl.useEffect((()=>{r.current=t}),[t]),Wf({maxFocus:1,selector:".tgg-calc-operators",enterHandler:()=>{f()},backspaceHandler:()=>{r.current===u||r.current===d?n(""):r.current.length>0?n((e=>e.slice(0,-1))):i(`${qp}`)},shiftHandler:()=>{i(`${Xp}`)}}),cl.useEffect((()=>{h({left:Yf.Cancel,center:Yf.Calculate,right:Yf.Clear})}),[]);const p=cl.useCallback((e=>{n((t=>{if(0===t.length)return t;if(t===u||t===d)return"";const n=t[t.length-1];return["+","-","×","/"].includes(n)?"*"===e?t.slice(0,-1)+"×":t.slice(0,-1)+e:t+e}))}),[t]),f=cl.useCallback((()=>{try{if(0===r.current.length)return;if(r.current===u||r.current===d)return void n("");const e=r.current.replace(/×/g,"*").replace(/[^0-9+\-*/().]/g,""),t=Function('"use strict"; return ('+e+")")();n(t.toFixed(2).replace(/[.,]00$/,"").toString()),r.current=t.toFixed(2).replace(/[.,]00$/,"").toString()}catch(e){n(u),r.current=u}}),[r]);cl.useEffect((()=>{function e(e){if(r.current===u||r.current===d)return void n("");if(r.current.length>20)return;/^[0-9]$/.test(e.key)&&n((t=>`${t}${e.key}`));const t={"*":"×","/":"/","-":"-","+":"+"};t[e.key]&&p(t[e.key])}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]),yp("keyboard:up",(()=>{p("+")})),yp("keyboard:down",(()=>{p("-")})),yp("keyboard:left",(()=>{p("×")})),yp("keyboard:right",(()=>{p("/")})),yp("keyboard:enter",(()=>{f()})),yp("keyboard:opt",(()=>{i(`${Xp}`)})),yp("keyboard:*",(()=>{p("×")})),cl.useEffect((()=>{const e=e=>{switch(e.key){case"ArrowUp":p("+");break;case"ArrowDown":p("-");break;case"ArrowLeft":p("×");break;case"ArrowRight":p("/");break;case"Enter":f()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);for(let m=0;m<=9;m++)yp(`keyboard:${m}`,(()=>{n((e=>`${e}${m}`))}));return el.jsxs(kb,{$resizeBy:e,$headerHeight:o,$footerHeight:s,children:[el.jsx(ay,{title:c("apps.calculator.title"),_setHeight:a}),el.jsxs("div",{className:"tgg-calc-content",children:[el.jsx("div",{className:"tgg-calc-equation-container",children:el.jsx("span",{className:"tgg-calc-equation",children:t})}),el.jsx("div",{className:"tgg-calc-operators",children:el.jsxs("div",{className:"tgg-calc-operators-circle-container",tabIndex:1,children:[el.jsx("div",{className:"tgg-calc-operators-circle-first-row",children:el.jsx(ky,{size:22*e,onClick:()=>p("+")})}),el.jsxs("div",{className:"tgg-calc-operators-circle-second-row",children:[el.jsx(Ty,{size:22*e,onClick:()=>p("×")}),el.jsx(xy,{size:22*e,onClick:()=>p("/")})]}),el.jsx("div",{className:"tgg-calc-operators-circle-third-row",children:el.jsx(Sy,{size:22*e,onClick:()=>p("-")})})]})})]}),el.jsx(iy,{_setHeight:l})]})};function Cb(e){return om({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.27 2.047a1 1 0 0 1 1.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H11.5v3a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-3H1.654C.78 10.5.326 9.455.924 8.816z"},child:[]}]})(e)}function Tb(e){return om({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"},child:[]}]})(e)}function Lb(e){return om({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877zM15.854.146a.5.5 0 0 1 0 .708L11.707 5H14.5a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0v2.793L15.146.146a.5.5 0 0 1 .708 0"},child:[]}]})(e)}function Ab(e){return om({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(e)}function Ob(e){return om({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877zM11 .5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-4.146 4.147a.5.5 0 0 1-.708-.708L14.293 1H11.5a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}function Pb(e){return om({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877zm9.261 1.135a.5.5 0 0 1 .708 0L13 2.793l1.146-1.147a.5.5 0 0 1 .708.708L13.707 3.5l1.147 1.146a.5.5 0 0 1-.708.708L13 4.207l-1.146 1.147a.5.5 0 0 1-.708-.708L12.293 3.5l-1.147-1.146a.5.5 0 0 1 0-.708"},child:[]}]})(e)}function Rb(e){return om({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 17V7H8V17H6Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M16 7V17H18V7H16Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2 3H22V21H2V3ZM4 5V19H20V5H4Z",fill:"currentColor"},child:[]}]})(e)}const Ib=cl.createContext({});var Nb,jb,zb={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/const Db=Bs((Nb||(Nb=1,jb=zb,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,n(i)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var o in n)e.call(n,o)&&n[o]&&(i=r(i,o));return i}function r(e,t){return t?e?e+" "+t:e+t:e}jb.exports?(t.default=t,jb.exports=t):window.classNames=t}()),zb.exports)),Bb={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},Fb=Math.round;function $b(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map((e=>parseFloat(e)));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Hb=(e,t,n)=>0===n?e:e/100;function Ub(e,t){const n=t||255;return e>n?n:e<0?0:e}let Vb=class e{constructor(t){function r(e){return e[0]in t&&e[1]in t&&e[2]in t}if(n(this,"isValid",!0),n(this,"r",0),n(this,"g",0),n(this,"b",0),n(this,"a",1),n(this,"_h"),n(this,"_s"),n(this,"_l"),n(this,"_v"),n(this,"_max"),n(this,"_min"),n(this,"_brightness"),t)if("string"==typeof t){let e=function(e){return n.startsWith(e)};const n=t.trim();if(/^#?[A-F\d]{3,8}$/i.test(n))this.fromHexString(n);else if(e("rgb"))this.fromRgbString(n);else if(e("hsl"))this.fromHslString(n);else if(e("hsv")||e("hsb"))this.fromHsvString(n);else{const e=Bb[n.toLowerCase()];e&&this.fromHexString(parseInt(e,36).toString(16).padStart(6,"0"))}}else if(t instanceof e)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(r("rgb"))this.r=Ub(t.r),this.g=Ub(t.g),this.b=Ub(t.b),this.a="number"==typeof t.a?Ub(t.a,1):1;else if(r("hsl"))this.fromHsl(t);else{if(!r("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t));this.fromHsv(t)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if(void 0===this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Fb(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(void 0===this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return void 0===this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return void 0===this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return void 0===this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e,t=50){const n=this._c(e),r=t/100,i=e=>(n[e]-this[e])*r+this[e],o={r:Fb(i("r")),g:Fb(i("g")),b:Fb(i("b")),a:Fb(100*i("a"))/100};return this._c(o)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>Fb((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"==typeof this.a&&this.a>=0&&this.a<1){const t=Fb(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Fb(100*this.getSaturation()),n=Fb(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=Ub(t,n),r}_c(e){return new this.constructor(e)}getMax(){return void 0===this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return void 0===this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl({h:e,s:t,l:n,a:r}){if(this._h=e%360,this._s=t,this._l=n,this.a="number"==typeof r?r:1,t<=0){const e=Fb(255*n);this.r=e,this.g=e,this.b=e}let i=0,o=0,a=0;const s=e/60,l=(1-Math.abs(2*n-1))*t,c=l*(1-Math.abs(s%2-1));s>=0&&s<1?(i=l,o=c):s>=1&&s<2?(i=c,o=l):s>=2&&s<3?(o=l,a=c):s>=3&&s<4?(o=c,a=l):s>=4&&s<5?(i=c,a=l):s>=5&&s<6&&(i=l,a=c);const u=n-l/2;this.r=Fb(255*(i+u)),this.g=Fb(255*(o+u)),this.b=Fb(255*(a+u))}fromHsv({h:e,s:t,v:n,a:r}){this._h=e%360,this._s=t,this._v=n,this.a="number"==typeof r?r:1;const i=Fb(255*n);if(this.r=i,this.g=i,this.b=i,t<=0)return;const o=e/60,a=Math.floor(o),s=o-a,l=Fb(n*(1-t)*255),c=Fb(n*(1-t*s)*255),u=Fb(n*(1-t*(1-s))*255);switch(a){case 0:this.g=u,this.b=l;break;case 1:this.r=c,this.b=l;break;case 2:this.r=l,this.b=u;break;case 3:this.r=l,this.g=c;break;case 4:this.r=u,this.g=l;break;default:this.g=l,this.b=c}}fromHsvString(e){const t=$b(e,Hb);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=$b(e,Hb);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=$b(e,((e,t)=>t.includes("%")?Fb(e/100*255):e));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}};const Gb=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Wb(e,t,n){let r;return r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t,r<0?r+=360:r>=360&&(r-=360),r}function qb(e,t,n){if(0===e.h&&0===e.s)return e.s;let r;return r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t,r>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100}function Xb(e,t,n){let r;return r=n?e.v+.05*t:e.v-.15*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}const Yb=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Yb.primary=Yb[5];const Jb="data-rc-order",Kb="data-rc-priority",Zb=new Map;function Qb({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:"rc-util-key"}function ex(e){if(e.attachTo)return e.attachTo;return document.querySelector("head")||document.body}function tx(e){return Array.from((Zb.get(e)||e).children).filter((e=>"STYLE"===e.tagName))}function nx(e,t={}){if("undefined"==typeof window||!window.document||!window.document.createElement)return null;const{csp:n,prepend:r,priority:i=0}=t,o=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),a="prependQueue"===o,s=document.createElement("style");s.setAttribute(Jb,o),a&&i&&s.setAttribute(Kb,`${i}`),(null==n?void 0:n.nonce)&&(s.nonce=null==n?void 0:n.nonce),s.innerHTML=e;const l=ex(t),{firstChild:c}=l;if(r){if(a){const e=(t.styles||tx(l)).filter((e=>{if(!["prepend","prependQueue"].includes(e.getAttribute(Jb)))return!1;const t=Number(e.getAttribute(Kb)||0);return i>=t}));if(e.length)return l.insertBefore(s,e[e.length-1].nextSibling),s}l.insertBefore(s,c)}else l.appendChild(s);return s}function rx(e,t,n={}){var r,i,o;const a=ex(n),s=tx(a),l={...n,styles:s};!function(e,t){const n=Zb.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){const n=nx("",t),{parentNode:r}=n;Zb.set(e,r),e.removeChild(n)}}(a,l);const c=function(e,t={}){let{styles:n}=t;return n||(n=tx(ex(t))),n.find((n=>n.getAttribute(Qb(t))===e))}(t,l);if(c)return(null==(r=l.csp)?void 0:r.nonce)&&c.nonce!==(null==(i=l.csp)?void 0:i.nonce)&&(c.nonce=null==(o=l.csp)?void 0:o.nonce),c.innerHTML!==e&&(c.innerHTML=e),c;const u=nx(e,l);return u.setAttribute(Qb(l),t),u}function ix(e){var t;return null==(t=null==e?void 0:e.getRootNode)?void 0:t.call(e)}function ox(e){return function(e){return ix(e)instanceof ShadowRoot}(e)?ix(e):null}let ax={};function sx(e,t){}function lx(e,t){}function cx(e,t,n){t||ax[n]||(e(!1,n),ax[n]=!0)}function ux(e,t){cx(sx,e,t)}function dx(e){return"object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"==typeof e.icon||"function"==typeof e.icon)}function hx(e={}){return Object.keys(e).reduce(((t,n)=>{const r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[(i=n,i.replace(/-(.)/g,((e,t)=>t.toUpperCase())))]=r;var i;return t}),{})}function px(e,t,n){return n?ul.createElement(e.tag,{key:t,...hx(e.attrs),...n},(e.children||[]).map(((n,r)=>px(n,`${t}-${e.tag}-${r}`)))):ul.createElement(e.tag,{key:t,...hx(e.attrs)},(e.children||[]).map(((n,r)=>px(n,`${t}-${e.tag}-${r}`))))}function fx(e){return function(e,t={}){const n=[],r=new Vb(e),i=r.toHsv();for(let o=5;o>0;o-=1){const e=new Vb({h:Wb(i,o,!0),s:qb(i,o,!0),v:Xb(i,o,!0)});n.push(e)}n.push(r);for(let o=1;o<=4;o+=1){const e=new Vb({h:Wb(i,o),s:qb(i,o),v:Xb(i,o)});n.push(e)}return"dark"===t.theme?Gb.map((({index:e,amount:r})=>new Vb(t.backgroundColor||"#141414").mix(n[e],r).toHexString())):n.map((e=>e.toHexString()))}(e)[0]}function mx(e){return e?Array.isArray(e)?e:[e]:[]}ux.preMessage=e=>{},ux.resetWarned=function(){ax={}},ux.noteOnce=function(e,t){cx(lx,e,t)};const gx={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};const vx=e=>{const{icon:t,className:n,onClick:r,style:i,primaryColor:o,secondaryColor:a,...s}=e,l=cl.useRef();let c=gx;if(o&&(c={primaryColor:o,secondaryColor:a||fx(o)}),(e=>{const{csp:t,prefixCls:n,layer:r}=cl.useContext(Ib);let i="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";n&&(i=i.replace(/anticon/g,n)),r&&(i=`@layer ${r} {\n${i}\n}`),cl.useEffect((()=>{const n=ox(e.current);rx(i,"@ant-design-icons",{prepend:!r,csp:t,attachTo:n})}),[])})(l),ux(dx(t),`[@ant-design/icons] ${`icon should be icon definiton, but got ${t}`}`),!dx(t))return null;let u=t;return u&&"function"==typeof u.icon&&(u={...u,icon:u.icon(c.primaryColor,c.secondaryColor)}),px(u.icon,`svg-${u.name}`,{className:n,onClick:r,style:i,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",...s,ref:l})};function yx(e){const[t,n]=mx(e);return vx.setTwoToneColors({primaryColor:t,secondaryColor:n})}function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bx.apply(this,arguments)}vx.displayName="IconReact",vx.getTwoToneColors=function(){return{...gx}},vx.setTwoToneColors=function({primaryColor:e,secondaryColor:t}){gx.primaryColor=e,gx.secondaryColor=t||fx(e),gx.calculated=!!t},yx(Yb.primary);const xx=cl.forwardRef(((e,t)=>{const{className:n,icon:r,spin:i,rotate:o,tabIndex:a,onClick:s,twoToneColor:l,...c}=e,{prefixCls:u="anticon",rootClassName:d}=cl.useContext(Ib),h=Db(d,u,{[`${u}-${r.name}`]:!!r.name,[`${u}-spin`]:!!i||"loading"===r.name},n);let p=a;void 0===p&&s&&(p=-1);const f=o?{msTransform:`rotate(${o}deg)`,transform:`rotate(${o}deg)`}:void 0,[m,g]=mx(l);return cl.createElement("span",bx({role:"img","aria-label":r.name},c,{ref:t,tabIndex:p,onClick:s,className:h}),cl.createElement(vx,{icon:r,primaryColor:m,secondaryColor:g,style:f}))}));xx.displayName="AntdIcon",xx.getTwoToneColor=function(){const e=vx.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},xx.setTwoToneColor=yx;var wx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.8-240-277.2V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.8C336.3 170.2 232 286.9 232 428v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48z"}}]},name:"bell",theme:"filled"};function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_x.apply(this,arguments)}const Sx=(e,t)=>cl.createElement(xx,_x({},e,{ref:t,icon:wx})),Ex=cl.forwardRef(Sx);var kx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},Mx={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Cx={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Tx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(this,arguments)}const Ax=(e,t)=>cl.createElement(xx,Lx({},e,{ref:t,icon:Tx})),Ox=cl.forwardRef(Ax);var Px={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"};function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(this,arguments)}const Ix=(e,t)=>cl.createElement(xx,Rx({},e,{ref:t,icon:Px})),Nx=cl.forwardRef(Ix);var jx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},zx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M644.7 669.2a7.92 7.92 0 00-6.5-3.3H594c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.8-5.3 0-12.7-6.5-12.7h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-22.9-31.9zM688 306v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 458H208V148h560v296c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h312c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm402.6-320.8l-192-66.7c-.9-.3-1.7-.4-2.6-.4s-1.8.1-2.6.4l-192 66.7a7.96 7.96 0 00-5.4 7.5v251.1c0 2.5 1.1 4.8 3.1 6.3l192 150.2c1.4 1.1 3.2 1.7 4.9 1.7s3.5-.6 4.9-1.7l192-150.2c1.9-1.5 3.1-3.8 3.1-6.3V538.7c0-3.4-2.2-6.4-5.4-7.5zM826 763.7L688 871.6 550 763.7V577l138-48 138 48v186.7z"}}]},name:"file-protect",theme:"outlined"};function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(this,arguments)}const Bx=(e,t)=>cl.createElement(xx,Dx({},e,{ref:t,icon:zx})),Fx=cl.forwardRef(Bx);var $x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Hx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(this,arguments)}const Vx=(e,t)=>cl.createElement(xx,Ux({},e,{ref:t,icon:Hx})),Gx=cl.forwardRef(Vx);var Wx,qx,Xx={exports:{}},Yx={};var Jx=(qx||(qx=1,Xx.exports=function(){if(Wx)return Yx;Wx=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case r:case o:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case s:case c:case p:case h:case a:return e;default:return f}}case n:return f}}}return e=Symbol.for("react.module.reference"),Yx.ContextConsumer=s,Yx.ContextProvider=a,Yx.Element=t,Yx.ForwardRef=c,Yx.Fragment=r,Yx.Lazy=p,Yx.Memo=h,Yx.Portal=n,Yx.Profiler=o,Yx.StrictMode=i,Yx.Suspense=u,Yx.SuspenseList=d,Yx.isAsyncMode=function(){return!1},Yx.isConcurrentMode=function(){return!1},Yx.isContextConsumer=function(e){return m(e)===s},Yx.isContextProvider=function(e){return m(e)===a},Yx.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Yx.isForwardRef=function(e){return m(e)===c},Yx.isFragment=function(e){return m(e)===r},Yx.isLazy=function(e){return m(e)===p},Yx.isMemo=function(e){return m(e)===h},Yx.isPortal=function(e){return m(e)===n},Yx.isProfiler=function(e){return m(e)===o},Yx.isStrictMode=function(e){return m(e)===i},Yx.isSuspense=function(e){return m(e)===u},Yx.isSuspenseList=function(e){return m(e)===d},Yx.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===o||t===i||t===u||t===d||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===h||t.$$typeof===a||t.$$typeof===s||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},Yx.typeOf=m,Yx}()),Xx.exports);const Kx=(e,t="•")=>t.repeat(String(e).length),Zx=ey.div.attrs({className:"tgg-settings-app"})`
	display: flex;
	flex-direction: column;
	width: 100%;

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}

	.tgg-copy-number-text {
		display: flex;
		flex-direction: column;
		align-items: flex-end;
		padding-right: calc(0.5rem * ${e=>e.$resizeBy});
		opacity: 0.75;
		text-align: right;
		white-space: nowrap;
		text-overflow: ellipsis;
		overflow: hidden;
	}

	.tgg-copy-number-text-icon {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
	}
`;function Qx({icon:e,title:t,bottomText:n}){const r=vu((e=>e.resizeBy));return el.jsxs(Zx,{$resizeBy:r,children:[el.jsxs("div",{className:"tgg-copy-number-text-icon",children:[e,el.jsx("span",{className:"tgg-msg-title",children:t})]}),el.jsx("div",{className:"tgg-copy-number-text",children:"string"==typeof n?el.jsx("span",{children:n}):n})]})}function ew(e){Cp({action:"ui:copy-to-clipboard",internal:!0,data:e})}const tw=ey.div.attrs({className:"tgg-settings-app"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}
`,nw=()=>{const e=Lh(),{t:t}=Up(),n=vu((e=>e.resizeBy)),r=vu((e=>e.phoneIdentifiers)),i=vu((e=>e.signal)),o=vu((e=>e.settings)),a=gu((e=>e.setFooterActions));cl.useEffect((()=>{a({left:"",center:Yf.Select,right:Yf.Exit})}),[]);const s=[{icon:null,title:t("apps.settings.copy"),onClick:()=>{r.number&&i.available?ew({text:r.number,successMessage:t("apps.settings.numberCopiedToClipboard")}):Jy(t("general.noSim"))},children:el.jsx(Qx,{icon:el.jsx(Ox,{size:18*n}),title:t("apps.settings.copy"),bottomText:r.number?o.streamerMode?Kx(r.number):r.number:t("general.noSim")})},{icon:el.jsx(fm,{size:18*n}),title:t("apps.settings.phone"),onClick:()=>c("phone")},{icon:el.jsx(Tb,{size:18*n}),title:t("apps.settings.sound"),onClick:()=>c("sound")},{icon:el.jsx(Rb,{size:18*n}),title:t("apps.settings.display"),onClick:()=>c("display")},{icon:el.jsx(Fx,{size:18*n}),title:t("apps.settings.security"),onClick:()=>c("security")},{icon:el.jsx(Nx,{size:18*n}),title:t("apps.settings.sim"),onClick:()=>c("sim")},{icon:el.jsx(Gx,{size:18*n}),title:t("apps.settings.about"),onClick:()=>c("about")}],{currentFocus:l}=Wf({selector:".tgg-row-section",maxFocus:s.length,backspaceHandler:()=>{e(`${qp}/`)}}),c=t=>{switch(t){case"phone":return e("phone");case"sound":return e("sound");case"display":return e("display");case"security":return e("security");case"sim":return e("sim");case"about":return e("about");default:e(`${Xp}`)}};return el.jsx(tw,{$resizeBy:n,children:el.jsx(ly,{title:t("apps.settings.title"),children:s.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,onClick:e.onClick,style:{backgroundColor:l===t+1?"var(--tgg-highlight-color)":"transparent"},children:e.children?e.children:el.jsxs(el.Fragment,{children:[e.icon,el.jsx("span",{className:"tgg-msg-title",children:e.title})]})},t)))})})},rw=ey.div.attrs({className:"tgg-app-content"})`
	height: 100%;

	/* padding: 0 calc(0.25rem * ${e=>e.$resizeBy}); */

	overflow-y: scroll;
	overflow-x: hidden;

	scroll-snap-type: y mandatory;
	scroll-snap-stop: always;
`,iw=({children:e})=>{const t=vu((e=>e.resizeBy));return el.jsx(rw,{$resizeBy:t,children:e})},ow=ey.div.attrs({className:"tgg-phone-app"})`
	position: relative;

	display: flex;
	flex-direction: column;
	align-items: space-between;

	height: 100%;

	color: var(--tgg-text-color-primary);

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		.tgg-row-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-row-section-content {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding-top: calc(25px * ${e=>e.$resizeBy});
		padding-bottom: calc(45px * ${e=>e.$resizeBy});
	}
`,aw=()=>{const e=Lh(),{currentFocus:t}=Wf({maxFocus:3,selector:".tgg-row-section",backspaceHandler:()=>e(`${Xp}`)}),n=vu((e=>e.resizeBy)),r=gu((e=>e.setFooterActions)),{t:i}=Up();cl.useEffect((()=>{r({left:"",center:Yf.Select,right:Yf.Exit})}),[]);const o=t=>{switch(t){case tl.Received:return e(tl.Received);case tl.Missed:return e(tl.Missed);case tl.Dialed:return e(tl.Dialed);default:e(`${Xp}`)}};return el.jsxs(ow,{$resizeBy:n,children:[el.jsx(ay,{title:i("apps.phone.title")}),el.jsxs(iw,{children:[el.jsx("div",{className:"tgg-row-section",tabIndex:1,onClick:()=>o(tl.Missed),style:{backgroundColor:1===t?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(Pb,{size:18*n,color:"#ff0000"}),el.jsx("div",{className:"tgg-row-title",children:i("apps.phone.missedCalls")})]})}),el.jsx("div",{className:"tgg-row-section",tabIndex:2,onClick:()=>o(tl.Received),onKeyDown:()=>{},style:{backgroundColor:2===t?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(Lb,{size:18*n,color:"#0091ff"}),el.jsx("div",{className:"tgg-row-title",children:i("apps.phone.receivedCalls")})]})}),el.jsx("div",{className:"tgg-row-section",tabIndex:3,onClick:()=>o(tl.Dialed),onKeyDown:()=>{},style:{backgroundColor:3===t?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx(Ob,{size:18*n,color:"#9ce100"}),el.jsx("div",{className:"tgg-row-title",children:i("apps.phone.dialedCalls")})]})})]}),el.jsx(iy,{})]})},sw=()=>{const{t:e}=Up();return el.jsx(yb,{callType:lb.Outgoing,title:e("apps.phone.dialedCalls")})},lw=ey.div.attrs({className:"tgg-snake-xensia"})`
	height: 100%;
	background-color: #73a582;

	.tgg-snake-xensia-iframe {
		position: absolute;
		top: calc(13.5% * ${e=>e.$resizeBy});

		left: calc(-26px * ${e=>e.$resizeBy});
		width: calc(290px * ${e=>e.$resizeBy});
		height: calc(600px * ${e=>e.$resizeBy});

		border: none;
	}

	.tgg-overlay {
		position: absolute;

		height: calc(55px * ${e=>e.$resizeBy});
		background-color: #73a582;
		width: 100%;

		z-index: 1;
	}

	.tgg-overlay:first-child {
		top: 0;
	}

	.tgg-overlay:last-child {
		bottom: 0;
	}

	.tgg-overlay-btns {
		position: absolute;
		bottom: 0;
		width: 100%;
		height: calc(100px * ${e=>e.$resizeBy});

		background-color: transparent;
	}
`,cw=()=>{const e=vu((e=>e.resizeBy));return el.jsxs(lw,{$resizeBy:e,children:[el.jsx("div",{className:"tgg-overlay"}),el.jsx("iframe",{className:"tgg-snake-xensia-iframe",src:"https://funhtml5games.com?embed=snake2"}),el.jsx("div",{className:"tgg-overlay-btns"}),el.jsx("div",{className:"tgg-overlay"})]})},uw=()=>{const{t:e}=Up();return el.jsx(yb,{callType:lb.Missed,title:e("apps.phone.missedCalls")})},dw=ey.div.attrs({className:"tgg-phone-app"})`
	position: relative;

	display: flex;
	flex-direction: column;
	align-items: space-between;

	height: 100%;

	color: var(--tgg-text-color-primary);

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-row-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`,hw=()=>{const e=vu((e=>e.resizeBy)),t=gu((e=>e.setFooterActions));return cl.useEffect((()=>(t(qf),()=>{t(Xf)})),[]),el.jsx(dw,{$resizeBy:e,children:el.jsx($h,{})})},pw=ey.div`
	.tgg-chat-item {
		display: flex;
		padding: 12px;
		cursor: pointer;

		&:focus {
			background-color: var(--tgg-highlight-color);
			outline: none;
		}
	}

	.tgg-chat-preview {
		display: flex;
		flex-direction: column;
		width: 100%;

		.tgg-chat-name {
			font-size: 0.95rem;
		}

		.tgg-chat-last-message-time {
			font-size: 0.75rem;
			white-space: nowrap;

			opacity: 0.5;
		}

		.tgg-chat-last-message {
			font-size: 0.9em;

			max-width: 100%;

			line-height: 1.5em;
			max-height: 3em; /* height is 2x line-height, so two lines will display */

			overflow: hidden;
			text-overflow: ellipsis;
		}
	}

	.tgg-chat-not-found {
		text-align: center;
	}
`,fw={conversations:[{channelId:"YFEX8Pn",content:"yooo",groupMembers:["0898291"],isGroup:!1,isOwner:1,lastMessageTimestamp:1738326022925},{channelId:"nhWXJju",content:"22",groupMembers:["0890355"],isGroup:!1,isOwner:1,lastMessageTimestamp:1738324955314}],totalItems:2},mw=()=>{const e=Lh(),[t,n]=cl.useState([]),[r,i]=cl.useState(0),[o,a]=cl.useState(0),s=vu((e=>e.contacts)),l=vu((e=>e.resizeBy)),{t:c}=Up(),u=vu((e=>e.phoneIdentifiers)),d=gu((e=>e.setFooterActions)),{currentFocus:h}=Wf({maxFocus:null==t?void 0:t.length,selector:".tgg-chat-item",backspaceHandler:()=>{e(`${qp}/${Wp.Messages}`)}});cl.useEffect((()=>{d({left:"",center:Yf.Select,right:Yf.Back})}),[]),cl.useEffect((()=>{p()}),[r]);const p=e=>{Gp("messages:get-conversations",15*(e??r),fw).then((e=>{e&&(e.totalItems&&a(e.totalItems),e.totalItems&&e.conversations.length>0&&n([...t,...e.conversations]))}))};yp("messages:update-conversation",(e=>(e=>{const r=e.channelId,i=t.find((e=>e.channelId===r));if(i){i.content=e.content,i.lastMessageTimestamp=e.timestamp;const o=t.filter((e=>e.channelId!==r)),a=[i,...o];n([...a])}else p(0)})(e)));const f=n=>{const r=t.find((e=>e.channelId===n)),i=null==r?void 0:r.groupMembers;e(`${qp}/${Wp.Messages}/chat/${n}`,{state:{participants:i,conversationData:r}})},m=e=>{const t=s.find((t=>t.number===e));return t?t.name:e},g=e=>{if(e.isGroup){if(e.name)return e.name;return Array.from(e.groupMembers).map((e=>m(e))).join(", ")}return m(e.groupMembers[0])},v=e=>{const t=c("general.unsuportedMedia");return"<DELETED-MESSAGE>"===e?c("general.deletedMessage"):"<PHOTO>"===e?c("apps.messagesInbox.photo"):"<VOICE-MESSAGE>"===e||"<LOCATION>"===e?t:e};return el.jsx(pw,{$resizeBy:l,children:el.jsx(ly,{title:c("apps.messagesInbox.title"),children:u.number?el.jsx(mb,{dataLength:null==t?void 0:t.length,next:()=>i((e=>e+1)),hasMore:o>(null==t?void 0:t.length),loader:el.jsx("div",{children:c("apps.messagesInbox.loading")}),scrollableTarget:"tgg-container-scrollable",children:cl.useMemo((()=>el.jsx(el.Fragment,{children:t.length>0?null==t?void 0:t.map(((e,t)=>el.jsx("div",{className:"tgg-chat-item",tabIndex:t+1,onClick:()=>f(e.channelId),onKeyDown:t=>{"Enter"===t.key&&f(e.channelId)},style:{backgroundColor:h===t+1?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-chat-preview",children:[el.jsx("div",{className:"tgg-chat-name",children:g(e)}),el.jsx("div",{className:"tgg-chat-last-message-time",children:new Date(e.lastMessageTimestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),el.jsx("div",{className:"tgg-chat-last-message",children:v(e.content)})]})},e.channelId))):el.jsx("div",{className:"tgg-chat-item",children:el.jsx("div",{className:"tgg-chat-preview",children:el.jsx("div",{className:"tgg-chat-not-found",children:c("apps.messages.noConversations")})})})})),[t,h])}):el.jsx("div",{className:"tgg-chat-item",children:el.jsx("div",{className:"tgg-chat-preview",children:el.jsx("div",{className:"tgg-chat-not-found",children:c("general.noSim")})})})})})},gw=ey.div.attrs({className:"tgg-chat-container"})`
	.tgg-chat-wrapper {
		height: 100%;
		display: flex;
		flex-direction: column;
		padding: 0.1rem 0.5rem 0 0.5rem;
	}

	#tgg-container-scrollable2 {
		display: flex;
		flex-direction: column-reverse;
	}

	.tgg-message {
		max-width: 70%;
		margin: 0.3rem 0;
		padding: 0.35rem 0.5rem;
		border-radius: 0.5rem;

		font-size: 0.8rem;
		line-height: 1.2;

		word-break: break-word;
		white-space: pre-wrap;
		overflow: hidden;

		box-sizing: border-box;
	}

	.tgg-message-received {
		background-color: #2c2c2c;
		align-self: flex-start;
		margin-right: auto;
	}

	.tgg-message-sent {
		background-color: #2c7aff;
		align-self: flex-end;
		margin-left: auto;
	}

	.tgg-message-deleted {
		background-color: #3a3a3a !important;
	}

	.tgg-input-container {
		width: 100%;
		height: fit-content;
		min-height: 1.85em;
		max-height: 1.85em;
		position: relative;

		.tgg-message-input {
			width: 100%;
			height: 100%;

			background-color: transparent;
			border: 1px solid #2c2c2c;
			border-radius: 0.25rem;
			padding: 0.25rem;
			resize: none;
			color: var(--tgg-text-color-primary);

			font-size: 0.8rem;

			${e=>1===e.$currentFocus?"\n\t\t\t\t\tbackground-color: var(--tgg-highlight-color);\n\t\t\t\t":"\n\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t"}

			&:focus {
				background-color: var(--tgg-highlight-color);
				outline: none;
			}
		}
	}

	.tgg-selected-image {
		position: absolute;
		top: -65px;
		left: 5px;
		width: 100%;
		height: 60px;

		img {
			width: 60px;
			height: 60px;
			object-fit: cover;

			border: 2px solid var(--tgg-text-color-primary);
			border-radius: 8px;
		}
	}

	.tgg-message-time-stamp {
		font-size: 0.6rem;
		color: var(--tgg-text-color-secondary);
		margin-right: 0.5rem;
		text-align: right;
		opacity: 0.7;
	}
`,vw={totalItems:26,conversation:Array.from({length:50},((e,t)=>({channelId:"8gsHwQB",content:`Message ${t+1}`,id:Math.random()*Math.random()/Math.random(),sender:t%2==0?"0880001":"0896758",timestamp:Date.now()-6e4*t}))),targetSource:"0896758",timestamp:1736375359338,id:1},yw={channelId:"8gsHwQB",content:"123123",id:26,sender:"0876635",messageId:26,timestamp:1736375359338},bw=()=>{var e,t,n;const r=Lh(),{participants:i,conversationData:o}=Ch().state,{channelId:a}=Oh(),s=cl.useRef(null),[l,c]=cl.useState([]),[u,d]=cl.useState(!1),[h,p]=cl.useState(0),[f,m]=cl.useState(0),g=cl.useRef(1),v=gu((e=>e.setFooterActions)),y=gu((e=>e.setOptionsModal)),b=gu((e=>e.setImgPreview)),x=vu((e=>e.imgPreview)),w=vu((e=>e.optionsModal)),_=vu((e=>e.phoneIdentifiers)),S=vu((e=>e.phoneIdentifiers.number)),E=vu((e=>e.contacts)),k=vu((e=>e.resizeBy)),M=cl.useRef(document.querySelector("#tgg-container-scrollable2")),[C,T]=cl.useState(!1),[L,A]=cl.useState(""),[O,P]=cl.useState(!1),R=cl.useRef(null),[I,N]=cl.useState(!1),j=cl.useRef(null),z=cl.useRef(!1),{t:D}=Up(),B=cl.useCallback((e=>{const t=JSON.parse(JSON.stringify(l.map((t=>{if(t.id===e){const e=t.content;return{...t,content:"<DELETED-MESSAGE>",attachments:JSON.stringify([e])}}return t}))));c(t)}),[l,c]),{currentFocus:F,focusItem:$}=Wf({maxFocus:C?l.length:1,selector:".tgg-message-input",backspaceHandler:()=>{if(x)return b(""),void A("");s.current&&0===s.current.value.length&&L?A(""):s.current&&0===s.current.value.length&&r(`${qp}/${Wp.Messages}/${nl.Inbox}`)},shiftHandler:cl.useCallback((()=>{T(!C)}),[C]),enterHandler:function(){var e;if(I)return;if(L)return void Cp({action:"keyboard:enter",internal:!0});if(!C&&0===(null==(e=s.current)?void 0:e.value.length))return void y({status:!0,modal:Yy.ChooseImage,data:{callback:e=>{A(e)}}});if(!C)return;const t=F-1;if(t<0||t>=l.length)return void console.error("Invalid message index:",t);const n=l[t],r=[{title:D("modals.optionsList.copy"),action:()=>{Cp({action:"ui:copy-to-clipboard",internal:!0,data:{text:n.content,successMessage:D("apps.chat.copiedToClipboardLabel")}})}}];"<DELETED-MESSAGE>"!==n.content&&n.sender===S&&r.push({title:D("modals.optionsList.delete"),action:()=>{Gp("yboomer:client:messages:delete-message",{messageId:n.id,participants:i}).then((e=>{e.success?B(n.id):Jy(D("apps.chat.failedToDeleteMessage"))}))}});"<PHOTO>"===n.content&&r.push({title:D("modals.optionsList.previewPhoto"),action:()=>{b(JSON.parse(n.attachments)[0].photo)}});r.push({title:D("modals.optionsList.timeStamp"),action:()=>{},notFocusable:!0,children:el.jsx("div",{style:{marginLeft:"auto",textAlign:"right",opacity:.7},children:new Date(n.timestamp).toLocaleString()})}),y({status:!0,modal:Yy.OptionsList,data:{options:r,callback:()=>{}}})},disableLeftRight:!0,inverse:!0});cl.useEffect((()=>{g.current=F}),[F,w,l]);const H=cl.useCallback((e=>{var t;s.current&&s.current.value.length>0||C||(C||$(".tgg-message-input",1),null==(t=M.current)||t.scrollBy({top:e}))}),[s,C]);yp("keyboard:up",(()=>{H(-40)})),yp("keyboard:down",(()=>{H(40)})),yp("keyboard:opt",(()=>{T(!C)}));const U=cl.useCallback((()=>{var e;s.current&&(null==(e=s.current.value)?void 0:e.length)>0||L?v({left:C?Yf.Chat:Yf.Scroll,center:C?Yf.Options:Yf.Send,right:Yf.Clear}):v({left:C?Yf.Chat:Yf.Scroll,center:C?Yf.Options:Yf.Media,right:Yf.Back})}),[null==(t=null==(e=s.current)?void 0:e.value)?void 0:t.length,C,L]);cl.useEffect((()=>{U(),C||$(".tgg-message-input",1)}),[C]),cl.useEffect((()=>{C&&$(".tgg-message",F)}),[F,C]);const V=()=>{Gp("messages:get-conversation-by-channel-id",{channelId:a,offset:50*h},vw).then((e=>{var t;e.totalItems&&m(e.totalItems),e.totalItems&&(null==(t=null==e?void 0:e.conversation)?void 0:t.length)&&(c((t=>[...t,...e.conversation])),d(!0))}))};cl.useEffect((()=>{V()}),[a]),cl.useEffect((()=>{h>0&&V()}),[h]),cl.useEffect((()=>{const e=document.querySelector("#tgg-container-scrollable2");e&&!u&&(e.scrollTop=e.scrollHeight)}),[l]),cl.useEffect((()=>{U();const e=e=>{"Enter"===e.key&&(e.preventDefault(),Cp({action:"keyboard:enter",internal:!0}))};return document.addEventListener("keypress",e),()=>{document.removeEventListener("keypress",e)}}),[]),cl.useEffect((()=>()=>{y({status:!1,modal:Yy.OptionsList,data:{}})}),[]);const G=cl.useCallback((e=>{M.current&&(w.status||C||("ArrowDown"===e.key?H(40):"ArrowUp"===e.key&&H(-40)))}),[M,C,H,w]);cl.useEffect((()=>(document.addEventListener("keydown",G),()=>{document.removeEventListener("keydown",G)})),[C]),cl.useEffect((()=>{if(!w.status)return R.current&&clearTimeout(R.current),R.current=setTimeout((()=>{P(!1),R.current=null}),500),()=>{R.current&&clearTimeout(R.current)};P(!0)}),[w]);const W=cl.useCallback((async()=>{var e;if(z.current||O)return;z.current=!0,P(!0);let t=(null==(e=s.current)?void 0:e.value)??"";if(0===t.trim().length&&!L)return z.current=!1,void P(!1);if(t.length>1e3&&(t=t.slice(0,1e3)),C)return z.current=!1,void P(!1);N(!0),0===t.length&&L&&(t="<PHOTO>");const n={channelId:a,participants:i,message:t};L&&(n.attachments=JSON.stringify([{photo:L}]));try{const e=await Gp("message:send",n,yw);d(!1);const r={channelId:e.channelId,content:t,id:Number(e.messageId),sender:S,timestamp:e.timestamp};L&&(r.attachments=JSON.stringify([{photo:L}])),c([r,...l]),m((e=>e+1)),v({left:C?Yf.Scroll:Yf.Chat,center:C?Yf.Options:Yf.Media,right:Yf.Clear}),A(""),s.current&&(s.current.value="")}catch(r){console.error("Failed to send message:",r)}finally{R.current&&clearTimeout(R.current),R.current=setTimeout((()=>{z.current=!1,P(!1),R.current=null}),500),j.current&&clearTimeout(j.current),j.current=setTimeout((()=>{N(!1),j.current=null}),500)}}),[L,null==(n=s.current)?void 0:n.value,O,a,i,S,C,l]);cl.useEffect((()=>{z.current=O}),[O]),yp("keyboard:enter",(()=>{W()})),yp("messages:update-conversation",(e=>{e.channelId===a&&c([e,...l])})),yp("messages:on-delete",(e=>{e&&B(e)}));const q=e=>{const t=D("general.unsuportedMedia");if("<DELETED-MESSAGE>"===e.content)return D("general.deletedMessage");if("<VOICE-MESSAGE>"===e.content||"<LOCATION>"===e.content)return t;if("<DELETED-MESSAGE>"!==e.content&&"<PHOTO>"!==e.content&&e.attachments){const t=JSON.parse(e.attachments);return el.jsxs("div",{children:[el.jsx("div",{children:e.content}),el.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",maxWidth:"200px",maxHeight:"200px"},children:t[0].photo&&el.jsx("img",{src:t[0].photo,alt:"shared media",style:{width:"100%",height:"100%",objectFit:"cover",maxHeight:"198px"}})})]})}if("<PHOTO>"===e.content&&e.attachments){const t=JSON.parse(e.attachments);return el.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",maxWidth:"200px",maxHeight:"200px"},children:el.jsx("img",{src:t[0].photo,alt:"shared media",style:{width:"100%",height:"100%",objectFit:"cover",maxHeight:"198px"}})})}return e.content},X=e=>{const t=E.find((t=>t.number===e));return t?t.name:e},Y=cl.useCallback((()=>{if(o.isGroup){if(o.name)return o.name;return Array.from(o.groupMembers).map((e=>X(e))).join(", ")}return X(o.groupMembers[0])}),[o]);return yp("keyboard:backspace",(async()=>{s.current&&(0===s.current.value.length?r(`${qp}/${Wp.Messages}`):(s.current.value=s.current.value.slice(0,-1),$(".tgg-message-input",1)))})),cl.useEffect((()=>{if(C){const e=e=>{w.status||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||setTimeout((()=>{g.current=F}),10)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}}),[C,F,w]),cl.useEffect((()=>()=>{R.current&&clearTimeout(R.current),j.current&&clearTimeout(j.current)}),[]),el.jsx(gw,{$resizeBy:k,$currentFocus:F,children:el.jsx(ly,{title:`${Y()}`,disableScrollable:!0,children:el.jsxs("div",{className:"tgg-chat-wrapper",children:[el.jsx(ny,{id:"tgg-container-scrollable2",offsetHeight:1,ref:M,children:el.jsx(mb,{style:{display:"flex",flexDirection:"column-reverse"},scrollableTarget:"tgg-container-scrollable2",hasMore:l.length<f,dataLength:l.length,next:()=>{p(h+1)},loader:el.jsx("div",{children:"Loading..."}),inverse:!0,children:cl.useMemo((()=>l&&(null==l?void 0:l.map(((e,t)=>{const n=C?t+1:void 0;return el.jsx("div",{className:`tgg-message ${e.sender===_.number?"tgg-message-sent":"tgg-message-received"} ${"<DELETED-MESSAGE>"===e.content?"tgg-message-deleted":""}`,tabIndex:n,style:{border:C&&F===t+1?"1px solid white":""},children:q(e)},e.id)})))),[l,F,C])})}),el.jsxs("div",{className:"tgg-input-container",children:[L&&el.jsx("div",{className:"tgg-selected-image",children:el.jsx("img",{src:L,alt:"selected"})}),el.jsx("textarea",{ref:s,maxLength:100,className:"tgg-message-input",style:{backgroundColor:C?"transparent":"var(--tgg-highlight-color)"},tabIndex:C?void 0:1,rows:1,placeholder:D("apps.chat.placeholder"),onChange:()=>{U()}})]})]})})})},xw="yboomer-reopen-attempts",ww=()=>{const e=Lh();return cl.useEffect((()=>{(()=>{const t=parseInt(localStorage.getItem(xw)||"0",10);t>=3?localStorage.removeItem(xw):(localStorage.setItem(xw,String(t+1)),e(`${qp}`),Gp("reopen-yboomer",{reopenTime:1e3},!0))})()}),[e]),null};var _w,Sw={};const Ew=Bs(function(){if(_w)return Sw;_w=1;var e=Lu();return Sw.createRoot=e.createRoot,Sw.hydrateRoot=e.hydrateRoot,Sw}()),kw=cl.createContext(null),Mw=({children:e})=>{const[t,n]=cl.useState(!1),r=gu((e=>e.setIsSoftOpen)),i=gu((e=>e.setIsOpen));yp("boomer:set-visible",(e=>{(e=>{n(e.visible),r(e.softOpen)})(e)}),{isModal:!0,isCall:!0}),cl.useEffect((()=>{if(i(t),!t)return;const e=e=>{["Escape"].includes(e.code)?pp()||(e.preventDefault(),Gp("hide-yboomer").then((()=>{}))):["Backquote"].includes(e.code)&&pp()&&Cp([{action:"toggle-dev-menu",data:!0}],0)};return window.addEventListener("keyup",e),()=>window.removeEventListener("keyup",e)}),[t]);const o=cl.useMemo((()=>({visible:t,setVisible:n})),[t,n]);return el.jsx(kw.Provider,{value:o,children:el.jsx("div",{style:{visibility:t?"visible":"hidden",height:"100%"},children:e})})};var Cw=(e=>(e.Image="Image",e.Video="Video",e.Thumbnail="Thumbnail",e.Audio="Audio",e))(Cw||{});const Tw=e=>e.uploadMethod.Audio!==kp.Discord&&e.uploadMethod.Video!==kp.Discord&&e.uploadMethod.Image!==kp.Discord&&e.uploadMethod.Audio!==kp.Fivemanage&&e.uploadMethod.Video!==kp.Fivemanage&&e.uploadMethod.Image!==kp.Fivemanage,Lw=e=>{let t="png";switch(e){case"Video":t="webm";break;case"Audio":t="mp3"}return`${e.toLowerCase()}-${Date.now()}.${t}`},Aw=(e,t)=>{const n="Thumbnail"===e?"Image":e,r=t.uploadRequestData[n];let i=null==r?void 0:r.url;return t.uploadMethod[n]===kp.Discord&&(i+=t.apiKeys[n]),{url:i,field:(null==r?void 0:r.field)??"",headers:(null==r?void 0:r.headers)??{},successPath:(null==r?void 0:r.successPath)??""}},Ow=(e,t)=>t.split(".").reduce(((e,t)=>e&&e[t]),e),Pw=e=>{if(!e)return null;const t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})};class Rw{constructor(){n(this,"initialized",!1),n(this,"imageQuality",1),n(this,"uploadConfig",null),n(this,"renderer"),n(this,"rtTexture"),n(this,"sceneRTT"),n(this,"cameraRTT"),n(this,"material"),n(this,"isAnimated",!1),n(this,"captureCanvas"),n(this,"captureCanvasHeight",0),n(this,"captureCanvasWidth",0),n(this,"width",0),n(this,"height",0),n(this,"backCamera",!0),n(this,"rotateCamera",(()=>this.backCamera=!this.backCamera)),n(this,"capturePhoto",(()=>{var e,t;const n=null==(e=this.captureCanvas)?void 0:e.getContext("2d");null==n||n.drawImage(this.captureCanvas,0,0,this.captureCanvasWidth,this.captureCanvasHeight);return null==(t=this.captureCanvas)?void 0:t.toDataURL("image/jpeg",this.imageQuality)})),n(this,"requestScreenshot",(()=>new Promise((e=>{const t={mediaUrl:this.capturePhoto(),mediaType:Cw.Image};this.uploadConfig?(async(e,t)=>{if(!e.mediaUrl&&!e.blob)return!1;const{field:n,url:r,successPath:i,headers:o}=Aw(e.mediaType,t);if(!n||!r)return!1;const a=Lw(e.mediaType),s="Video"===e.mediaType||"Audio"===e.mediaType?e.blob:Pw(e.mediaUrl);if(!s)return!1;const l=new FormData;l.append(n,s,a);let c=null;t.uploadMethod.Image!==kp.Fivemanage||"Image"!==e.mediaType&&"Thumbnail"!==e.mediaType||(l.append("resource","yboomer-phone"),c=await Gp("upload:get-url","image","")),t.uploadMethod.Audio===kp.Fivemanage&&"Audio"===e.mediaType&&(l.append("resource","yboomer-phone"),c=await Gp("upload:get-url","audio","")),t.uploadMethod.Video===kp.Fivemanage&&"Video"===e.mediaType&&(l.append("resource","yboomer-phone"),c=await Gp("upload:get-url","video",""));try{const e=await fetch(c??r,{method:"POST",mode:"cors",headers:Tw(t)?o:void 0,body:l}),n=await e.text(),a=JSON.parse(n);return Ow(a,i)??!1}catch(u){return console.error("Upload failed:",u),!1}})(t,this.uploadConfig).then((t=>{e(t||!1)})):e(!1)})))),n(this,"getCaptureCanvas",(()=>this.captureCanvas))}setUploadConfig(e){this.uploadConfig=e}hasUploadConfig(){return null!==this.uploadConfig}getUploadConfig(){return this.uploadConfig}initialize(){this.initialized=!0,window.addEventListener("resize",(e=>{this.resize()}));const e=new window.cfxTexture;e.needsUpdate=!0;const t=new window.cfxThree.ShaderMaterial({uniforms:{tDiffuse:{value:e}},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\t\t\t\tvUv = vec2(uv.x, 1.0-uv.y);\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}\n",fragmentShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tuniform sampler2D tDiffuse;\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\t}\n"});this.material=t;const n=new window.cfxThree.WebGLRenderer;n.setPixelRatio(window.devicePixelRatio),n.setSize(this.width,this.height),n.autoClear=!1,this.renderer=n,this.animate=this.animate.bind(this),requestAnimationFrame(this.animate)}resize(){let e=this.captureCanvasWidth/this.captureCanvasHeight*this.height,t=this.height;e>this.width&&(e=this.width,t=this.width*(this.captureCanvasHeight/this.captureCanvasWidth));const n=new window.cfxThree.OrthographicCamera(e/-2,e/2,t/2,t/-2,-1e4,1e4);this.cameraRTT=n;const r=new window.cfxThree.Scene,i=new window.cfxThree.PlaneBufferGeometry(this.width,this.height),o=new window.cfxThree.Mesh(i,this.material);o.position.z=-100,r.add(o),this.sceneRTT=r,this.rtTexture=new window.cfxThree.WebGLRenderTarget(this.captureCanvasWidth,this.captureCanvasHeight,{minFilter:window.cfxThree.LinearFilter,magFilter:window.cfxThree.NearestFilter}),this.renderer.setSize(this.captureCanvasWidth,this.captureCanvasHeight)}animate(){var e;if(this.isAnimated){requestAnimationFrame(this.animate),this.renderer.clear(),this.renderer.setRenderTarget(this.rtTexture),this.renderer.render(this.sceneRTT,this.cameraRTT);const t=new Uint8Array(this.captureCanvasWidth*this.captureCanvasHeight*4);this.renderer.readRenderTargetPixels(this.rtTexture,0,0,this.captureCanvasWidth,this.captureCanvasHeight,t);const n=new Uint8ClampedArray(t.buffer),r=null==(e=this.captureCanvas)?void 0:e.getContext("2d"),i=new ImageData(n,this.captureCanvasWidth,this.captureCanvasHeight);null==r||r.putImageData(i,0,0)}}removeListener(){window.removeEventListener("resize",(()=>this.resize)),this.isAnimated=!1}renderToTarget(e,t,n,r,i){var o,a;if(this.captureCanvas=e,!this.captureCanvas)return;this.width=n.width,this.height=n.height;const s=i??(null==(o=this.captureCanvas)?void 0:o.getAttribute("data-height")),l=r??(null==(a=this.captureCanvas)?void 0:a.getAttribute("data-width"));this.captureCanvasHeight=2*(s-t),this.captureCanvasWidth=2*l,this.captureCanvas.height=this.captureCanvasHeight,this.captureCanvas.width=this.captureCanvasWidth,this.resize(),this.isAnimated=!0,this.animate()}stop(){this.isAnimated=!1,this.resize()}}const Iw={currentOwnerCitizenId:"OIE00001",imei:"00000001",isSetup:!0,settings:{homescreenWallpaper:"wallpapers/wallpaper.png"},number:"0880001",lock:!1,os:"aikon"},Nw=[{id:53,number:"0894364"},{id:51,number:"0881916"},{id:52,number:"0896758"},{id:53,number:"0880001"},{id:54,number:"0877334"},{id:55,number:"0879536"},{id:56,number:"0890245"},{id:57,number:"0890246"},{id:58,number:"0890247"},{id:59,number:"0890248"},{id:60,number:"0890249"},{id:61,number:"0890250"},{id:62,number:"0890251"},{id:63,number:"0890252"},{id:64,number:"0890253"},{id:65,number:"0890254"},{id:66,number:"0890255"}];function jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zw(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dw(e,t){if(e){if("string"==typeof e)return jw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jw(e,t):void 0}}function Bw(e){return function(e){if(Array.isArray(e))return jw(e)}(e)||zw(e)||Dw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fw(e){if(Array.isArray(e))return e}function $w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hw(e,t){return Fw(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Dw(e,t)||$w()}function Uw(e){var t=cl.useRef();t.current=e;var n=cl.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function Vw(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Gw=Vw()?cl.useLayoutEffect:cl.useEffect,Ww=function(e,t){var n=cl.useRef(!0);Gw((function(){return e(n.current)}),t),Gw((function(){return n.current=!1,function(){n.current=!0}}),[])},qw=function(e,t){Ww((function(t){if(!t)return e()}),t)};function Xw(e){var t=cl.useRef(!1),n=Hw(cl.useState(e),2),r=n[0],i=n[1];return cl.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||i(e)}]}function Yw(e){return void 0!==e}function Jw(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Hw(Xw((function(){return Yw(i)?i:Yw(r)?"function"==typeof r?r():r:"function"==typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==i?i:l,d=a?a(u):u,h=Uw(o),p=Hw(Xw([u]),2),f=p[0],m=p[1];return qw((function(){var e=f[0];l!==e&&h(l,e)}),[f]),qw((function(){Yw(i)||c(i)}),[i]),[d,Uw((function(e,t){c(e,t),m([u],t)}))]}var Kw={};function Zw(e,t){}function Qw(e,t){}function e_(e,t,n){t||Kw[n]||(e(!1,n),Kw[n]=!0)}function t_(e,t){e_(Zw,e,t)}function n_(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(t_(!a,"Warning: There may be circular references"),a)return!1;if(t===i)return!0;if(n&&o>1)return!1;r.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],i[l],s))return!1;return!0}if(t&&i&&"object"===hl(t)&&"object"===hl(i)){var c=Object.keys(t);return c.length===Object.keys(i).length&&c.every((function(n){return e(t[n],i[n],s)}))}return!1}(e,t)}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r_.apply(null,arguments)}function i_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o_(e,t,n){return(e-t)/(n-t)}function a_(e,t,n,r){var i=o_(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*i,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*i,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*i,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*i,"%"),o.transform="translateX(-50%)"}return o}function s_(e,t){return Array.isArray(e)?e[t]:e}t_.preMessage=function(e){},t_.resetWarned=function(){Kw={}},t_.noteOnce=function(e,t){e_(Qw,e,t)};var l_=8,c_=13,u_=33,d_=34,h_=35,p_=36,f_=37,m_=38,g_=39,v_=40,y_=46,b_=cl.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),x_=cl.createContext({}),w_=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],__=cl.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.value,o=e.valueIndex,a=e.onStartMove,s=e.onDelete,l=e.style,c=e.render,u=e.dragging,d=e.draggingDelete,h=e.onOffsetChange,p=e.onChangeComplete,f=e.onFocus,m=e.onMouseEnter,g=i_(e,w_),v=cl.useContext(b_),y=v.min,b=v.max,x=v.direction,w=v.disabled,_=v.keyboard,S=v.range,E=v.tabIndex,k=v.ariaLabelForHandle,M=v.ariaLabelledByForHandle,C=v.ariaRequired,T=v.ariaValueTextFormatterForHandle,L=v.styles,A=v.classNames,O="".concat(r,"-handle"),P=function(e){w||a(e,o)},R=a_(x,i,y,b),I={};null!==o&&(I={tabIndex:w?null:s_(E,o),role:"slider","aria-valuemin":y,"aria-valuemax":b,"aria-valuenow":i,"aria-disabled":w,"aria-label":s_(k,o),"aria-labelledby":s_(M,o),"aria-required":s_(C,o),"aria-valuetext":null===(n=s_(T,o))||void 0===n?void 0:n(i),"aria-orientation":"ltr"===x||"rtl"===x?"horizontal":"vertical",onMouseDown:P,onTouchStart:P,onFocus:function(e){null==f||f(e,o)},onMouseEnter:function(e){m(e,o)},onKeyDown:function(e){if(!w&&_){var t=null;switch(e.which||e.keyCode){case f_:t="ltr"===x||"btt"===x?-1:1;break;case g_:t="ltr"===x||"btt"===x?1:-1;break;case m_:t="ttb"!==x?1:-1;break;case v_:t="ttb"!==x?-1:1;break;case p_:t="min";break;case h_:t="max";break;case u_:t=2;break;case d_:t=-2;break;case l_:case y_:s(o)}null!==t&&(e.preventDefault(),h(t,o))}},onKeyUp:function(e){switch(e.which||e.keyCode){case f_:case g_:case m_:case v_:case p_:case h_:case u_:case d_:null==p||p()}}});var N=cl.createElement("div",r_({ref:t,className:Db(O,fl(fl(fl({},"".concat(O,"-").concat(o+1),null!==o&&S),"".concat(O,"-dragging"),u),"".concat(O,"-dragging-delete"),d),A.handle),style:gl(gl(gl({},R),l),L.handle)},I,g));return c&&(N=c(N,{index:o,prefixCls:r,value:i,dragging:u,draggingDelete:d})),N})),S_=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],E_=cl.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,i=e.onStartMove,o=e.onOffsetChange,a=e.values,s=e.handleRender,l=e.activeHandleRender,c=e.draggingIndex,u=e.draggingDelete,d=e.onFocus,h=i_(e,S_),p=cl.useRef({}),f=Hw(cl.useState(!1),2),m=f[0],g=f[1],v=Hw(cl.useState(-1),2),y=v[0],b=v[1],x=function(e){b(e),g(!0)};cl.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=p.current[e])||void 0===t||t.focus()},hideHelp:function(){Au.flushSync((function(){g(!1)}))}}}));var w=gl({prefixCls:n,onStartMove:i,onOffsetChange:o,render:s,onFocus:function(e,t){x(t),null==d||d(e)},onMouseEnter:function(e,t){x(t)}},h);return cl.createElement(cl.Fragment,null,a.map((function(e,t){var n=c===t;return cl.createElement(__,r_({ref:function(e){e?p.current[t]=e:delete p.current[t]},dragging:n,draggingDelete:n&&u,style:s_(r,t),key:t,value:e,valueIndex:t},w))})),l&&m&&cl.createElement(__,r_({key:"a11y"},w,{value:a[y],valueIndex:null,dragging:-1!==c,draggingDelete:u,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))})),k_=function(e){var t=e.prefixCls,n=e.style,r=e.children,i=e.value,o=e.onClick,a=cl.useContext(b_),s=a.min,l=a.max,c=a.direction,u=a.includedStart,d=a.includedEnd,h=a.included,p="".concat(t,"-text"),f=a_(c,i,s,l);return cl.createElement("span",{className:Db(p,fl({},"".concat(p,"-active"),h&&u<=i&&i<=d)),style:gl(gl({},f),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){o(i)}},r)},M_=function(e){var t=e.prefixCls,n=e.marks,r=e.onClick,i="".concat(t,"-mark");return n.length?cl.createElement("div",{className:i},n.map((function(e){var t=e.value,n=e.style,o=e.label;return cl.createElement(k_,{key:t,prefixCls:i,style:n,value:t,onClick:r},o)}))):null},C_=function(e){var t=e.prefixCls,n=e.value,r=e.style,i=e.activeStyle,o=cl.useContext(b_),a=o.min,s=o.max,l=o.direction,c=o.included,u=o.includedStart,d=o.includedEnd,h="".concat(t,"-dot"),p=c&&u<=n&&n<=d,f=gl(gl({},a_(l,n,a,s)),"function"==typeof r?r(n):r);return p&&(f=gl(gl({},f),"function"==typeof i?i(n):i)),cl.createElement("span",{className:Db(h,fl({},"".concat(h,"-active"),p)),style:f})},T_=function(e){var t=e.prefixCls,n=e.marks,r=e.dots,i=e.style,o=e.activeStyle,a=cl.useContext(b_),s=a.min,l=a.max,c=a.step,u=cl.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==c)for(var t=s;t<=l;)e.add(t),t+=c;return Array.from(e)}),[s,l,c,r,n]);return cl.createElement("div",{className:"".concat(t,"-step")},u.map((function(e){return cl.createElement(C_,{prefixCls:t,key:e,value:e,style:i,activeStyle:o})})))},L_=function(e){var t=e.prefixCls,n=e.style,r=e.start,i=e.end,o=e.index,a=e.onStartMove,s=e.replaceCls,l=cl.useContext(b_),c=l.direction,u=l.min,d=l.max,h=l.disabled,p=l.range,f=l.classNames,m="".concat(t,"-track"),g=o_(r,u,d),v=o_(i,u,d),y=function(e){!h&&a&&a(e,-1)},b={};switch(c){case"rtl":b.right="".concat(100*g,"%"),b.width="".concat(100*v-100*g,"%");break;case"btt":b.bottom="".concat(100*g,"%"),b.height="".concat(100*v-100*g,"%");break;case"ttb":b.top="".concat(100*g,"%"),b.height="".concat(100*v-100*g,"%");break;default:b.left="".concat(100*g,"%"),b.width="".concat(100*v-100*g,"%")}var x=s||Db(m,fl(fl({},"".concat(m,"-").concat(o+1),null!==o&&p),"".concat(t,"-track-draggable"),a),f.track);return cl.createElement("div",{className:x,style:gl(gl({},b),n),onMouseDown:y,onTouchStart:y})},A_=function(e){var t=e.prefixCls,n=e.style,r=e.values,i=e.startPoint,o=e.onStartMove,a=cl.useContext(b_),s=a.included,l=a.range,c=a.min,u=a.styles,d=a.classNames,h=cl.useMemo((function(){if(!l){if(0===r.length)return[];var e=null!=i?i:c,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],o=0;o<r.length-1;o+=1)n.push({start:r[o],end:r[o+1]});return n}),[r,l,i,c]);if(!s)return null;var p=null!=h&&h.length&&(d.tracks||u.tracks)?cl.createElement(L_,{index:null,prefixCls:t,start:h[0].start,end:h[h.length-1].end,replaceCls:Db(d.tracks,"".concat(t,"-tracks")),style:u.tracks}):null;return cl.createElement(cl.Fragment,null,p,h.map((function(e,r){var i=e.start,a=e.end;return cl.createElement(L_,{index:r,prefixCls:t,style:gl(gl({},s_(n,r)),u.track),start:i,end:a,key:r,onStartMove:o})})))};function O_(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}var P_=cl.forwardRef((function(e,t){var n=e.prefixCls,r=void 0===n?"rc-slider":n,i=e.className,o=e.style,a=e.classNames,s=e.styles,l=e.id,c=e.disabled,u=void 0!==c&&c,d=e.keyboard,h=void 0===d||d,p=e.autoFocus,f=e.onFocus,m=e.onBlur,g=e.min,v=void 0===g?0:g,y=e.max,b=void 0===y?100:y,x=e.step,w=void 0===x?1:x,_=e.value,S=e.defaultValue,E=e.range,k=e.count,M=e.onChange,C=e.onBeforeChange,T=e.onAfterChange,L=e.onChangeComplete,A=e.allowCross,O=void 0===A||A,P=e.pushable,R=void 0!==P&&P,I=e.reverse,N=e.vertical,j=e.included,z=void 0===j||j,D=e.startPoint,B=e.trackStyle,F=e.handleStyle,$=e.railStyle,H=e.dotStyle,U=e.activeDotStyle,V=e.marks,G=e.dots,W=e.handleRender,q=e.activeHandleRender,X=e.track,Y=e.tabIndex,J=void 0===Y?0:Y,K=e.ariaLabelForHandle,Z=e.ariaLabelledByForHandle,Q=e.ariaRequired,ee=e.ariaValueTextFormatterForHandle,te=cl.useRef(null),ne=cl.useRef(null),re=cl.useMemo((function(){return N?I?"ttb":"btt":I?"rtl":"ltr"}),[I,N]),ie=function(e){return cl.useMemo((function(){if(!0===e||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack;return[!0,t,!t&&n,e.minCount||0,e.maxCount]}),[e])}(E),oe=Hw(ie,5),ae=oe[0],se=oe[1],le=oe[2],ce=oe[3],ue=oe[4],de=cl.useMemo((function(){return isFinite(v)?v:0}),[v]),he=cl.useMemo((function(){return isFinite(b)?b:100}),[b]),pe=cl.useMemo((function(){return null!==w&&w<=0?1:w}),[w]),fe=cl.useMemo((function(){return"boolean"==typeof R?!!R&&pe:R>=0&&R}),[R,pe]),me=cl.useMemo((function(){return Object.keys(V||{}).map((function(e){var t=V[e],n={value:Number(e)};return t&&"object"===hl(t)&&!cl.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[V]),ge=function(e,t,n,r,i,o){var a=cl.useCallback((function(n){return Math.max(e,Math.min(t,n))}),[e,t]),s=cl.useCallback((function(r){if(null!==n){var i=e+Math.round((a(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},s=Math.max(o(n),o(t),o(e)),l=Number(i.toFixed(s));return e<=l&&l<=t?l:null}return null}),[n,e,t,a]),l=cl.useCallback((function(i){var o=a(i),l=r.map((function(e){return e.value}));null!==n&&l.push(s(i)),l.push(e,t);var c=l[0],u=t-e;return l.forEach((function(e){var t=Math.abs(o-e);t<=u&&(c=e,u=t)})),c}),[e,t,r,n,a,s]),c=function i(o,a,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof a){var u,d=o[l],h=d+a,p=[];r.forEach((function(e){p.push(e.value)})),p.push(e,t),p.push(s(d));var f=a>0?1:-1;"unit"===c?p.push(s(d+f*n)):p.push(s(h)),p=p.filter((function(e){return null!==e})).filter((function(e){return a<0?e<=d:e>=d})),"unit"===c&&(p=p.filter((function(e){return e!==d})));var m="unit"===c?d:h;u=p[0];var g=Math.abs(u-m);if(p.forEach((function(e){var t=Math.abs(e-m);t<g&&(u=e,g=t)})),void 0===u)return a<0?e:t;if("dist"===c)return u;if(Math.abs(a)>1){var v=Bw(o);return v[l]=u,i(v,a-f,l,c)}return u}return"min"===a?e:"max"===a?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e[n],o=c(e,t,n,r);return{value:o,changed:o!==i}},d=function(e){return null===o&&0===e||"number"==typeof o&&e<o};return[l,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(l),s=a[n],h=c(a,t,n,r);if(a[n]=h,!1===i){var p=o||0;n>0&&a[n-1]!==s&&(a[n]=Math.max(a[n],a[n-1]+p)),n<a.length-1&&a[n+1]!==s&&(a[n]=Math.min(a[n],a[n+1]-p))}else if("number"==typeof o||null===o){for(var f=n+1;f<a.length;f+=1)for(var m=!0;d(a[f]-a[f-1])&&m;){var g=u(a,1,f);a[f]=g.value,m=g.changed}for(var v=n;v>0;v-=1)for(var y=!0;d(a[v]-a[v-1])&&y;){var b=u(a,-1,v-1);a[v-1]=b.value,y=b.changed}for(var x=a.length-1;x>0;x-=1)for(var w=!0;d(a[x]-a[x-1])&&w;){var _=u(a,-1,x-1);a[x-1]=_.value,w=_.changed}for(var S=0;S<a.length-1;S+=1)for(var E=!0;d(a[S+1]-a[S])&&E;){var k=u(a,1,S+1);a[S+1]=k.value,E=k.changed}}return{value:a[n],values:a}}]}(de,he,pe,me,O,fe),ve=Hw(ge,2),ye=ve[0],be=ve[1],xe=Hw(Jw(S,{value:_}),2),we=xe[0],_e=xe[1],Se=cl.useMemo((function(){var e=null==we?[]:Array.isArray(we)?we:[we],t=Hw(e,1)[0],n=null===we?[]:[void 0===t?de:t];if(ae){if(n=Bw(e),k||void 0===we){var r=k>=0?k+1:2;for(n=n.slice(0,r);n.length<r;){var i;n.push(null!==(i=n[n.length-1])&&void 0!==i?i:de)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=ye(e)})),n}),[we,ae,de,k,ye]),Ee=function(e){return ae?e:e[0]},ke=Uw((function(e){var t=Bw(e).sort((function(e,t){return e-t}));M&&!n_(t,Se,!0)&&M(Ee(t)),_e(t)})),Me=Uw((function(e){e&&te.current.hideHelp();var t=Ee(Se);null==T||T(t),t_(!T,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==L||L(t)})),Ce=function(e,t,n,r,i,o,a,s,l,c,u){var d=Hw(cl.useState(null),2),h=d[0],p=d[1],f=Hw(cl.useState(-1),2),m=f[0],g=f[1],v=Hw(cl.useState(!1),2),y=v[0],b=v[1],x=Hw(cl.useState(n),2),w=x[0],_=x[1],S=Hw(cl.useState(n),2),E=S[0],k=S[1],M=cl.useRef(null),C=cl.useRef(null),T=cl.useRef(null),L=cl.useContext(x_),A=L.onDragStart,O=L.onDragChange;Ww((function(){-1===m&&_(n)}),[n,m]),cl.useEffect((function(){return function(){document.removeEventListener("mousemove",M.current),document.removeEventListener("mouseup",C.current),T.current&&(T.current.removeEventListener("touchmove",M.current),T.current.removeEventListener("touchend",C.current))}}),[]);var P=function(e,t,n){void 0!==t&&p(t),_(e);var r=e;n&&(r=e.filter((function(e,t){return t!==m}))),a(r),O&&O({rawValues:e,deleteIndex:n?m:-1,draggingIndex:m,draggingValue:t})},R=Uw((function(e,t,n){if(-1===e){var a=E[0],s=E[E.length-1],c=r-a,u=i-s,d=t*(i-r);d=Math.max(d,c),d=Math.min(d,u);var h=o(a+d);d=h-a;var p=E.map((function(e){return e+d}));P(p)}else{var f=(i-r)*t,m=Bw(w);m[e]=E[e];var g=l(m,f,e,"dist");P(g.values,g.value,n)}})),I=cl.useMemo((function(){var e=Bw(n).sort((function(e,t){return e-t})),t=Bw(w).sort((function(e,t){return e-t})),r={};t.forEach((function(e){r[e]=(r[e]||0)+1})),e.forEach((function(e){r[e]=(r[e]||0)-1}));var i=c?1:0;return Object.values(r).reduce((function(e,t){return e+Math.abs(t)}),0)<=i?w:n}),[n,w,c]);return[m,h,y,I,function(r,i,o){r.stopPropagation();var a=o||n,l=a[i];g(i),p(l),k(a),_(a),b(!1);var d=O_(r),h=d.pageX,f=d.pageY,m=!1;A&&A({rawValues:a,draggingIndex:i,draggingValue:l});var v=function(n){n.preventDefault();var r,o,a=O_(n),s=a.pageX,l=a.pageY,d=s-h,p=l-f,g=e.current.getBoundingClientRect(),v=g.width,y=g.height;switch(t){case"btt":r=-p/y,o=d;break;case"ttb":r=p/y,o=d;break;case"rtl":r=-d/v,o=p;break;default:r=d/v,o=p}m=!!c&&Math.abs(o)>130&&u<w.length,b(m),R(i,r,m)},y=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",v),T.current&&(T.current.removeEventListener("touchmove",M.current),T.current.removeEventListener("touchend",C.current)),M.current=null,C.current=null,T.current=null,s(m),g(-1),b(!1)};document.addEventListener("mouseup",y),document.addEventListener("mousemove",v),r.currentTarget.addEventListener("touchend",y),r.currentTarget.addEventListener("touchmove",v),M.current=v,C.current=y,T.current=r.currentTarget}]}(ne,re,Se,de,he,ye,ke,Me,be,se,ce),Te=Hw(Ce,5),Le=Te[0],Ae=Te[1],Oe=Te[2],Pe=Te[3],Re=Te[4],Ie=function(e,t){if(!u){var n=Bw(Se),r=0,i=0,o=he-de;Se.forEach((function(t,n){var a=Math.abs(e-t);a<=o&&(o=a,r=n),t<e&&(i=n)}));var a=r;se&&0!==o&&(!ue||Se.length<ue)?(n.splice(i+1,0,e),a=i+1):n[r]=e,ae&&!Se.length&&void 0===k&&n.push(e);var s,l,c=Ee(n);if(null==C||C(c),ke(n),t)null===(s=document.activeElement)||void 0===s||null===(l=s.blur)||void 0===l||l.call(s),te.current.focus(a),Re(t,a,n);else null==T||T(c),t_(!T,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==L||L(c)}},Ne=Hw(cl.useState(null),2),je=Ne[0],ze=Ne[1];cl.useEffect((function(){if(null!==je){var e=Se.indexOf(je);e>=0&&te.current.focus(e)}ze(null)}),[je]);var De=cl.useMemo((function(){return(!le||null!==pe)&&le}),[le,pe]),Be=Uw((function(e,t){Re(e,t),null==C||C(Ee(Se))})),Fe=-1!==Le;cl.useEffect((function(){if(!Fe){var e=Se.lastIndexOf(Ae);te.current.focus(e)}}),[Fe]);var $e=cl.useMemo((function(){return Bw(Pe).sort((function(e,t){return e-t}))}),[Pe]),He=Hw(cl.useMemo((function(){return ae?[$e[0],$e[$e.length-1]]:[de,$e[0]]}),[$e,ae,de]),2),Ue=He[0],Ve=He[1];cl.useImperativeHandle(t,(function(){return{focus:function(){te.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=ne.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}})),cl.useEffect((function(){p&&te.current.focus(0)}),[]);var Ge=cl.useMemo((function(){return{min:de,max:he,direction:re,disabled:u,keyboard:h,step:pe,included:z,includedStart:Ue,includedEnd:Ve,range:ae,tabIndex:J,ariaLabelForHandle:K,ariaLabelledByForHandle:Z,ariaRequired:Q,ariaValueTextFormatterForHandle:ee,styles:s||{},classNames:a||{}}}),[de,he,re,u,h,pe,z,Ue,Ve,ae,J,K,Z,Q,ee,s,a]);return cl.createElement(b_.Provider,{value:Ge},cl.createElement("div",{ref:ne,className:Db(r,i,fl(fl(fl(fl({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),N),"".concat(r,"-horizontal"),!N),"".concat(r,"-with-marks"),me.length)),style:o,onMouseDown:function(e){e.preventDefault();var t,n=ne.current.getBoundingClientRect(),r=n.width,i=n.height,o=n.left,a=n.top,s=n.bottom,l=n.right,c=e.clientX,u=e.clientY;switch(re){case"btt":t=(s-u)/i;break;case"ttb":t=(u-a)/i;break;case"rtl":t=(l-c)/r;break;default:t=(c-o)/r}Ie(ye(de+t*(he-de)),e)},id:l},cl.createElement("div",{className:Db("".concat(r,"-rail"),null==a?void 0:a.rail),style:gl(gl({},$),null==s?void 0:s.rail)}),!1!==X&&cl.createElement(A_,{prefixCls:r,style:B,values:Se,startPoint:D,onStartMove:De?Be:void 0}),cl.createElement(T_,{prefixCls:r,marks:me,dots:G,style:H,activeStyle:U}),cl.createElement(E_,{ref:te,prefixCls:r,style:F,values:Pe,draggingIndex:Le,draggingDelete:Oe,onStartMove:Be,onOffsetChange:function(e,t){if(!u){var n=be(Se,e,t);null==C||C(Ee(Se)),ke(n.values),ze(n.value)}},onFocus:f,onBlur:m,handleRender:W,activeHandleRender:q,onChangeComplete:Me,onDelete:se?function(e){if(!(u||!se||Se.length<=ce)){var t=Bw(Se);t.splice(e,1),null==C||C(Ee(t)),ke(t);var n=Math.max(0,e-1);te.current.hideHelp(),te.current.focus(n)}}:void 0}),cl.createElement(M_,{prefixCls:r,marks:me,onClick:Ie})))})),R_=function(e){return+setTimeout(e,16)},I_=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(R_=function(e){return window.requestAnimationFrame(e)},I_=function(e){return window.cancelAnimationFrame(e)});var N_=0,j_=new Map;function z_(e){j_.delete(e)}var D_=function(e){var t=N_+=1;return function n(r){if(0===r)z_(t),e();else{var i=R_((function(){n(r-1)}));j_.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};function B_(){}D_.cancel=function(e){var t=j_.get(e);return z_(e),I_(t)};const F_=cl.createContext({}),$_=()=>{const e=()=>{};return e.deprecated=B_,e},H_=cl.createContext(!1),U_=e=>{let{children:t,disabled:n}=e;const r=cl.useContext(H_);return cl.createElement(H_.Provider,{value:null!=n?n:r},t)},V_=cl.createContext({});function G_(e,t,n){var r=cl.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var W_=Symbol.for("react.element"),q_=Symbol.for("react.transitional.element"),X_=Symbol.for("react.fragment");function Y_(e){return e&&"object"===hl(e)&&(e.$$typeof===W_||e.$$typeof===q_)&&e.type===X_}var J_=Number(cl.version.split(".")[0]),K_=function(e,t){"function"==typeof e?e(t):"object"===hl(e)&&e&&"current"in e&&(e.current=t)},Z_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){K_(t,e)}))}},Q_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G_((function(){return Z_.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},eS=function(e){var t,n;if(!e)return!1;if(tS(e)&&J_>=19)return!0;var r=Jx.isMemo(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===Jx.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Jx.ForwardRef)};function tS(e){return cl.isValidElement(e)&&!Y_(e)}var nS=function(e){if(e&&tS(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function rS(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,o=e.bodyClassName,a=e.className,s=e.style;return cl.createElement("div",{className:Db("".concat(n,"-content"),a),style:s},cl.createElement("div",{className:Db("".concat(n,"-inner"),o),id:r,role:"tooltip",style:i},"function"==typeof t?t():t))}var iS=cl.createContext(null),oS=[];var aS="data-rc-order",sS="data-rc-priority",lS=new Map;function cS(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function uS(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function dS(e){return Array.from((lS.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function hS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Vw())return null;var n=t.csp,r=t.prepend,i=t.priority,o=void 0===i?0:i,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===a,l=document.createElement("style");l.setAttribute(aS,a),s&&o&&l.setAttribute(sS,"".concat(o)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=uS(t),u=c.firstChild;if(r){if(s){var d=(t.styles||dS(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(aS)))return!1;var t=Number(e.getAttribute(sS)||0);return o>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function pS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=uS(t);return(t.styles||dS(n)).find((function(n){return n.getAttribute(cS(t))===e}))}function fS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pS(e,t);n&&uS(t).removeChild(n)}function mS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=uS(n),i=dS(r),o=gl(gl({},n),{},{styles:i});!function(e,t){var n=lS.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=hS("",t),i=r.parentNode;lS.set(e,i),e.removeChild(r)}}(r,o);var a=pS(t,o);if(a){var s,l,c;if(null!==(s=o.csp)&&void 0!==s&&s.nonce&&a.nonce!==(null===(l=o.csp)||void 0===l?void 0:l.nonce))a.nonce=null===(c=o.csp)||void 0===c?void 0:c.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var u=hS(e,o);return u.setAttribute(cS(o),t),u}function gS(e){return"undefined"!=typeof document&&e&&e instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,i,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var a=getComputedStyle(e);o.scrollbarColor=a.scrollbarColor,o.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";mS("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(gG){console.error(gG),r=l,i=c}}document.body.appendChild(n);var h=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,p=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),fS(t),{width:h,height:p}}(e):{width:0,height:0}}var vS="rc-util-locker-".concat(Date.now()),yS=0;function bS(e){var t=!!e,n=Hw(cl.useState((function(){return yS+=1,"".concat(vS,"_").concat(yS)})),1)[0];Ww((function(){if(t){var e=gS(document.body).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;mS("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else fS(n);return function(){fS(n)}}),[t,n])}var xS=function(e){return!1!==e&&(Vw()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},wS=cl.forwardRef((function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer;e.debug;var o=e.autoDestroy,a=void 0===o||o,s=e.children,l=Hw(cl.useState(n),2),c=l[0],u=l[1],d=c||n;cl.useEffect((function(){(a||n)&&u(n)}),[n,a]);var h=Hw(cl.useState((function(){return xS(i)})),2),p=h[0],f=h[1];cl.useEffect((function(){var e=xS(i);f(null!=e?e:null)}));var m=function(e){var t=Hw(cl.useState((function(){return Vw()?document.createElement("div"):null})),1)[0],n=cl.useRef(!1),r=cl.useContext(iS),i=Hw(cl.useState(oS),2),o=i[0],a=i[1],s=r||(n.current?void 0:function(e){a((function(t){return[e].concat(Bw(t))}))});function l(){t.parentElement||document.body.appendChild(t),n.current=!0}function c(){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t),n.current=!1}return Ww((function(){return e?r?r(l):l():c(),c}),[e]),Ww((function(){o.length&&(o.forEach((function(e){return e()})),a(oS))}),[o]),[t,s]}(d&&!p),g=Hw(m,2),v=g[0],y=g[1],b=null!=p?p:v;bS(r&&n&&Vw()&&(b===v||b===document.body));var x=null;s&&eS(s)&&t&&(x=s.ref);var w=Q_(x,t);if(!d||!Vw()||void 0===p)return null;var _=!1===b||!1,S=s;return t&&(S=cl.cloneElement(s,{ref:w})),cl.createElement(iS.Provider,{value:y},_?S:Au.createPortal(S,b))}));function _S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return ul.Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(_S(e)):Y_(e)&&e.props?n=n.concat(_S(e.props.children,t)):n.push(e))})),n}function SS(e){return e instanceof HTMLElement||e instanceof SVGElement}function ES(e){var t,n=function(e){return e&&"object"===hl(e)&&SS(e.nativeElement)?e.nativeElement:SS(e)?e:null}(e);return n||(e instanceof ul.Component?null===(t=Ou.findDOMNode)||void 0===t?void 0:t.call(Ou,e):null)}var kS=cl.createContext(null);var MS=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),CS="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,TS="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),LS="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(TS):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var AS=["top","right","bottom","left","width","height","size","weight"],OS="undefined"!=typeof MutationObserver,PS=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){LS(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){CS&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),OS?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){CS&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;AS.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),RS=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},IS=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||TS},NS=$S(0,0,0,0);function jS(e){return parseFloat(e)||0}function zS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+jS(e["border-"+n+"-width"])}),0)}function DS(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return NS;var r=IS(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=jS(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=jS(r.width),l=jS(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=zS(r,"left","right")+o),Math.round(l+a)!==n&&(l-=zS(r,"top","bottom")+a)),!function(e){return e===IS(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return $S(i.left,i.top,s,l)}var BS="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof IS(e).SVGGraphicsElement}:function(e){return e instanceof IS(e).SVGElement&&"function"==typeof e.getBBox};function FS(e){return CS?BS(e)?function(e){var t=e.getBBox();return $S(0,0,t.width,t.height)}(e):DS(e):NS}function $S(e,t,n,r){return{x:e,y:t,width:n,height:r}}var HS=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$S(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=FS(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),US=function(){return function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return RS(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);RS(this,{target:e,contentRect:n})}}(),VS=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new MS,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof IS(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new HS(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof IS(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new US(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),GS="undefined"!=typeof WeakMap?new WeakMap:new MS,WS=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=PS.getInstance(),r=new VS(t,n,this);GS.set(this,r)}}();["observe","unobserve","disconnect"].forEach((function(e){WS.prototype[e]=function(){var t;return(t=GS.get(this))[e].apply(t,arguments)}}));var qS=void 0!==TS.ResizeObserver?TS.ResizeObserver:WS,XS=new Map;var YS=new qS((function(e){e.forEach((function(e){var t,n=e.target;null===(t=XS.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function JS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pl(r.key),r)}}function ZS(e,t,n){return t&&KS(e.prototype,t),n&&KS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QS(e,t){return(QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QS(e,t)}function tE(e){return(tE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nE=function(){return!!e})()}function rE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iE(e){var t=nE();return function(){var n,r=tE(e);if(t){var i=tE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==hl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rE(e)}(this,n)}}var oE=function(){eE(t,cl.Component);var e=iE(t);function t(){return JS(this,t),e.apply(this,arguments)}return ZS(t,[{key:"render",value:function(){return this.props.children}}]),t}();function aE(e,t){var n=e.children,r=e.disabled,i=cl.useRef(null),o=cl.useRef(null),a=cl.useContext(kS),s="function"==typeof n,l=s?n(i):n,c=cl.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&cl.isValidElement(l)&&eS(l),d=u?nS(l):null,h=Q_(d,i),p=function(){var e;return ES(i.current)||(i.current&&"object"===hl(i.current)?ES(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||ES(o.current)};cl.useImperativeHandle(t,(function(){return p()}));var f=cl.useRef(e);f.current=e;var m=cl.useCallback((function(e){var t=f.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,l=e.offsetWidth,u=e.offsetHeight,d=Math.floor(o),h=Math.floor(s);if(c.current.width!==d||c.current.height!==h||c.current.offsetWidth!==l||c.current.offsetHeight!==u){var p={width:d,height:h,offsetWidth:l,offsetHeight:u};c.current=p;var m=l===Math.round(o)?o:l,g=u===Math.round(s)?s:u,v=gl(gl({},p),{},{offsetWidth:m,offsetHeight:g});null==a||a(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return cl.useEffect((function(){var e,t,n=p();return n&&!r&&(e=n,t=m,XS.has(e)||(XS.set(e,new Set),YS.observe(e)),XS.get(e).add(t)),function(){return function(e,t){XS.has(e)&&(XS.get(e).delete(t),XS.get(e).size||(YS.unobserve(e),XS.delete(e)))}(n,m)}}),[i.current,r]),cl.createElement(oE,{ref:o},u?cl.cloneElement(l,{ref:h}):l)}var sE=cl.forwardRef(aE);function lE(e,t){var n=e.children;return("function"==typeof n?[n]:_S(n)).map((function(n,r){var i=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return cl.createElement(sE,r_({},e,{key:i,ref:0===r?t:void 0}),n)}))}var cE=cl.forwardRef(lE);function uE(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function dE(e){return function(e){return uE(e)instanceof ShadowRoot}(e)?uE(e):null}cE.Collection=function(e){var t=e.children,n=e.onBatchResize,r=cl.useRef(0),i=cl.useRef([]),o=cl.useContext(kS),a=cl.useCallback((function(e,t,a){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:a}),Promise.resolve().then((function(){s===r.current&&(null==n||n(i.current),i.current=[])})),null==o||o(e,t,a)}),[n,o]);return cl.createElement(kS.Provider,{value:a},t)};var hE=0,pE=gl({},dl).useId;const fE=pE?function(e){var t=pE();return e||t}:function(e){var t=Hw(cl.useState("ssr-id"),2),n=t[0],r=t[1];return cl.useEffect((function(){var e=hE;hE+=1,r("rc_unique_".concat(e))}),[]),e||n};var mE=["children"],gE=cl.createContext({});function vE(e){var t=e.children,n=i_(e,mE);return cl.createElement(gE.Provider,{value:n},t)}var yE=function(){eE(t,cl.Component);var e=iE(t);function t(){return JS(this,t),e.apply(this,arguments)}return ZS(t,[{key:"render",value:function(){return this.props.children}}]),t}();function bE(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null==n)return;n=n[t[r]]}return n}function xE(e,t,n,r){if(!t.length)return n;var i,o,a=Fw(i=t)||zw(i)||Dw(i)||$w(),s=a[0],l=a.slice(1);return o=e||"number"!=typeof s?Array.isArray(e)?Bw(e):gl({},e):[],r&&void 0===n&&1===l.length?delete o[s][l[0]]:o[s]=xE(o[s],l,n,r),o}function wE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!bE(e,t.slice(0,-1))?e:xE(e,t,n,r)}function _E(e){return Array.isArray(e)?[]:{}}var SE="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;function EE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=_E(t[0]);return t.forEach((function(e){!function t(n,i){var o=new Set(i),a=bE(e,n),s=Array.isArray(a);if(s||function(e){return"object"===hl(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}(a)){if(!o.has(a)){o.add(a);var l=bE(r,n);s?r=wE(r,n,[]):l&&"object"===hl(l)||(r=wE(r,n,_E(a))),SE(a).forEach((function(e){t([].concat(Bw(n),[e]),o)}))}}else r=wE(r,n,a)}([])})),r}var kE="none",ME="appear",CE="enter",TE="leave",LE="none",AE="prepare",OE="start",PE="active",RE="end",IE="prepared";function NE(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var jE,zE,DE,BE=(jE=Vw(),zE="undefined"!=typeof window?window:{},DE={animationend:NE("Animation","AnimationEnd"),transitionend:NE("Transition","TransitionEnd")},jE&&("AnimationEvent"in zE||delete DE.animationend.animation,"TransitionEvent"in zE||delete DE.transitionend.transition),DE),FE={};if(Vw()){var $E=document.createElement("div");FE=$E.style}var HE={};function UE(e){if(HE[e])return HE[e];var t=BE[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in FE)return HE[e]=t[o],HE[e]}return""}var VE=UE("animationend"),GE=UE("transitionend"),WE=!(!VE||!GE),qE=VE||"animationend",XE=GE||"transitionend";function YE(e,t){return e?"object"===hl(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var JE=Vw()?cl.useLayoutEffect:cl.useEffect;var KE=[AE,OE,PE,RE],ZE=[AE,IE],QE=!1;function ek(e){return e===PE||e===RE}const tk=function(e,t,n){var r=Hw(Xw(LE),2),i=r[0],o=r[1],a=function(){var e=cl.useRef(null);function t(){D_.cancel(e.current)}return cl.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=D_((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),s=Hw(a,2),l=s[0],c=s[1];var u=t?ZE:KE;return JE((function(){if(i!==LE&&i!==RE){var e=u.indexOf(i),t=u[e+1],r=n(i);r===QE?o(t,!0):t&&l((function(e){function n(){e.isCanceled()||o(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),cl.useEffect((function(){return function(){c()}}),[]),[function(){o(AE,!0)},i]};function nk(e,t,n,r){var i,o,a,s,l=r.motionEnter,c=void 0===l||l,u=r.motionAppear,d=void 0===u||u,h=r.motionLeave,p=void 0===h||h,f=r.motionDeadline,m=r.motionLeaveImmediately,g=r.onAppearPrepare,v=r.onEnterPrepare,y=r.onLeavePrepare,b=r.onAppearStart,x=r.onEnterStart,w=r.onLeaveStart,_=r.onAppearActive,S=r.onEnterActive,E=r.onLeaveActive,k=r.onAppearEnd,M=r.onEnterEnd,C=r.onLeaveEnd,T=r.onVisibleChanged,L=Hw(Xw(),2),A=L[0],O=L[1],P=(i=kE,o=cl.useReducer((function(e){return e+1}),0),a=Hw(o,2)[1],s=cl.useRef(i),[Uw((function(){return s.current})),Uw((function(e){s.current="function"==typeof e?e(s.current):e,a()}))]),R=Hw(P,2),I=R[0],N=R[1],j=Hw(Xw(null),2),z=j[0],D=j[1],B=I(),F=cl.useRef(!1),$=cl.useRef(null);function H(){return n()}var U=cl.useRef(!1);function V(){N(kE),D(null,!0)}var G=Uw((function(e){var t=I();if(t!==kE){var n=H();if(!e||e.deadline||e.target===n){var r,i=U.current;t===ME&&i?r=null==k?void 0:k(n,e):t===CE&&i?r=null==M?void 0:M(n,e):t===TE&&i&&(r=null==C?void 0:C(n,e)),i&&!1!==r&&V()}}})),W=function(e){var t=cl.useRef();function n(t){t&&(t.removeEventListener(XE,e),t.removeEventListener(qE,e))}return cl.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(XE,e),r.addEventListener(qE,e),t.current=r)},n]}(G),q=Hw(W,1)[0],X=function(e){switch(e){case ME:return fl(fl(fl({},AE,g),OE,b),PE,_);case CE:return fl(fl(fl({},AE,v),OE,x),PE,S);case TE:return fl(fl(fl({},AE,y),OE,w),PE,E);default:return{}}},Y=cl.useMemo((function(){return X(B)}),[B]),J=Hw(tk(B,!e,(function(e){if(e===AE){var t=Y[AE];return t?t(H()):QE}var n;Z in Y&&D((null===(n=Y[Z])||void 0===n?void 0:n.call(Y,H(),null))||null);return Z===PE&&B!==kE&&(q(H()),f>0&&(clearTimeout($.current),$.current=setTimeout((function(){G({deadline:!0})}),f))),Z===IE&&V(),true})),2),K=J[0],Z=J[1],Q=ek(Z);U.current=Q;var ee=cl.useRef(null);JE((function(){if(!F.current||ee.current!==t){O(t);var n,r=F.current;F.current=!0,!r&&t&&d&&(n=ME),r&&t&&c&&(n=CE),(r&&!t&&p||!r&&m&&!t&&p)&&(n=TE);var i=X(n);n&&(e||i[AE])?(N(n),K()):N(kE),ee.current=t}}),[t]),cl.useEffect((function(){(B===ME&&!d||B===CE&&!c||B===TE&&!p)&&N(kE)}),[d,c,p]),cl.useEffect((function(){return function(){F.current=!1,clearTimeout($.current)}}),[]);var te=cl.useRef(!1);cl.useEffect((function(){A&&(te.current=!0),void 0!==A&&B===kE&&((te.current||A)&&(null==T||T(A)),te.current=!0)}),[A,B]);var ne=z;return Y[AE]&&Z===OE&&(ne=gl({transition:"none"},ne)),[B,Z,ne,null!=A?A:t]}const rk=function(e){var t=e;"object"===hl(e)&&(t=e.transitionSupport);var n=cl.forwardRef((function(e,n){var r=e.visible,i=void 0===r||r,o=e.removeOnLeave,a=void 0===o||o,s=e.forceRender,l=e.children,c=e.motionName,u=e.leavedClassName,d=e.eventProps,h=function(e,n){return!(!e.motionName||!t||!1===n)}(e,cl.useContext(gE).motion),p=cl.useRef(),f=cl.useRef();var m=Hw(nk(h,i,(function(){try{return p.current instanceof HTMLElement?p.current:ES(f.current)}catch(gG){return null}}),e),4),g=m[0],v=m[1],y=m[2],b=m[3],x=cl.useRef(b);b&&(x.current=!0);var w,_=cl.useCallback((function(e){p.current=e,K_(n,e)}),[n]),S=gl(gl({},d),{},{visible:i});if(l)if(g===kE)w=b?l(gl({},S),_):!a&&x.current&&u?l(gl(gl({},S),{},{className:u}),_):s||!a&&!u?l(gl(gl({},S),{},{style:{display:"none"}}),_):null;else{var E;v===AE?E="prepare":ek(v)?E="active":v===OE&&(E="start");var k=YE(c,"".concat(g,"-").concat(E));w=l(gl(gl({},S),{},{className:Db(YE(c,g),fl(fl({},k,k&&E),c,"string"==typeof c)),style:y}),_)}else w=null;cl.isValidElement(w)&&eS(w)&&(nS(w)||(w=cl.cloneElement(w,{ref:_})));return cl.createElement(yE,{ref:f},w)}));return n.displayName="CSSMotion",n}(WE);var ik="add",ok="keep",ak="remove",sk="removed";function lk(e){var t;return gl(gl({},t=e&&"object"===hl(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function ck(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(lk)}var uk=["component","children","onVisibleChanged","onAllRemoved"],dk=["status"],hk=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const pk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rk,n=function(){eE(n,cl.Component);var e=iE(n);function n(){var t;JS(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fl(rE(t=e.call.apply(e,[this].concat(i))),"state",{keyEntities:[]}),fl(rE(t),"removeKey",(function(e){t.setState((function(t){return{keyEntities:t.keyEntities.map((function(t){return t.key!==e?t:gl(gl({},t),{},{status:sk})}))}}),(function(){0===t.state.keyEntities.filter((function(e){return e.status!==sk})).length&&t.props.onAllRemoved&&t.props.onAllRemoved()}))})),t}return ZS(n,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,o=r.children,a=r.onVisibleChanged;r.onAllRemoved;var s=i_(r,uk),l=i||cl.Fragment,c={};return hk.forEach((function(e){c[e]=s[e],delete s[e]})),delete s.keys,cl.createElement(l,s,n.map((function(n,r){var i=n.status,s=i_(n,dk),l=i===ik||i===ok;return cl.createElement(t,r_({},c,{key:s.key,visible:l,eventProps:s,onVisibleChanged:function(t){null==a||a(t,{key:s.key}),t||e.removeKey(s.key)}}),(function(e,t){return o(gl(gl({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=ck(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=ck(e),a=ck(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return gl(gl({},e),{},{status:ik})}))),r=o),n.push(gl(gl({},s),{},{status:ok})),r+=1,t=!0;break}}t||n.push(gl(gl({},e),{},{status:ak}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return gl(gl({},e),{},{status:ik})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==ak}))).forEach((function(t){t.key===e&&(t.status=ok)}))})),n}(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==sk||e.status!==ak}))}}}]),n}();return fl(n,"defaultProps",{component:"div"}),n}(WE);function fk(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,o=r||{},a=o.className,s=o.content,l=i.x,c=void 0===l?0:l,u=i.y,d=void 0===u?0:u,h=cl.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(!1!==n.autoArrow){var f=n.points[0],m=n.points[1],g=f[0],v=f[1],y=m[0],b=m[1];g!==y&&["t","b"].includes(g)?"t"===g?p.top=0:p.bottom=0:p.top=d,v!==b&&["l","r"].includes(v)?"l"===v?p.left=0:p.right=0:p.left=c}return cl.createElement("div",{ref:h,className:Db("".concat(t,"-arrow"),a),style:p},s)}function mk(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,o=e.motion;return i?cl.createElement(rk,r_({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return cl.createElement("div",{style:{zIndex:r},className:Db("".concat(t,"-mask"),n)})})):null}var gk=cl.memo((function(e){return e.children}),(function(e,t){return t.cache})),vk=cl.forwardRef((function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,o=e.style,a=e.target,s=e.onVisibleChanged,l=e.open,c=e.keepDom,u=e.fresh,d=e.onClick,h=e.mask,p=e.arrow,f=e.arrowPos,m=e.align,g=e.motion,v=e.maskMotion,y=e.forceRender,b=e.getPopupContainer,x=e.autoDestroy,w=e.portal,_=e.zIndex,S=e.onMouseEnter,E=e.onMouseLeave,k=e.onPointerEnter,M=e.onPointerDownCapture,C=e.ready,T=e.offsetX,L=e.offsetY,A=e.offsetR,O=e.offsetB,P=e.onAlign,R=e.onPrepare,I=e.stretch,N=e.targetWidth,j=e.targetHeight,z="function"==typeof n?n():n,D=l||c,B=(null==b?void 0:b.length)>0,F=Hw(cl.useState(!b||!B),2),$=F[0],H=F[1];if(Ww((function(){!$&&B&&a&&H(!0)}),[$,B,a]),!$)return null;var U="auto",V={left:"-1000vw",top:"-1000vh",right:U,bottom:U};if(C||!l){var G,W=m.points,q=m.dynamicInset||(null===(G=m._experimental)||void 0===G?void 0:G.dynamicInset),X=q&&"r"===W[0][1],Y=q&&"b"===W[0][0];X?(V.right=A,V.left=U):(V.left=T,V.right=U),Y?(V.bottom=O,V.top=U):(V.top=L,V.bottom=U)}var J={};return I&&(I.includes("height")&&j?J.height=j:I.includes("minHeight")&&j&&(J.minHeight=j),I.includes("width")&&N?J.width=N:I.includes("minWidth")&&N&&(J.minWidth=N)),l||(J.pointerEvents="none"),cl.createElement(w,{open:y||D,getContainer:b&&function(){return b(a)},autoDestroy:x},cl.createElement(mk,{prefixCls:i,open:l,zIndex:_,mask:h,motion:v}),cl.createElement(cE,{onResize:P,disabled:!l},(function(e){return cl.createElement(rk,r_({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(i,"-hidden")},g,{onAppearPrepare:R,onEnterPrepare:R,visible:l,onVisibleChanged:function(e){var t;null==g||null===(t=g.onVisibleChanged)||void 0===t||t.call(g,e),s(e)}}),(function(n,a){var s=n.className,c=n.style,h=Db(i,s,r);return cl.createElement("div",{ref:Z_(e,t,a),className:h,style:gl(gl(gl(gl({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},V),J),c),{},{boxSizing:"border-box",zIndex:_},o),onMouseEnter:S,onMouseLeave:E,onPointerEnter:k,onClick:d,onPointerDownCapture:M},p&&cl.createElement(fk,{prefixCls:i,arrow:p,arrowPos:f,align:m}),cl.createElement(gk,{cache:!l&&!u},z))}))})))})),yk=cl.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=eS(n),o=cl.useCallback((function(e){K_(t,r?r(e):e)}),[r]),a=Q_(o,nS(n));return i?cl.cloneElement(n,{ref:a}):n})),bk=cl.createContext(null);function xk(e){return e?Array.isArray(e)?e:[e]:[]}function wk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function _k(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Sk(e){return e.ownerDocument.defaultView}function Ek(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=Sk(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function kk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Mk(e){return kk(parseFloat(e),0)}function Ck(e,t){var n=gl({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Sk(e).getComputedStyle(e),r=t.overflow,i=t.overflowClipMargin,o=t.borderTopWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,h=e.offsetWidth,p=e.clientWidth,f=Mk(o),m=Mk(a),g=Mk(s),v=Mk(l),y=kk(Math.round(c.width/h*1e3)/1e3),b=kk(Math.round(c.height/u*1e3)/1e3),x=(h-p-g-v)*y,w=(u-d-f-m)*b,_=f*b,S=m*b,E=g*y,k=v*y,M=0,C=0;if("clip"===r){var T=Mk(i);M=T*y,C=T*b}var L=c.x+E-M,A=c.y+_-C,O=L+c.width+2*M-E-k-x,P=A+c.height+2*C-_-S-w;n.left=Math.max(n.left,L),n.top=Math.max(n.top,A),n.right=Math.min(n.right,O),n.bottom=Math.min(n.bottom,P)}})),n}function Tk(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Lk(e,t){var n=Hw(t||[],2),r=n[0],i=n[1];return[Tk(e.width,r),Tk(e.height,i)]}function Ak(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Ok(e,t){var n,r=t[0],i=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===i?e.x:"r"===i?e.x+e.width:e.x+e.width/2,y:n}}function Pk(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}function Rk(e,t,n,r,i,o,a){var s=Hw(cl.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),2),l=s[0],c=s[1],u=cl.useRef(0),d=cl.useMemo((function(){return t?Ek(t):[]}),[t]),h=cl.useRef({});e||(h.current={});var p=Uw((function(){if(t&&n&&e){let e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K,r=O.x+e,i=O.y+t,o=r+F,a=i+B,s=Math.max(r,n.left),l=Math.max(i,n.top),c=Math.min(o,n.right),u=Math.min(a,n.bottom);return Math.max(0,(c-s)*(u-l))},dt=function(){ue=O.y+_e,de=ue+B,he=O.x+we,pe=he+F};var s,l,u,p,f,m=t,g=m.ownerDocument,v=Sk(m).getComputedStyle(m),y=v.width,b=v.height,x=v.position,w=m.style.left,_=m.style.top,S=m.style.right,E=m.style.bottom,k=m.style.overflow,M=gl(gl({},i[r]),o),C=g.createElement("div");if(null===(s=m.parentElement)||void 0===s||s.appendChild(C),C.style.left="".concat(m.offsetLeft,"px"),C.style.top="".concat(m.offsetTop,"px"),C.style.position=x,C.style.height="".concat(m.offsetHeight,"px"),C.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))f={x:n[0],y:n[1],width:0,height:0};else{var T,L,A=n.getBoundingClientRect();A.x=null!==(T=A.x)&&void 0!==T?T:A.left,A.y=null!==(L=A.y)&&void 0!==L?L:A.top,f={x:A.x,y:A.y,width:A.width,height:A.height}}var O=m.getBoundingClientRect();O.x=null!==(l=O.x)&&void 0!==l?l:O.left,O.y=null!==(u=O.y)&&void 0!==u?u:O.top;var P=g.documentElement,R=P.clientWidth,I=P.clientHeight,N=P.scrollWidth,j=P.scrollHeight,z=P.scrollTop,D=P.scrollLeft,B=O.height,F=O.width,$=f.height,H=f.width,U={left:0,top:0,right:R,bottom:I},V={left:-D,top:-z,right:N-D,bottom:j-z},G=M.htmlRegion,W="visible",q="visibleFirst";"scroll"!==G&&G!==q&&(G=W);var X=G===q,Y=Ck(V,d),J=Ck(U,d),K=G===W?J:Y,Z=X?J:K;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var Q=m.getBoundingClientRect();m.style.left=w,m.style.top=_,m.style.right=S,m.style.bottom=E,m.style.overflow=k,null===(p=m.parentElement)||void 0===p||p.removeChild(C);var ee=kk(Math.round(F/parseFloat(y)*1e3)/1e3),te=kk(Math.round(B/parseFloat(b)*1e3)/1e3);if(0===ee||0===te||SS(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1}(n))return;var ne=M.offset,re=M.targetOffset,ie=Hw(Lk(O,ne),2),oe=ie[0],ae=ie[1],se=Hw(Lk(f,re),2),le=se[0],ce=se[1];f.x-=le,f.y-=ce;var ue,de,he,pe,fe=Hw(M.points||[],2),me=fe[0],ge=Ak(fe[1]),ve=Ak(me),ye=Ok(f,ge),be=Ok(O,ve),xe=gl({},M),we=ye.x-be.x+oe,_e=ye.y-be.y+ae,Se=e(we,_e),Ee=e(we,_e,J),ke=Ok(f,["t","l"]),Me=Ok(O,["t","l"]),Ce=Ok(f,["b","r"]),Te=Ok(O,["b","r"]),Le=M.overflow||{},Ae=Le.adjustX,Oe=Le.adjustY,Pe=Le.shiftX,Re=Le.shiftY,Ie=function(e){return"boolean"==typeof e?e:e>=0};dt();var Ne=Ie(Oe),je=ve[0]===ge[0];if(Ne&&"t"===ve[0]&&(de>Z.bottom||h.current.bt)){var ze=_e;je?ze-=B-$:ze=ke.y-Te.y-ae;var De=e(we,ze),Be=e(we,ze,J);De>Se||De===Se&&(!X||Be>=Ee)?(h.current.bt=!0,_e=ze,ae=-ae,xe.points=[Pk(ve,0),Pk(ge,0)]):h.current.bt=!1}if(Ne&&"b"===ve[0]&&(ue<Z.top||h.current.tb)){var Fe=_e;je?Fe+=B-$:Fe=Ce.y-Me.y-ae;var $e=e(we,Fe),He=e(we,Fe,J);$e>Se||$e===Se&&(!X||He>=Ee)?(h.current.tb=!0,_e=Fe,ae=-ae,xe.points=[Pk(ve,0),Pk(ge,0)]):h.current.tb=!1}var Ue=Ie(Ae),Ve=ve[1]===ge[1];if(Ue&&"l"===ve[1]&&(pe>Z.right||h.current.rl)){var Ge=we;Ve?Ge-=F-H:Ge=ke.x-Te.x-oe;var We=e(Ge,_e),qe=e(Ge,_e,J);We>Se||We===Se&&(!X||qe>=Ee)?(h.current.rl=!0,we=Ge,oe=-oe,xe.points=[Pk(ve,1),Pk(ge,1)]):h.current.rl=!1}if(Ue&&"r"===ve[1]&&(he<Z.left||h.current.lr)){var Xe=we;Ve?Xe+=F-H:Xe=Ce.x-Me.x-oe;var Ye=e(Xe,_e),Je=e(Xe,_e,J);Ye>Se||Ye===Se&&(!X||Je>=Ee)?(h.current.lr=!0,we=Xe,oe=-oe,xe.points=[Pk(ve,1),Pk(ge,1)]):h.current.lr=!1}dt();var Ke=!0===Pe?0:Pe;"number"==typeof Ke&&(he<J.left&&(we-=he-J.left-oe,f.x+H<J.left+Ke&&(we+=f.x-J.left+H-Ke)),pe>J.right&&(we-=pe-J.right-oe,f.x>J.right-Ke&&(we+=f.x-J.right+Ke)));var Ze=!0===Re?0:Re;"number"==typeof Ze&&(ue<J.top&&(_e-=ue-J.top-ae,f.y+$<J.top+Ze&&(_e+=f.y-J.top+$-Ze)),de>J.bottom&&(_e-=de-J.bottom-ae,f.y>J.bottom-Ze&&(_e+=f.y-J.bottom+Ze)));var Qe=O.x+we,et=Qe+F,tt=O.y+_e,nt=tt+B,rt=f.x,it=rt+H,ot=f.y,at=ot+$,st=(Math.max(Qe,rt)+Math.min(et,it))/2-Qe,lt=(Math.max(tt,ot)+Math.min(nt,at))/2-tt;null==a||a(t,xe);var ct=Q.right-O.x-(we+O.width),ut=Q.bottom-O.y-(_e+O.height);1===ee&&(we=Math.round(we),ct=Math.round(ct)),1===te&&(_e=Math.round(_e),ut=Math.round(ut)),c({ready:!0,offsetX:we/ee,offsetY:_e/te,offsetR:ct/ee,offsetB:ut/te,arrowX:st/ee,arrowY:lt/te,scaleX:ee,scaleY:te,align:xe})}})),f=function(){c((function(e){return gl(gl({},e),{},{ready:!1})}))};return Ww(f,[r]),Ww((function(){e||f()}),[e]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,function(){u.current+=1;var e=u.current;Promise.resolve().then((function(){u.current===e&&p()}))}]}var Ik=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Nk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS,t=cl.forwardRef((function(t,n){var r=t.prefixCls,i=void 0===r?"rc-trigger-popup":r,o=t.children,a=t.action,s=void 0===a?"hover":a,l=t.showAction,c=t.hideAction,u=t.popupVisible,d=t.defaultPopupVisible,h=t.onPopupVisibleChange,p=t.afterPopupVisibleChange,f=t.mouseEnterDelay,m=t.mouseLeaveDelay,g=void 0===m?.1:m,v=t.focusDelay,y=t.blurDelay,b=t.mask,x=t.maskClosable,w=void 0===x||x,_=t.getPopupContainer,S=t.forceRender,E=t.autoDestroy,k=t.destroyPopupOnHide,M=t.popup,C=t.popupClassName,T=t.popupStyle,L=t.popupPlacement,A=t.builtinPlacements,O=void 0===A?{}:A,P=t.popupAlign,R=t.zIndex,I=t.stretch,N=t.getPopupClassNameFromAlign,j=t.fresh,z=t.alignPoint,D=t.onPopupClick,B=t.onPopupAlign,F=t.arrow,$=t.popupMotion,H=t.maskMotion,U=t.popupTransitionName,V=t.popupAnimation,G=t.maskTransitionName,W=t.maskAnimation,q=t.className,X=t.getTriggerDOMNode,Y=i_(t,Ik),J=E||k||!1,K=Hw(cl.useState(!1),2),Z=K[0],Q=K[1];Ww((function(){Q(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())}),[]);var ee=cl.useRef({}),te=cl.useContext(bk),ne=cl.useMemo((function(){return{registerSubPopup:function(e,t){ee.current[e]=t,null==te||te.registerSubPopup(e,t)}}}),[te]),re=fE(),ie=Hw(cl.useState(null),2),oe=ie[0],ae=ie[1],se=cl.useRef(null),le=Uw((function(e){se.current=e,SS(e)&&oe!==e&&ae(e),null==te||te.registerSubPopup(re,e)})),ce=Hw(cl.useState(null),2),ue=ce[0],de=ce[1],he=cl.useRef(null),pe=Uw((function(e){SS(e)&&ue!==e&&(de(e),he.current=e)})),fe=cl.Children.only(o),me=(null==fe?void 0:fe.props)||{},ge={},ve=Uw((function(e){var t,n,r=ue;return(null==r?void 0:r.contains(e))||(null===(t=dE(r))||void 0===t?void 0:t.host)===e||e===r||(null==oe?void 0:oe.contains(e))||(null===(n=dE(oe))||void 0===n?void 0:n.host)===e||e===oe||Object.values(ee.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),ye=_k(i,$,V,U),be=_k(i,H,W,G),xe=Hw(cl.useState(d||!1),2),we=xe[0],_e=xe[1],Se=null!=u?u:we,Ee=Uw((function(e){void 0===u&&_e(e)}));Ww((function(){_e(u||!1)}),[u]);var ke=cl.useRef(Se);ke.current=Se;var Me=cl.useRef([]);Me.current=[];var Ce=Uw((function(e){var t;Ee(e),(null!==(t=Me.current[Me.current.length-1])&&void 0!==t?t:Se)!==e&&(Me.current.push(e),null==h||h(e))})),Te=cl.useRef(),Le=function(){clearTimeout(Te.current)},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Le(),0===t?Ce(e):Te.current=setTimeout((function(){Ce(e)}),1e3*t)};cl.useEffect((function(){return Le}),[]);var Oe=Hw(cl.useState(!1),2),Pe=Oe[0],Re=Oe[1];Ww((function(e){e&&!Se||Re(!0)}),[Se]);var Ie=Hw(cl.useState(null),2),Ne=Ie[0],je=Ie[1],ze=Hw(cl.useState(null),2),De=ze[0],Be=ze[1],Fe=function(e){Be([e.clientX,e.clientY])},$e=Hw(Rk(Se,oe,z&&null!==De?De:ue,L,O,P,B),11),He=$e[0],Ue=$e[1],Ve=$e[2],Ge=$e[3],We=$e[4],qe=$e[5],Xe=$e[6],Ye=$e[7],Je=$e[8],Ke=$e[9],Ze=$e[10],Qe=function(e,t,n,r){return cl.useMemo((function(){var i=xk(null!=n?n:t),o=xk(null!=r?r:t),a=new Set(i),s=new Set(o);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]}),[e,t,n,r])}(Z,s,l,c),et=Hw(Qe,2),tt=et[0],nt=et[1],rt=tt.has("click"),it=nt.has("click")||nt.has("contextMenu"),ot=Uw((function(){Pe||Ze()}));!function(e,t,n,r,i){Ww((function(){if(e&&t&&n){let e=function(){r(),i()};var o=n,a=Ek(t),s=Ek(o),l=Sk(o),c=new Set([l].concat(Bw(a),Bw(s)));return c.forEach((function(t){t.addEventListener("scroll",e,{passive:!0})})),l.addEventListener("resize",e,{passive:!0}),r(),function(){c.forEach((function(t){t.removeEventListener("scroll",e),l.removeEventListener("resize",e)}))}}}),[e,t,n])}(Se,ue,oe,ot,(function(){ke.current&&z&&it&&Ae(!1)})),Ww((function(){ot()}),[De,L]),Ww((function(){!Se||null!=O&&O[L]||ot()}),[JSON.stringify(P)]);var at=cl.useMemo((function(){var e=function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s,l=o[a];if(wk(null===(s=e[l])||void 0===s?void 0:s.points,i,r))return"".concat(t,"-placement-").concat(l)}return""}(O,i,Ke,z);return Db(e,null==N?void 0:N(Ke))}),[Ke,N,O,i,z]);cl.useImperativeHandle(n,(function(){return{nativeElement:he.current,popupElement:se.current,forceAlign:ot}}));var st=Hw(cl.useState(0),2),lt=st[0],ct=st[1],ut=Hw(cl.useState(0),2),dt=ut[0],ht=ut[1],pt=function(){if(I&&ue){var e=ue.getBoundingClientRect();ct(e.width),ht(e.height)}};function ft(e,t,n,r){ge[e]=function(i){var o;null==r||r(i),Ae(t,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];null===(o=me[e])||void 0===o||o.call.apply(o,[me,i].concat(s))}}Ww((function(){Ne&&(Ze(),Ne(),je(null))}),[Ne]),(rt||it)&&(ge.onClick=function(e){var t;ke.current&&it?Ae(!1):!ke.current&&rt&&(Fe(e),Ae(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=me.onClick)||void 0===t||t.call.apply(t,[me,e].concat(r))});var mt,gt,vt=function(e,t,n,r,i,o,a,s){var l=cl.useRef(e);l.current=e;var c=cl.useRef(!1);return cl.useEffect((function(){if(t&&r&&(!i||o)){var e=function(){c.current=!1},u=function(e){var t;!l.current||a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||c.current||s(!1)},d=Sk(r);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",u,!0),d.addEventListener("contextmenu",u,!0);var h=dE(n);return h&&(h.addEventListener("mousedown",u,!0),h.addEventListener("contextmenu",u,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",u,!0),d.removeEventListener("contextmenu",u,!0),h&&(h.removeEventListener("mousedown",u,!0),h.removeEventListener("contextmenu",u,!0))}}}),[t,n,r,i,o]),function(){c.current=!0}}(Se,it,ue,oe,b,w,ve,Ae),yt=tt.has("hover"),bt=nt.has("hover");yt&&(ft("onMouseEnter",!0,f,(function(e){Fe(e)})),ft("onPointerEnter",!0,f,(function(e){Fe(e)})),mt=function(e){(Se||Pe)&&null!=oe&&oe.contains(e.target)&&Ae(!0,f)},z&&(ge.onMouseMove=function(e){var t;null===(t=me.onMouseMove)||void 0===t||t.call(me,e)})),bt&&(ft("onMouseLeave",!1,g),ft("onPointerLeave",!1,g),gt=function(){Ae(!1,g)}),tt.has("focus")&&ft("onFocus",!0,v),nt.has("focus")&&ft("onBlur",!1,y),tt.has("contextMenu")&&(ge.onContextMenu=function(e){var t;ke.current&&nt.has("contextMenu")?Ae(!1):(Fe(e),Ae(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=me.onContextMenu)||void 0===t||t.call.apply(t,[me,e].concat(r))}),q&&(ge.className=Db(me.className,q));var xt=gl(gl({},me),ge),wt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){Y[e]&&(wt[e]=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=xt[e])||void 0===t||t.call.apply(t,[xt].concat(r)),Y[e].apply(Y,r)})}));var _t=cl.cloneElement(fe,gl(gl({},xt),wt)),St={x:qe,y:Xe},Et=F?gl({},!0!==F?F:{}):null;return cl.createElement(cl.Fragment,null,cl.createElement(cE,{disabled:!Se,ref:pe,onResize:function(){pt(),ot()}},cl.createElement(yk,{getTriggerDOMNode:X},_t)),cl.createElement(bk.Provider,{value:ne},cl.createElement(vk,{portal:e,ref:le,prefixCls:i,popup:M,className:Db(C,at),style:T,target:ue,onMouseEnter:mt,onMouseLeave:gt,onPointerEnter:mt,zIndex:R,open:Se,keepDom:Pe,fresh:j,onClick:D,onPointerDownCapture:vt,mask:b,motion:ye,maskMotion:be,onVisibleChanged:function(e){Re(!1),Ze(),null==p||p(e)},onPrepare:function(){return new Promise((function(e){pt(),je((function(){return e}))}))},forceRender:S,autoDestroy:J,getPopupContainer:_,align:Ke,arrow:Et,arrowPos:St,ready:He,offsetX:Ue,offsetY:Ve,offsetR:Ge,offsetB:We,onAlign:ot,stretch:I,targetWidth:lt/Ye,targetHeight:dt/Je})))}));return t}(wS);var jk={shiftX:64,adjustY:1},zk={adjustX:1,shiftY:!0},Dk=[0,0],Bk={left:{points:["cr","cl"],overflow:zk,offset:[-4,0],targetOffset:Dk},right:{points:["cl","cr"],overflow:zk,offset:[4,0],targetOffset:Dk},top:{points:["bc","tc"],overflow:jk,offset:[0,-4],targetOffset:Dk},bottom:{points:["tc","bc"],overflow:jk,offset:[0,4],targetOffset:Dk},topLeft:{points:["bl","tl"],overflow:jk,offset:[0,-4],targetOffset:Dk},leftTop:{points:["tr","tl"],overflow:zk,offset:[-4,0],targetOffset:Dk},topRight:{points:["br","tr"],overflow:jk,offset:[0,-4],targetOffset:Dk},rightTop:{points:["tl","tr"],overflow:zk,offset:[4,0],targetOffset:Dk},bottomRight:{points:["tr","br"],overflow:jk,offset:[0,4],targetOffset:Dk},rightBottom:{points:["bl","br"],overflow:zk,offset:[4,0],targetOffset:Dk},bottomLeft:{points:["tl","bl"],overflow:jk,offset:[0,4],targetOffset:Dk},leftBottom:{points:["br","bl"],overflow:zk,offset:[-4,0],targetOffset:Dk}},Fk=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],$k=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,o=e.mouseEnterDelay,a=void 0===o?0:o,s=e.mouseLeaveDelay,l=void 0===s?.1:s,c=e.overlayStyle,u=e.prefixCls,d=void 0===u?"rc-tooltip":u,h=e.children,p=e.onVisibleChange,f=e.afterVisibleChange,m=e.transitionName,g=e.animation,v=e.motion,y=e.placement,b=void 0===y?"right":y,x=e.align,w=void 0===x?{}:x,_=e.destroyTooltipOnHide,S=void 0!==_&&_,E=e.defaultVisible,k=e.getTooltipContainer,M=e.overlayInnerStyle;e.arrowContent;var C=e.overlay,T=e.id,L=e.showArrow,A=void 0===L||L,O=e.classNames,P=e.styles,R=i_(e,Fk),I=fE(T),N=cl.useRef(null);cl.useImperativeHandle(t,(function(){return N.current}));var j=gl({},R);"visible"in e&&(j.popupVisible=e.visible);var z,D;return cl.createElement(Nk,r_({popupClassName:Db(n,null==O?void 0:O.root),prefixCls:d,popup:function(){return cl.createElement(rS,{key:"content",prefixCls:d,id:I,bodyClassName:null==O?void 0:O.body,overlayInnerStyle:gl(gl({},M),null==P?void 0:P.body)},C)},action:i,builtinPlacements:Bk,popupPlacement:b,ref:N,popupAlign:w,getPopupContainer:k,onPopupVisibleChange:p,afterPopupVisibleChange:f,popupTransitionName:m,popupAnimation:g,popupMotion:v,defaultPopupVisible:E,autoDestroy:S,mouseLeaveDelay:l,popupStyle:gl(gl({},c),null==P?void 0:P.root),mouseEnterDelay:a,arrow:A},j),(z=cl.Children.only(h),D=gl(gl({},(null==z?void 0:z.props)||{}),{},{"aria-describedby":C?I:null}),cl.cloneElement(h,D)))};const Hk=cl.forwardRef($k);function Uk(){Uk=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:M(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function v(){}function y(){}function b(){}var x={};c(x,a,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(O([])));_&&_!==n&&r.call(_,a)&&(x=_);var S=b.prototype=v.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==hl(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function M(t,n,r){var i=h;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?m:p,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(hl(t)+" is not iterable")}return y.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(k.prototype),c(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Vk(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function Gk(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Vk(o,r,i,a,s,"next",e)}function s(e){Vk(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Wk="RC_FORM_INTERNAL_HOOKS",qk=function(){t_(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Xk=cl.createContext({getFieldValue:qk,getFieldsValue:qk,getFieldError:qk,getFieldWarning:qk,getFieldsError:qk,isFieldsTouched:qk,isFieldTouched:qk,isFieldValidating:qk,isFieldsValidating:qk,resetFields:qk,setFields:qk,setFieldValue:qk,setFieldsValue:qk,validateFields:qk,submit:qk,getInternalHooks:function(){return qk(),{dispatch:qk,initEntityValue:qk,registerField:qk,useSubscribe:qk,setInitialValues:qk,destroyForm:qk,setCallbacks:qk,registerWatch:qk,getFields:qk,setValidateMessages:qk,setPreserve:qk,getInitialValue:qk}}}),Yk=cl.createContext(null);function Jk(e){return null==e?[]:Array.isArray(e)?e:[e]}function Kk(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Zk=Kk();function Qk(e){var t="function"==typeof Map?new Map:void 0;return Qk=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(nE())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&QS(i,n.prototype),i}(e,arguments,tE(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),QS(n,e)},Qk(e)}var eM=/%[sdj%]/g;function tM(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function nM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"==typeof e)return e.apply(null,n);if("string"==typeof e){var a=e.replace(eM,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return a}return e}function rM(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function iM(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var oM=function(){eE(t,Qk(Error));var e=iE(t);function t(n,r){var i;return JS(this,t),fl(rE(i=e.call(this,"Async Validation Error")),"errors",void 0),fl(rE(i),"fields",void 0),i.errors=n,i.fields=r,i}return ZS(t)}();function aM(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,Bw(e[n]||[]))})),t}(e);iM(a,n,(function(e){return r(e),e.length?o(new oM(e,tM(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?o(new oM(u,tM(u))):t(i)};s.length||(r(u),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?iM(r,n,d):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,Bw(e||[])),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function sM(e,t){return function(n){var r;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],function(e){return!(!e||void 0===e.message)}(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function lM(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===hl(r)&&"object"===hl(e[n])?e[n]=gl(gl({},e[n]),r):e[n]=r}return e}var cM,uM="enum",dM=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!rM(t,o||e.type)||r.push(nM(i.messages.required,e.fullField))};var hM=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,pM=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,fM={integer:function(e){return fM.number(e)&&parseInt(e,10)===e},float:function(e){return fM.number(e)&&!fM.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(gG){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===hl(e)&&!fM.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(hM)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(cM)return cM;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:".concat(i.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),s=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(o,"$")),c=function(e){return e&&e.exact?a:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(o).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(o).concat(t(e)),"g")};var u=c.v4().source,d=c.v6().source,h="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return cM=new RegExp("(?:^".concat(h,"$)"),"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(pM)}};const mM={required:dM,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(nM(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)dM(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?fM[o](t)||r.push(nM(i.messages.types[o],e.fullField,e.type)):o&&hl(t)!==e.type&&r.push(nM(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,l=t,c=null,u="number"==typeof t,d="string"==typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(nM(i.messages[c].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(nM(i.messages[c].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(nM(i.messages[c].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(nM(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e[uM]=Array.isArray(e[uM])?e[uM]:[],-1===e[uM].indexOf(t)&&r.push(nM(i.messages[uM],e.fullField,e[uM].join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(nM(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(nM(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};var gM=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t,o)&&!e.required)return n();mM.required(e,t,r,a,i,o),rM(t,o)||mM.type(e,t,r,a,i)}n(a)};const vM={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t,"string")&&!e.required)return n();mM.required(e,t,r,o,i,"string"),rM(t,"string")||(mM.type(e,t,r,o,i),mM.range(e,t,r,o,i),mM.pattern(e,t,r,o,i),!0===e.whitespace&&mM.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&mM.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&(mM.type(e,t,r,o,i),mM.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&mM.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),rM(t)||mM.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&(mM.type(e,t,r,o,i),mM.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&(mM.type(e,t,r,o,i),mM.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();mM.required(e,t,r,o,i,"array"),null!=t&&(mM.type(e,t,r,o,i),mM.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&mM.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i),void 0!==t&&mM.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t,"string")&&!e.required)return n();mM.required(e,t,r,o,i),rM(t,"string")||mM.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t,"date")&&!e.required)return n();var a;if(mM.required(e,t,r,o,i),!rM(t,"date"))a=t instanceof Date?t:new Date(t),mM.type(e,a,r,o,i),a&&mM.range(e,a.getTime(),r,o,i)}n(o)},url:gM,hex:gM,email:gM,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":hl(t);mM.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(rM(t)&&!e.required)return n();mM.required(e,t,r,o,i)}n(o)}};var yM=function(){function e(t){JS(this,e),fl(this,"rules",null),fl(this,"_messages",Zk),this.define(t)}return ZS(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==hl(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))}},{key:"messages",value:function(e){return e&&(this._messages=lM(Kk(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"==typeof i&&(o=i,i={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,r),Promise.resolve(r);if(i.messages){var a=this.messages();a===Zk&&(a=Kk()),lM(a,i.messages),i.messages=a}else i.messages=this.messages();var s={};(i.keys||Object.keys(this.rules)).forEach((function(e){var i=n.rules[e],o=r[e];i.forEach((function(i){var a=i;"function"==typeof a.transform&&(r===t&&(r=gl({},r)),null!=(o=r[e]=a.transform(o))&&(a.type=a.type||(Array.isArray(o)?"array":hl(o)))),(a="function"==typeof a?{validator:a}:gl({},a)).validator=n.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=n.getType(a),s[e]=s[e]||[],s[e].push({rule:a,value:o,source:r,field:e}))}))}));var l={};return aM(s,i,(function(t,n){var o,a=t.rule,s=!("object"!==a.type&&"array"!==a.type||"object"!==hl(a.fields)&&"object"!==hl(a.defaultField));function c(e,t){return gl(gl({},t),{},{fullField:"".concat(a.fullField,".").concat(e),fullFields:a.fullFields?[].concat(Bw(a.fullFields),[e]):[e]})}function u(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],u=Array.isArray(o)?o:[o];!i.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==a.message&&(u=[].concat(a.message));var d=u.map(sM(a,r));if(i.first&&d.length)return l[a.field]=1,n(d);if(s){if(a.required&&!t.value)return void 0!==a.message?d=[].concat(a.message).map(sM(a,r)):i.error&&(d=[i.error(a,nM(i.messages.required,a.field))]),n(d);var h={};a.defaultField&&Object.keys(t.value).map((function(e){h[e]=a.defaultField})),h=gl(gl({},h),t.rule.fields);var p={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];p[e]=n.map(c.bind(null,e))}));var f=new e(p);f.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),f.validate(t.value,t.rule.options||i,(function(e){var t=[];d&&d.length&&t.push.apply(t,Bw(d)),e&&e.length&&t.push.apply(t,Bw(e)),n(t.length?t:null)}))}else n(d)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)o=a.asyncValidator(a,t.value,u,t.source,i);else if(a.validator){try{o=a.validator(a,t.value,u,t.source,i)}catch(p){var d,h;null===(d=(h=console).error)||void 0===d||d.call(h,p),i.suppressValidatorError||setTimeout((function(){throw p}),0),u(p.message)}!0===o?u():!1===o?u("function"==typeof a.message?a.message(a.fullField||a.field):a.message||"".concat(a.fullField||a.field," fails")):o instanceof Array?u(o):o instanceof Error&&u(o.message)}o&&o.then&&o.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){for(var t,n,i=[],a={},s=0;s<e.length;s++)t=e[s],n=void 0,Array.isArray(t)?i=(n=i).concat.apply(n,Bw(t)):i.push(t);i.length?(a=tM(i),o(i,a)):o(null,r)}(e)}),r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!vM.hasOwnProperty(e.type))throw new Error(nM("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?vM.required:vM[this.getType(e)]||void 0}}]),e}();fl(yM,"register",(function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");vM[e]=t})),fl(yM,"warning",(function(){})),fl(yM,"messages",Zk),fl(yM,"validators",vM);var bM="'${name}' is not a valid ${type}",xM={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:bM,method:bM,array:bM,object:bM,number:bM,date:bM,boolean:bM,integer:bM,float:bM,regexp:bM,email:bM,url:bM,hex:bM},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},wM=yM;function _M(e,t){return e.replace(/\\?\$\{\w+\}/g,(function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]}))}var SM="CODE_LOGIC_ERROR";function EM(e,t,n,r,i){return kM.apply(this,arguments)}function kM(){return kM=Gk(Uk().mark((function e(t,n,r,i,o){var a,s,l,c,u,d,h,p,f;return Uk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=gl({},r)).ruleIndex,wM.warning=function(){},a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(SM)}}),l=null,a&&"array"===a.type&&a.defaultField&&(l=a.defaultField,delete a.defaultField),c=new wM(fl({},t,[a])),u=EE(xM,i.validateMessages),c.messages(u),d=[],e.prev=10,e.next=13,Promise.resolve(c.validate(fl({},t,n),gl({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(d=e.t0.errors.map((function(e,t){var n=e.message,r=n===SM?u.default:n;return cl.isValidElement(r)?cl.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(d.length||!l){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return EM("".concat(t,".").concat(n),e,l,i,o)})));case 21:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat(Bw(e),Bw(t))}),[]));case 23:return p=gl(gl({},r),{},{name:t,enum:(r.enum||[]).join(", ")},o),f=d.map((function(e){return"string"==typeof e?_M(e,p):e})),e.abrupt("return",f);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),kM.apply(this,arguments)}function MM(e,t,n,r,i,o){var a,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=gl(gl({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){t_(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));t_(i=o&&"function"==typeof o.then&&"function"==typeof o.catch,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n==!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=Gk(Uk().mark((function e(n,i){var a,c,u;return Uk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return c=l[a],e.next=5,EM(s,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return EM(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return TM.apply(this,arguments)}(c):function(e){return CM.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function CM(){return(CM=Gk(Uk().mark((function e(t){return Uk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Bw(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TM(){return(TM=Gk(Uk().mark((function e(t){var n;return Uk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LM(e){return Jk(e)}function AM(e,t){var n={};return t.forEach((function(t){var r=bE(e,t);n=wE(n,t,r)})),n}function OM(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return PM(t,e,n)}))}function PM(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function RM(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===hl(t.target)&&e in t.target?t.target[e]:t}function IM(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(Bw(e.slice(0,n)),[i],Bw(e.slice(n,t)),Bw(e.slice(t+1,r))):o<0?[].concat(Bw(e.slice(0,t)),Bw(e.slice(t+1,n+1)),[i],Bw(e.slice(n+1,r))):e}var NM=["name"],jM=[];function zM(e,t,n,r,i,o){return"function"==typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var DM=function(){eE(t,cl.Component);var e=iE(t);function t(n){var r;(JS(this,t),fl(rE(r=e.call(this,n)),"state",{resetCount:0}),fl(rE(r),"cancelRegisterFunc",null),fl(rE(r),"mounted",!1),fl(rE(r),"touched",!1),fl(rE(r),"dirty",!1),fl(rE(r),"validatePromise",void 0),fl(rE(r),"prevValidating",void 0),fl(rE(r),"errors",jM),fl(rE(r),"warnings",jM),fl(rE(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,LM(i)),r.cancelRegisterFunc=null})),fl(rE(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Bw(void 0===n?[]:n),Bw(t)):[]})),fl(rE(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"==typeof e?e(i):e}))})),fl(rE(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),fl(rE(r),"metaCache",null),fl(rE(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=gl(gl({},r.getMeta()),{},{destroy:e});n_(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),fl(rE(r),"onStoreChange",(function(e,t,n){var i=r.props,o=i.shouldUpdate,a=i.dependencies,s=void 0===a?[]:a,l=i.onReset,c=n.store,u=r.getNamePath(),d=r.getValue(e),h=r.getValue(c),p=t&&OM(t,u);switch("valueUpdate"!==n.type||"external"!==n.source||n_(d,h)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=jM,r.warnings=jM,r.triggerMetaEvent()),n.type){case"reset":if(!t||p)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=jM,r.warnings=jM,r.triggerMetaEvent(),null==l||l(),void r.refresh();break;case"remove":if(o&&zM(o,e,c,d,h,n))return void r.reRender();break;case"setField":var f=n.data;if(p)return"touched"in f&&(r.touched=f.touched),"validating"in f&&!("originRCField"in f)&&(r.validatePromise=f.validating?Promise.resolve([]):null),"errors"in f&&(r.errors=f.errors||jM),"warnings"in f&&(r.warnings=f.warnings||jM),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in f&&OM(t,u,!0))return void r.reRender();if(o&&!u.length&&zM(o,e,c,d,h,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(LM).some((function(e){return OM(n.relatedFields,e)})))return void r.reRender();break;default:if(p||(!s.length||u.length||o)&&zM(o,e,c,d,h,n))return void r.reRender()}!0===o&&r.reRender()})),fl(rE(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),i=e||{},o=i.triggerName,a=i.validateOnly,s=void 0!==a&&a,l=Promise.resolve().then(Gk(Uk().mark((function i(){var a,s,c,u,d,h,p;return Uk().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.mounted){i.next=2;break}return i.abrupt("return",[]);case 2:if(a=r.props,s=a.validateFirst,c=void 0!==s&&s,u=a.messageVariables,d=a.validateDebounce,h=r.getRules(),o&&(h=h.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||Jk(t).includes(o)}))),!d||!o){i.next=10;break}return i.next=8,new Promise((function(e){setTimeout(e,d)}));case 8:if(r.validatePromise===l){i.next=10;break}return i.abrupt("return",[]);case 10:return(p=MM(t,n,h,e,c,u)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jM;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],i=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,o=void 0===r?jM:r;t?i.push.apply(i,Bw(o)):n.push.apply(n,Bw(o))})),r.errors=n,r.warnings=i,r.triggerMetaEvent(),r.reRender()}})),i.abrupt("return",p);case 13:case"end":return i.stop()}}),i)}))));return s||(r.validatePromise=l,r.dirty=!0,r.errors=jM,r.warnings=jM,r.triggerMetaEvent(),r.reRender()),l})),fl(rE(r),"isFieldValidating",(function(){return!!r.validatePromise})),fl(rE(r),"isFieldTouched",(function(){return r.touched})),fl(rE(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(Wk).getInitialValue)(r.getNamePath())})),fl(rE(r),"getErrors",(function(){return r.errors})),fl(rE(r),"getWarnings",(function(){return r.warnings})),fl(rE(r),"isListField",(function(){return r.props.isListField})),fl(rE(r),"isList",(function(){return r.props.isList})),fl(rE(r),"isPreserve",(function(){return r.props.preserve})),fl(rE(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),fl(rE(r),"getOnlyChild",(function(e){if("function"==typeof e){var t=r.getMeta();return gl(gl({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=_S(e);return 1===n.length&&cl.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),fl(rE(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return bE(e||t(!0),n)})),fl(rE(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,i=t.trigger,o=t.validateTrigger,a=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==o?o:u.validateTrigger,h=r.getNamePath(),p=u.getInternalHooks,f=u.getFieldsValue,m=p(Wk).dispatch,g=r.getValue(),v=c||function(e){return fl({},l,e)},y=e[i],b=void 0!==n?v(g):{},x=gl(gl({},e),b);return x[i]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=a?a.apply(void 0,n):RM.apply(void 0,[l].concat(n)),s&&(e=s(e,g,f(!0))),e!==g&&m({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,n)},Jk(d||[]).forEach((function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&m({type:"validateField",namePath:h,triggerName:e})}})),x})),n.fieldContext)&&(0,(0,n.fieldContext.getInternalHooks)(Wk).initEntityValue)(rE(r));return r}return ZS(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(Wk).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:cl.isValidElement(i)?e=cl.cloneElement(i,this.getControlled(i.props)):(t_(!i,"`children` of Field is not validate ReactElement."),e=i),cl.createElement(cl.Fragment,{key:t},e)}}]),t}();function BM(e){var t,n=e.name,r=i_(e,NM),i=cl.useContext(Xk),o=cl.useContext(Yk),a=void 0!==n?LM(n):void 0,s=null!==(t=r.isListField)&&void 0!==t?t:!!o,l="keep";return s||(l="_".concat((a||[]).join("_"))),cl.createElement(DM,r_({key:l,name:a,isListField:s},r,{fieldContext:i}))}fl(DM,"contextType",Xk),fl(DM,"defaultProps",{trigger:"onChange",valuePropName:"value"});var FM="__@field_split__";function $M(e){return e.map((function(e){return"".concat(hl(e),":").concat(e)})).join(FM)}var HM=function(){function e(){JS(this,e),fl(this,"kvs",new Map)}return ZS(e,[{key:"set",value:function(e,t){this.kvs.set($M(e),t)}},{key:"get",value:function(e){return this.kvs.get($M(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete($M(e))}},{key:"map",value:function(e){return Bw(this.kvs.entries()).map((function(t){var n=Hw(t,2),r=n[0],i=n[1],o=r.split(FM);return e({key:o.map((function(e){var t=Hw(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),UM=["name"],VM=ZS((function e(t){var n=this;JS(this,e),fl(this,"formHooked",!1),fl(this,"forceRootUpdate",void 0),fl(this,"subscribable",!0),fl(this,"store",{}),fl(this,"fieldEntities",[]),fl(this,"initialValues",{}),fl(this,"callbacks",{}),fl(this,"validateMessages",null),fl(this,"preserve",null),fl(this,"lastValidatePromise",null),fl(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),fl(this,"getInternalHooks",(function(e){return e===Wk?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(t_(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),fl(this,"useSubscribe",(function(e){n.subscribable=e})),fl(this,"prevWithoutPreserves",null),fl(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,i=EE(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=wE(i,n,bE(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}})),fl(this,"destroyForm",(function(e){if(e)n.updateStore({});else{var t=new HM;n.getFieldEntities(!0).forEach((function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),n.prevWithoutPreserves=t}})),fl(this,"getInitialValue",(function(e){var t=bE(n.initialValues,e);return e.length?EE(t):t})),fl(this,"setCallbacks",(function(e){n.callbacks=e})),fl(this,"setValidateMessages",(function(e){n.validateMessages=e})),fl(this,"setPreserve",(function(e){n.preserve=e})),fl(this,"watchList",[]),fl(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),fl(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),fl(this,"timeoutId",null),fl(this,"warningUnhooked",(function(){})),fl(this,"updateStore",(function(e){n.store=e})),fl(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),fl(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new HM;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),fl(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=LM(e);return t.get(n)||{INVALIDATE_NAME_PATH:LM(e)}}))})),fl(this,"getFieldsValue",(function(e,t){var r,i,o;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,i=t):e&&"object"===hl(e)&&(o=e.strict,i=e.filter),!0===r&&!i)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return a.forEach((function(e){var t,n,a,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(o){if(null!==(a=(l=e).isList)&&void 0!==a&&a.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(i){var u="getMeta"in e?e.getMeta():null;i(u)&&s.push(c)}else s.push(c)})),AM(n.store,s.map(LM))})),fl(this,"getFieldValue",(function(e){n.warningUnhooked();var t=LM(e);return bE(n.store,t)})),fl(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:LM(e[n]),errors:[],warnings:[]}}))})),fl(this,"getFieldError",(function(e){n.warningUnhooked();var t=LM(e);return n.getFieldsError([t])[0].errors})),fl(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=LM(e);return n.getFieldsError([t])[0].warnings})),fl(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(LM),s=!1):(i=null,s=o):(i=o.map(LM),s=a);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?l.every((function(e){return c(e)||e.isList()})):l.some(c);var u=new HM;i.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(Bw(t),[e])}))}))}));var d=function(e){return e.some(c)},h=u.map((function(e){return e.value}));return s?h.every(d):h.some(d)})),fl(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),fl(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(LM);return t.some((function(e){var t=e.getNamePath();return OM(r,t)&&e.isFieldValidating()}))})),fl(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),fl(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new HM,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i;e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Bw(Bw(r).map((function(e){return e.entity}))))}))):i=r,i.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))t_(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)t_(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);r.isListField()||e.skipExist&&void 0!==a||n.updateStore(wE(n.store,i,Bw(o)[0].value))}}}}))})),fl(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(EE(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(LM);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(wE(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),fl(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=i_(e,UM),a=LM(i);r.push(a),"value"in o&&n.updateStore(wE(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)})),fl(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=gl(gl({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),fl(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===bE(n.store,r)&&n.updateStore(wE(n.store,r,t))}})),fl(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null==t||t})),fl(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!PM(e.getNamePath(),t)}))){var s=n.store;n.updateStore(wE(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}})),fl(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}})),fl(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var i=gl(gl({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()})),fl(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Bw(r))}),r})),fl(this,"updateValue",(function(e,t){var r=LM(e),i=n.store;n.updateStore(wE(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(AM(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Bw(o)))})),fl(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=EE(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),fl(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])})),fl(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],i=new HM;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=LM(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r})),fl(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new HM;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}var a=i.filter((function(t){var n=t.name;return OM(e,n)}));a.length&&r(a,i)}})),fl(this,"validateFields",(function(e,t){var r,i;n.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(r=e,i=t):i=e;var o=!!r,a=o?r.map(LM):[],s=[],l=String(Date.now()),c=new Set,u=i||{},d=u.recursive,h=u.dirty;n.getFieldEntities(!0).forEach((function(e){if(o||a.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!h||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(l)),!o||OM(a,t,d)){var r=e.validateRules(gl({validateMessages:gl(gl({},xM),n.validateMessages)},i));s.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],i=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?i.push.apply(i,Bw(n)):r.push.apply(r,Bw(n))})),r.length?Promise.reject({name:t,errors:r,warnings:i}):{name:t,errors:r,warnings:i}})))}}}));var p=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(s);n.lastValidatePromise=p,p.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var f=p.then((function(){return n.lastValidatePromise===p?Promise.resolve(n.getFieldsValue(a)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(a),errorFields:t,outOfDate:n.lastValidatePromise!==p})}));f.catch((function(e){return e}));var m=a.filter((function(e){return c.has(e.join(l))}));return n.triggerOnFieldsChange(m),f})),fl(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));function GM(e){var t=cl.useRef(),n=Hw(cl.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new VM((function(){n({})}));t.current=r.getForm()}return[t.current]}var WM=cl.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),qM=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],XM=function(e,t){var n=e.name,r=e.initialValues,i=e.fields,o=e.form,a=e.preserve,s=e.children,l=e.component,c=void 0===l?"form":l,u=e.validateMessages,d=e.validateTrigger,h=void 0===d?"onChange":d,p=e.onValuesChange,f=e.onFieldsChange,m=e.onFinish,g=e.onFinishFailed,v=e.clearOnDestroy,y=i_(e,qM),b=cl.useRef(null),x=cl.useContext(WM),w=Hw(GM(o),1)[0],_=w.getInternalHooks(Wk),S=_.useSubscribe,E=_.setInitialValues,k=_.setCallbacks,M=_.setValidateMessages,C=_.setPreserve,T=_.destroyForm;cl.useImperativeHandle(t,(function(){return gl(gl({},w),{},{nativeElement:b.current})})),cl.useEffect((function(){return x.registerForm(n,w),function(){x.unregisterForm(n)}}),[x,w,n]),M(gl(gl({},x.validateMessages),u)),k({onValuesChange:p,onFieldsChange:function(e){if(x.triggerFormChange(n,e),f){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];f.apply(void 0,[e].concat(r))}},onFinish:function(e){x.triggerFormFinish(n,e),m&&m(e)},onFinishFailed:g}),C(a);var L,A=cl.useRef(null);E(r,!A.current),A.current||(A.current=!0),cl.useEffect((function(){return function(){return T(v)}}),[]);var O="function"==typeof s;O?L=s(w.getFieldsValue(!0),w):L=s;S(!O);var P=cl.useRef();cl.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==hl(e)||"object"!==hl(t))return!1;var n=Object.keys(e),r=Object.keys(t);return Bw(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"==typeof r&&"function"==typeof i||r===i}))})(P.current||[],i||[])||w.setFields(i||[]),P.current=i}),[i,w]);var R=cl.useMemo((function(){return gl(gl({},w),{},{validateTrigger:h})}),[w,h]),I=cl.createElement(Yk.Provider,{value:null},cl.createElement(Xk.Provider,{value:R},L));return!1===c?I:cl.createElement(c,r_({},y,{ref:b,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=y.onReset)||void 0===t||t.call(y,e)}}),I)};function YM(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var JM=cl.forwardRef(XM);JM.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,i=e.children,o=cl.useContext(WM),a=cl.useRef({});return cl.createElement(WM.Provider,{value:gl(gl({},o),{},{validateMessages:gl(gl({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:a.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=gl(gl({},a.current),{},fl({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=gl({},a.current);delete t[e],a.current=t,o.unregisterForm(e)}})},i)},JM.Field=BM,JM.List=function(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,o=e.validateTrigger,a=e.isListField,s=cl.useContext(Xk),l=cl.useContext(Yk),c=cl.useRef({keys:[],id:0}).current,u=cl.useMemo((function(){var e=LM(s.prefixName)||[];return[].concat(Bw(e),Bw(LM(t)))}),[s.prefixName,t]),d=cl.useMemo((function(){return gl(gl({},s),{},{prefixName:u})}),[s,u]),h=cl.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[c.keys[n],e.slice(t+1)]}}}),[u]);return"function"!=typeof r?(t_(!1,"Form.List only accepts function as children."),null):cl.createElement(Yk.Provider,{value:h},cl.createElement(Xk.Provider,{value:d},cl.createElement(BM,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:null!=a?a:!!l},(function(e,t){var n=e.value,i=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,l=function(){return a(u||[])||[]},d={add:function(e,t){var n=l();t>=0&&t<=n.length?(c.keys=[].concat(Bw(c.keys.slice(0,t)),[c.id],Bw(c.keys.slice(t))),o([].concat(Bw(n.slice(0,t)),[e],Bw(n.slice(t))))):(c.keys=[].concat(Bw(c.keys),[c.id]),o([].concat(Bw(n),[e]))),c.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(c.keys=IM(c.keys,e,t),o(IM(n,e,t)))}}},h=i||[];return Array.isArray(h)||(h=[]),r(h.map((function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))},JM.useForm=GM,JM.useWatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=void 0===i?{}:i,a=function(e){return e&&!!e._init}(o)?{form:o}:o,s=a.form,l=Hw(cl.useState(),2),c=l[0],u=l[1],d=cl.useMemo((function(){return YM(c)}),[c]),h=cl.useRef(d);h.current=d;var p=cl.useContext(Xk),f=s||p,m=f&&f._init,g=LM(r),v=cl.useRef(g);return v.current=g,cl.useEffect((function(){if(m){var e=f.getFieldsValue,t=(0,f.getInternalHooks)(Wk).registerWatch,n=function(e,t){var n=a.preserve?t:e;return"function"==typeof r?r(n):bE(n,v.current)},i=t((function(e,t){var r=n(e,t),i=YM(r);h.current!==i&&(h.current=i,u(r))})),o=n(e(),e(!0));return c!==o&&u(o),i}}),[m]),c};const KM=cl.createContext({}),ZM=e=>{let{children:t,status:n,override:r}=e;const i=cl.useContext(KM),o=cl.useMemo((()=>{const e=Object.assign({},i);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,i]);return cl.createElement(KM.Provider,{value:o},t)};function QM(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}function eC(e){return e.join("%")}var tC=function(){function e(t){JS(this,e),fl(this,"instanceId",void 0),fl(this,"cache",new Map),this.instanceId=t}return ZS(e,[{key:"get",value:function(e){return this.opGet(eC(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(eC(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}(),nC="data-token-hash",rC="data-css-hash",iC="__cssinjs_instance__";var oC=cl.createContext({hashPriority:"low",cache:function(){var e=Math.random().toString(12).slice(2);if("undefined"!=typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(rC,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[iC]=t[iC]||e,t[iC]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(rC,"]"))).forEach((function(t){var n,i=t.getAttribute(rC);r[i]?t[iC]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[i]=!0}))}return new tC(e)}(),defaultCache:!0});var aC=function(){function e(){JS(this,e),fl(this,"cache",void 0),fl(this,"keys",void 0),fl(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return ZS(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t;i?i=null===(t=i)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=Hw(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=Hw(i,1)[0];this.delete(o)}this.keys.push(t)}var a=this.cache;t.forEach((function(e,i){if(i===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var o=a.get(e);o?o.map||(o.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();fl(aC,"MAX_CACHE_SIZE",20),fl(aC,"MAX_CACHE_OFFSET",5);var sC=0,lC=function(){function e(t){JS(this,e),fl(this,"derivatives",void 0),fl(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=sC,0===t.length&&t.length,sC+=1}return ZS(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),cC=new aC;function uC(e){var t=Array.isArray(e)?e:[e];return cC.has(t)||cC.set(t,new lC(t)),cC.get(t)}var dC=new WeakMap,hC={};var pC=new WeakMap;function fC(e){var t=pC.get(e)||"";return t||(Object.keys(e).forEach((function(n){var r=e[n];t+=n,r instanceof lC?t+=r.id:r&&"object"===hl(r)?t+=fC(r):t+=r})),t=QM(t),pC.set(e,t)),t}function mC(e,t){return QM("".concat(t,"_").concat(fC(e)))}var gC=Vw();function vC(e){return"number"==typeof e?"".concat(e,"px"):e}function yC(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=gl(gl({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(fl(r={},nC,t),fl(r,rC,n),r)),o=Object.keys(i).map((function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(o,">").concat(e,"</style>")}var bC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},xC=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!=n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=Hw(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},wC=function(e,t,n){var r={},i={};return Object.entries(e).forEach((function(e){var t,o,a=Hw(e,2),s=a[0],l=a[1];if(null!=n&&null!==(t=n.preserve)&&void 0!==t&&t[s])i[s]=l;else if(!("string"!=typeof l&&"number"!=typeof l||null!=n&&null!==(o=n.ignore)&&void 0!==o&&o[s])){var c,u=bC(s,null==n?void 0:n.prefix);r[u]="number"!=typeof l||null!=n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),i[s]="var(".concat(u,")")}})),[i,xC(r,t,{scope:null==n?void 0:n.scope})]},_C=gl({},dl).useInsertionEffect,SC=_C?function(e,t,n){return _C((function(){return e(),t()}),n)}:function(e,t,n){cl.useMemo(e,n),Ww((function(){return t(!0)}),n)},EC=void 0!==gl({},dl).useInsertionEffect?function(e){var t=[],n=!1;return cl.useEffect((function(){return n=!1,function(){n=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){n||t.push(e)}}:function(){return function(e){e()}};function kC(e,t,n,r,i){var o=cl.useContext(oC).cache,a=eC([e].concat(Bw(t))),s=EC([a]),l=function(e){o.opUpdate(a,(function(t){var r=Hw(t||[void 0,void 0],2),i=r[0],o=[void 0===i?0:i,r[1]||n()];return e?e(o):o}))};cl.useMemo((function(){l()}),[a]);var c=o.opGet(a)[1];return SC((function(){null==i||i(c)}),(function(e){return l((function(t){var n=Hw(t,2),r=n[0],o=n[1];return e&&0===r&&(null==i||i(c)),[r+1,o]})),function(){o.opUpdate(a,(function(t){var n=Hw(t||[],2),i=n[0],l=void 0===i?0:i,c=n[1];return 0===l-1?(s((function(){!e&&o.opGet(a)||null==r||r(c,!1)})),null):[l-1,c]}))}}),[a]),c}var MC={},CC=new Map;function TC(e,t){CC.set(e,(CC.get(e)||0)-1);var n=Array.from(CC.keys()),r=n.filter((function(e){return(CC.get(e)||0)<=0}));n.length-r.length>0&&r.forEach((function(e){!function(e,t){"undefined"!=typeof document&&document.querySelectorAll("style[".concat(nC,'="').concat(e,'"]')).forEach((function(e){var n;e[iC]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),CC.delete(e)}))}var LC="token";function AC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=cl.useContext(oC),i=r.cache.instanceId,o=r.container,a=n.salt,s=void 0===a?"":a,l=n.override,c=void 0===l?MC:l,u=n.formatToken,d=n.getComputedToken,h=n.cssVar,p=function(e,t){for(var n=dC,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(hC)||n.set(hC,e()),n.get(hC)}((function(){return Object.assign.apply(Object,[{}].concat(Bw(t)))}),t),f=fC(p),m=fC(c),g=h?fC(h):"",v=kC(LC,[s,e.id,f,m,g],(function(){var t,n=d?d(p,c,e):function(e,t,n,r){var i=gl(gl({},n.getDerivativeToken(e)),t);return r&&(i=r(i)),i}(p,c,e,u),r=gl({},n),i="";if(h){var o=Hw(wC(n,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),2);n=o[0],i=o[1]}var a=mC(n,s);n._tokenKey=a,r._tokenKey=mC(r,s);var l=null!==(t=null==h?void 0:h.key)&&void 0!==t?t:a;n._themeKey=l,function(e){CC.set(e,(CC.get(e)||0)+1)}(l);var f="".concat("css","-").concat(QM(a));return n._hashId=f,[n,f,r,i,(null==h?void 0:h.key)||""]}),(function(e){TC(e[0]._themeKey,i)}),(function(e){var t=Hw(e,4),n=t[0],r=t[3];if(h&&r){var a=mS(r,QM("css-variables-".concat(n._themeKey)),{mark:rC,prepend:"queue",attachTo:o,priority:-999});a[iC]=i,a.setAttribute(nC,n._themeKey)}}));return v}var OC={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PC="comm",RC="rule",IC="decl",NC=Math.abs,jC=String.fromCharCode;function zC(e){return e.trim()}function DC(e,t,n){return e.replace(t,n)}function BC(e,t,n){return e.indexOf(t,n)}function FC(e,t){return 0|e.charCodeAt(t)}function $C(e,t,n){return e.slice(t,n)}function HC(e){return e.length}function UC(e,t){return t.push(e),e}var VC=1,GC=1,WC=0,qC=0,XC=0,YC="";function JC(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:VC,column:GC,length:a,return:"",siblings:s}}function KC(){return XC=qC<WC?FC(YC,qC++):0,GC++,10===XC&&(GC=1,VC++),XC}function ZC(){return FC(YC,qC)}function QC(){return qC}function eT(e,t){return $C(YC,e,t)}function tT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nT(e){return zC(eT(qC-1,oT(91===e?e+2:40===e?e+1:e)))}function rT(e){for(;(XC=ZC())&&XC<33;)KC();return tT(e)>2||tT(XC)>3?"":" "}function iT(e,t){for(;--t&&KC()&&!(XC<48||XC>102||XC>57&&XC<65||XC>70&&XC<97););return eT(e,QC()+(t<6&&32==ZC()&&32==KC()))}function oT(e){for(;KC();)switch(XC){case e:return qC;case 34:case 39:34!==e&&39!==e&&oT(XC);break;case 40:41===e&&oT(e);break;case 92:KC()}return qC}function aT(e,t){for(;KC()&&e+XC!==57&&(e+XC!==84||47!==ZC()););return"/*"+eT(t,qC-1)+"*"+jC(47===e?e:KC())}function sT(e){for(;!tT(ZC());)KC();return eT(e,qC)}function lT(e){return function(e){return YC="",e}(cT("",null,null,null,[""],e=function(e){return VC=GC=1,WC=HC(YC=e),qC=0,[]}(e),0,[0],e))}function cT(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",x=i,w=o,_=r,S=b;g;)switch(f=y,y=KC()){case 40:if(108!=f&&58==FC(S,d-1)){-1!=BC(S+=DC(nT(y),"&","&\f"),"&\f",NC(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=nT(y);break;case 9:case 10:case 13:case 32:S+=rT(f);break;case 92:S+=iT(QC()-1,7);continue;case 47:switch(ZC()){case 42:case 47:UC(dT(aT(KC(),QC()),t,n,l),l),5!=tT(f||1)&&5!=tT(ZC()||1)||!HC(S)||" "===$C(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*m:s[c++]=HC(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=DC(S,/\f/g,"")),p>0&&(HC(S)-d||0===m&&47===f)&&UC(p>32?hT(S+";",r,n,d-1,l):hT(DC(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(UC(_=uT(S,t,n,c,u,i,s,b,x=[],w=[],d,o),o),123===y)if(0===u)cT(S,t,_,_,x,o,d,s,w);else{switch(h){case 99:if(110===FC(S,3))break;case 108:if(97===FC(S,2))break;default:u=0;case 100:case 109:case 115:}u?cT(e,_,_,r&&UC(uT(e,_,_,0,0,i,s,b,i,x=[],d,w),w),i,w,d,s,r?x:w):cT(S,_,_,_,[""],w,0,s,w)}}c=u=p=0,m=v=1,b=S="",d=a;break;case 58:d=1+HC(S),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(XC=qC>0?FC(YC,--qC):0,GC--,10===XC&&(GC=1,VC--),XC))continue;switch(S+=jC(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(HC(S)-1)*v,v=1;break;case 64:45===ZC()&&(S+=nT(KC())),h=ZC(),u=d=HC(b=S+=sT(QC())),y++;break;case 45:45===f&&2==HC(S)&&(m=0)}}return o}function uT(e,t,n,r,i,o,a,s,l,c,u,d){for(var h=i-1,p=0===i?o:[""],f=function(e){return e.length}(p),m=0,g=0,v=0;m<r;++m)for(var y=0,b=$C(e,h+1,h=NC(g=a[m])),x=e;y<f;++y)(x=zC(g>0?p[y]+" "+b:DC(b,/&\f/g,p[y])))&&(l[v++]=x);return JC(e,t,n,0===i?RC:s,l,c,u,d)}function dT(e,t,n,r){return JC(e,t,n,PC,jC(XC),$C(e,2,-2),0,r)}function hT(e,t,n,r,i){return JC(e,t,n,IC,$C(e,0,r),$C(e,r+1,-1),r,i)}function pT(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function fT(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case IC:return e.return=e.return||e.value;case PC:return"";case"@keyframes":return e.return=e.value+"{"+pT(e.children,r)+"}";case RC:if(!HC(e.value=e.props.join(",")))return""}return HC(n=pT(e.children,r))?e.return=e.value+"{"+n+"}":""}var mT,gT="data-ant-cssinjs-cache-path",vT="_FILE_STYLE__",yT=!0;function bT(e){return function(){if(!mT&&(mT={},Vw())){var e=document.createElement("div");e.className=gT,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=Hw(e.split(":"),2),n=t[0],r=t[1];mT[n]=r}));var n,r=document.querySelector("style[".concat(gT,"]"));r&&(yT=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!mT[e]}var xT="_multi_value_";function wT(e){return pT(lT(e),fT).replace(/\{%%%\:[^;];}/g,";")}function _T(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r;return e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(i).concat(r.slice(o.length))].concat(Bw(n.slice(1))).join(" ")})).join(",")}var ST=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,a=r.parentSelectors,s=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=void 0===u?[]:u;n.linters;var h="",p={};function f(t){var r=t.getName(s);if(!p[r]){var i=Hw(e(t.style,n,{root:!1,parentSelectors:a}),1)[0];p[r]="@keyframes ".concat(t.getName(s)).concat(i)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return m.forEach((function(t){var r="string"!=typeof t||i?t:{};if("string"==typeof r)h+="".concat(r,"\n");else if(r._keyframe)f(r);else{var l=d.reduce((function(e,t){var n;return(null==t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(l).forEach((function(t){var r=l[t];if("object"!==hl(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===hl(e)&&e&&("_skip_check_"in e||xT in e)}(r)){let e=function(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;OC[e]||"number"!=typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!=t&&t._keyframe&&(f(t),r=t.getName(s)),h+="".concat(n,":").concat(r,";")};var u,d=null!==(u=null==r?void 0:r.value)&&void 0!==u?u:r;"object"===hl(r)&&null!=r&&r[xT]&&Array.isArray(d)?d.forEach((function(n){e(t,n)})):e(t,d)}else{var m=!1,g=t.trim(),v=!1;(i||o)&&s?g.startsWith("@")?m=!0:g=_T("&"===g?"":t,s,c):!i||s||"&"!==g&&""!==g||(g="",v=!0);var y=Hw(e(r,n,{root:v,injectHash:m,parentSelectors:[].concat(Bw(a),[g])}),2),b=y[0],x=y[1];p=gl(gl({},p),x),h+="".concat(g).concat(b)}}))}})),i?l&&(h&&(h="@layer ".concat(l.name," {").concat(h,"}")),l.dependencies&&(p["@layer ".concat(l.name)]=l.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(l.name,";")})).join("\n"))):h="{".concat(h,"}"),[h,p]};function ET(e,t){return QM("".concat(e.join("%")).concat(t))}function kT(){return null}var MT="style";function CT(e,t){var n=e.token,r=e.path,i=e.hashId,o=e.layer,a=e.nonce,s=e.clientOnly,l=e.order,c=void 0===l?0:l,u=cl.useContext(oC),d=u.autoClear;u.mock;var h=u.defaultCache,p=u.hashPriority,f=u.container,m=u.ssrInline,g=u.transformers,v=u.linters,y=u.cache,b=u.layer,x=n._tokenKey,w=[x];b&&w.push("layer"),w.push.apply(w,Bw(r));var _=gC,S=kC(MT,w,(function(){var e=w.join("|");if(bT(e)){var n=function(e){var t=mT[e],n=null;if(t&&Vw())if(yT)n=vT;else{var r=document.querySelector("style[".concat(rC,'="').concat(mT[e],'"]'));r?n=r.innerHTML:delete mT[e]}return[n,t]}(e),a=Hw(n,2),l=a[0],u=a[1];if(l)return[l,x,u,{},s,c]}var d=t(),h=Hw(ST(d,{hashId:i,hashPriority:p,layer:b?o:void 0,path:r.join("-"),transformers:g,linters:v}),2),f=h[0],m=h[1],y=wT(f),_=ET(w,y);return[y,x,_,m,s,c]}),(function(e,t){var n=Hw(e,3)[2];(t||d)&&gC&&fS(n,{mark:rC})}),(function(e){var t=Hw(e,4),n=t[0];t[1];var r=t[2],i=t[3];if(_&&n!==vT){var o={mark:rC,prepend:!b&&"queue",attachTo:f,priority:c},s="function"==typeof a?a():a;s&&(o.csp={nonce:s});var l=[],u=[];Object.keys(i).forEach((function(e){e.startsWith("@layer")?l.push(e):u.push(e)})),l.forEach((function(e){mS(wT(i[e]),"_layer-".concat(e),gl(gl({},o),{},{prepend:!0}))}));var d=mS(n,r,o);d[iC]=y.instanceId,d.setAttribute(nC,x),u.forEach((function(e){mS(wT(i[e]),"_effect-".concat(e),o)}))}})),E=Hw(S,3),k=E[0],M=E[1],C=E[2];return function(e){var t,n;m&&!_&&h?t=cl.createElement("style",r_({},(fl(n={},nC,M),fl(n,rC,C),n),{dangerouslySetInnerHTML:{__html:k}})):t=cl.createElement(kT,null);return cl.createElement(cl.Fragment,null,t,e)}}var TT,LT="cssVar";fl(TT={},MT,(function(e,t,n){var r=Hw(e,6),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=(n||{}).plain;if(l)return null;var d=i,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=yC(i,o,a,h,u),s&&Object.keys(s).forEach((function(e){if(!t[e]){t[e]=!0;var n=yC(wT(s[e]),o,"_effect-".concat(e),h,u);e.startsWith("@layer")?d=n+d:d+=n}})),[c,a,d]})),fl(TT,LC,(function(e,t,n){var r=Hw(e,5),i=r[2],o=r[3],a=r[4],s=(n||{}).plain;if(!o)return null;var l=i._tokenKey;return[-999,l,yC(o,a,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),fl(TT,LT,(function(e,t,n){var r=Hw(e,4),i=r[1],o=r[2],a=r[3],s=(n||{}).plain;if(!i)return null;return[-999,o,yC(i,a,o,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}));var AT=function(){function e(t,n){JS(this,e),fl(this,"name",void 0),fl(this,"style",void 0),fl(this,"_keyframe",!0),this.name=t,this.style=n}return ZS(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();function OT(e){return e.notSplit=!0,e}OT(["borderTop","borderBottom"]),OT(["borderTop"]),OT(["borderBottom"]),OT(["borderLeft","borderRight"]),OT(["borderLeft"]),OT(["borderRight"]);var PT=cl.createContext({});const RT=cl.createContext(void 0),IT="${label} is not a valid ${type}",NT={Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:IT,method:IT,array:IT,object:IT,number:IT,date:IT,boolean:IT,integer:IT,float:IT,regexp:IT,email:IT,url:IT,hex:IT},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}}};Object.assign({},NT.Modal);let jT=[];const zT=()=>jT.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),NT.Modal);const DT=cl.createContext(void 0),BT=e=>{const{locale:t={},children:n,_ANT_MARK__:r}=e;cl.useEffect((()=>{const e=function(e){if(e){const t=Object.assign({},e);return jT.push(t),zT(),()=>{jT=jT.filter((e=>e!==t)),zT()}}Object.assign({},NT.Modal)}(null==t?void 0:t.Modal);return e}),[t]);const i=cl.useMemo((()=>Object.assign(Object.assign({},t),{exist:!0})),[t]);return cl.createElement(DT.Provider,{value:i},n)},FT={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},$T=Object.assign(Object.assign({},FT),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),HT=Math.round;function UT(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map((e=>parseFloat(e)));for(let i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const VT=(e,t,n)=>0===n?e:e/100;function GT(e,t){const n=t||255;return e>n?n:e<0?0:e}class WT{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(fl(this,"isValid",!0),fl(this,"r",0),fl(this,"g",0),fl(this,"b",0),fl(this,"a",1),fl(this,"_h",void 0),fl(this,"_s",void 0),fl(this,"_l",void 0),fl(this,"_v",void 0),fl(this,"_max",void 0),fl(this,"_min",void 0),fl(this,"_brightness",void 0),e)if("string"==typeof e){let t=function(e){return n.startsWith(e)};const n=e.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):t("rgb")?this.fromRgbString(n):t("hsl")?this.fromHslString(n):(t("hsv")||t("hsb"))&&this.fromHsvString(n)}else if(e instanceof WT)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=GT(e.r),this.g=GT(e.g),this.b=GT(e.b),this.a="number"==typeof e.a?GT(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if(void 0===this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:HT(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(void 0===this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return void 0===this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return void 0===this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return void 0===this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e,t=50){const n=this._c(e),r=t/100,i=e=>(n[e]-this[e])*r+this[e],o={r:HT(i("r")),g:HT(i("g")),b:HT(i("b")),a:HT(100*i("a"))/100};return this._c(o)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>HT((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"==typeof this.a&&this.a>=0&&this.a<1){const t=HT(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=HT(100*this.getSaturation()),n=HT(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=GT(t,n),r}_c(e){return new this.constructor(e)}getMax(){return void 0===this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return void 0===this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl({h:e,s:t,l:n,a:r}){if(this._h=e%360,this._s=t,this._l=n,this.a="number"==typeof r?r:1,t<=0){const e=HT(255*n);this.r=e,this.g=e,this.b=e}let i=0,o=0,a=0;const s=e/60,l=(1-Math.abs(2*n-1))*t,c=l*(1-Math.abs(s%2-1));s>=0&&s<1?(i=l,o=c):s>=1&&s<2?(i=c,o=l):s>=2&&s<3?(o=l,a=c):s>=3&&s<4?(o=c,a=l):s>=4&&s<5?(i=c,a=l):s>=5&&s<6&&(i=l,a=c);const u=n-l/2;this.r=HT(255*(i+u)),this.g=HT(255*(o+u)),this.b=HT(255*(a+u))}fromHsv({h:e,s:t,v:n,a:r}){this._h=e%360,this._s=t,this._v=n,this.a="number"==typeof r?r:1;const i=HT(255*n);if(this.r=i,this.g=i,this.b=i,t<=0)return;const o=e/60,a=Math.floor(o),s=o-a,l=HT(n*(1-t)*255),c=HT(n*(1-t*s)*255),u=HT(n*(1-t*(1-s))*255);switch(a){case 0:this.g=u,this.b=l;break;case 1:this.r=c,this.b=l;break;case 2:this.r=l,this.b=u;break;case 3:this.r=l,this.g=c;break;case 4:this.r=u,this.g=l;break;default:this.g=l,this.b=c}}fromHsvString(e){const t=UT(e,VT);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=UT(e,VT);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=UT(e,((e,t)=>t.includes("%")?HT(e/100*255):e));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var qT=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function XT(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function YT(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function JT(e,t,n){var r;return r=n?e.v+.05*t:e.v-.15*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function KT(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new WT(e),i=r.toHsv(),o=5;o>0;o-=1){var a=new WT({h:XT(i,o,!0),s:YT(i,o,!0),v:JT(i,o,!0)});n.push(a)}n.push(r);for(var s=1;s<=4;s+=1){var l=new WT({h:XT(i,s),s:YT(i,s),v:JT(i,s)});n.push(l)}return"dark"===t.theme?qT.map((function(e){var r=e.index,i=e.amount;return new WT(t.backgroundColor||"#141414").mix(n[r],i).toHexString()})):n.map((function(e){return e.toHexString()}))}var ZT={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},QT=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];QT.primary=QT[5];var eL=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];eL.primary=eL[5];var tL=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];tL.primary=tL[5];var nL=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];nL.primary=nL[5];var rL=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];rL.primary=rL[5];var iL=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];iL.primary=iL[5];var oL=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];oL.primary=oL[5];var aL=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];aL.primary=aL[5];var sL=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];sL.primary=sL[5];var lL=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];lL.primary=lL[5];var cL=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];cL.primary=cL[5];var uL=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];uL.primary=uL[5];var dL=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];dL.primary=dL[5];var hL={red:QT,volcano:eL,orange:tL,gold:nL,yellow:rL,lime:iL,green:oL,cyan:aL,blue:sL,geekblue:lL,purple:cL,magenta:uL,grey:dL};const pL=e=>{const t=function(e){const t=Array.from({length:10}).map(((t,n)=>{const r=n-1,i=e*Math.pow(Math.E,r/5),o=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(o/2)}));return t[1]=e,t.map((e=>{return{size:e,lineHeight:(t=e,(t+8)/t)};var t}))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),i=n[1],o=n[0],a=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:a,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*i),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const fL=(e,t)=>new WT(e).setA(t).toRgbString(),mL=(e,t)=>new WT(e).darken(t).toHexString(),gL=e=>{const t=KT(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},vL=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:fL(r,.88),colorTextSecondary:fL(r,.65),colorTextTertiary:fL(r,.45),colorTextQuaternary:fL(r,.25),colorFill:fL(r,.15),colorFillSecondary:fL(r,.06),colorFillTertiary:fL(r,.04),colorFillQuaternary:fL(r,.02),colorBgSolid:fL(r,1),colorBgSolidHover:fL(r,.75),colorBgSolidActive:fL(r,.95),colorBgLayout:mL(n,4),colorBgContainer:mL(n,0),colorBgElevated:mL(n,0),colorBgSpotlight:fL(r,.85),colorBgBlur:"transparent",colorBorder:mL(n,15),colorBorderSecondary:mL(n,6)}};const yL=uC((function(e){ZT.pink=ZT.magenta,hL.pink=hL.magenta;const t=Object.keys(FT).map((t=>{const n=e[t]===ZT[t]?hL[t]:KT(e[t]);return Array.from({length:10},(()=>1)).reduce(((e,r,i)=>(e[`${t}-${i+1}`]=n[i],e[`${t}${i+1}`]=n[i],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=n(l),h=n(i),p=n(o),f=n(a),m=n(s),g=r(c,u),v=n(e.colorLink||e.colorInfo),y=new WT(f[1]).mix(new WT(f[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBgFilledHover:y,colorErrorBgActive:f[3],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new WT("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:gL,generateNeutralColorPalettes:vL})),pL(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),(e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}})(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:i+1},(e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}})(r))}(e))})),bL={token:$T,override:{override:$T},hashed:!0},xL=ul.createContext(bL),wL="ant",_L="anticon",SL=cl.createContext({getPrefixCls:(e,t)=>t||(e?`${wL}-${e}`:wL),iconPrefixCls:_L}),{Consumer:EL}=SL,kL={};function ML(e){const t=cl.useContext(SL),{getPrefixCls:n,direction:r,getPopupContainer:i}=t,o=t[e];return Object.assign(Object.assign({classNames:kL,styles:kL},o),{getPrefixCls:n,direction:r,getPopupContainer:i})}const CL=`-ant-${Date.now()}-${Math.random()}`;function TL(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null==t?void 0:t(n))||n,n.toRgbString()},i=(e,t)=>{const i=new WT(e),o=KT(i.toRgbString());n[`${t}-color`]=r(i),n[`${t}-color-disabled`]=o[1],n[`${t}-color-hover`]=o[4],n[`${t}-color-active`]=o[6],n[`${t}-color-outline`]=i.clone().setA(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=o[0],n[`${t}-color-deprecated-border`]=o[2]};if(t.primaryColor){i(t.primaryColor,"primary");const e=new WT(t.primaryColor),o=KT(e.toRgbString());o.forEach(((e,t)=>{n[`primary-${t+1}`]=e})),n["primary-color-deprecated-l-35"]=r(e,(e=>e.lighten(35))),n["primary-color-deprecated-l-20"]=r(e,(e=>e.lighten(20))),n["primary-color-deprecated-t-20"]=r(e,(e=>e.tint(20))),n["primary-color-deprecated-t-50"]=r(e,(e=>e.tint(50))),n["primary-color-deprecated-f-12"]=r(e,(e=>e.setA(.12*e.a)));const a=new WT(o[0]);n["primary-color-active-deprecated-f-30"]=r(a,(e=>e.setA(.3*e.a))),n["primary-color-active-deprecated-d-02"]=r(a,(e=>e.darken(2)))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map((t=>`--${e}-${t}: ${n[t]};`)).join("\n")}\n  }\n  `.trim()}(e,t);Vw()&&mS(n,`${CL}-dynamic-theme`)}const LL=cl.createContext(void 0),AL=e=>{let{children:t,size:n}=e;const r=cl.useContext(LL);return cl.createElement(LL.Provider,{value:n||r},t)};var OL=ZS((function e(){JS(this,e)})),PL="CALC_UNIT",RL=new RegExp(PL,"g");function IL(e){return"number"==typeof e?"".concat(e).concat(PL):e}var NL=function(){eE(t,OL);var e=iE(t);function t(n,r){var i;JS(this,t),fl(rE(i=e.call(this)),"result",""),fl(rE(i),"unitlessCssVar",void 0),fl(rE(i),"lowPriority",void 0);var o=hl(n);return i.unitlessCssVar=r,n instanceof t?i.result="(".concat(n.result,")"):"number"===o?i.result=IL(n):"string"===o&&(i.result=n),i}return ZS(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," + ").concat(IL(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," - ").concat(IL(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!=typeof e&&"string"!=typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"==typeof n?r=n:Array.from(this.unitlessCssVar).some((function(e){return t.result.includes(e)}))&&(r=!1),this.result=this.result.replace(RL,r?"px":""),void 0!==this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),t}(),jL=function(){eE(t,OL);var e=iE(t);function t(n){var r;return JS(this,t),fl(rE(r=e.call(this)),"result",0),n instanceof t?r.result=n.result:"number"==typeof n&&(r.result=n),r}return ZS(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:"number"==typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:"number"==typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:"number"==typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:"number"==typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),t}(),zL=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function DL(e,t,n,r){var i=gl({},t[e]);null!=r&&r.deprecatedTokens&&r.deprecatedTokens.forEach((function(e){var t,n=Hw(e,2),r=n[0],o=n[1];(null!=i&&i[r]||null!=i&&i[o])&&(null!==(t=i[o])&&void 0!==t||(i[o]=null==i?void 0:i[r]))}));var o=gl(gl({},n),i);return Object.keys(o).forEach((function(e){o[e]===t[e]&&delete o[e]})),o}var BL="undefined"!=typeof CSSINJS_STATISTIC,FL=!0;function $L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!BL)return Object.assign.apply(Object,[{}].concat(t));FL=!1;var r={};return t.forEach((function(e){"object"===hl(e)&&Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),FL=!0,r}var HL={};function UL(){}function VL(e,t,n){var r;return"function"==typeof n?n($L(t,null!==(r=t[e])&&void 0!==r?r:{})):null!=n?n:{}}var GL=function(){function e(){JS(this,e),fl(this,"map",new Map),fl(this,"objectIDMap",new WeakMap),fl(this,"nextID",0),fl(this,"lastAccessBeat",new Map),fl(this,"accessBeat",0)}return ZS(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map((function(e){return e&&"object"===hl(e)?"obj_".concat(t.getObjectID(e)):"".concat(hl(e),"_").concat(e)})).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach((function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))})),this.accessBeat=0}}}]),e}(),WL=new GL;var qL=function(){return{}};const XL=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function YL(e){return e>=0&&e<=255}function JL(e,t){const{r:n,g:r,b:i,a:o}=new WT(e).toRgb();if(o<1)return e;const{r:a,g:s,b:l}=new WT(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-a*(1-c))/c),t=Math.round((r-s*(1-c))/c),o=Math.round((i-l*(1-c))/c);if(YL(e)&&YL(t)&&YL(o))return new WT({r:e,g:t,b:o,a:Math.round(100*c)/100}).toRgbString()}return new WT({r:n,g:r,b:i,a:1}).toRgbString()}function KL(e){const{override:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["override"]),r=Object.assign({},t);Object.keys($T).forEach((e=>{delete r[e]}));const i=Object.assign(Object.assign({},n),r),o=1200,a=1600;if(!1===i.motion){const e="0s";i.motionDurationFast=e,i.motionDurationMid=e,i.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:JL(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:JL(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:JL(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:3*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:JL(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new WT("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new WT("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new WT("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var ZL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const QL={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},eA={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},tA={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},nA=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,o=ZL(t,["override"]);let a=Object.assign(Object.assign({},r),{override:i});return a=KL(a),o&&Object.entries(o).forEach((e=>{let[t,n]=e;const{theme:r}=n,i=ZL(n,["theme"]);let o=i;r&&(o=nA(Object.assign(Object.assign({},a),i),{override:i},r)),a[t]=o})),a};function rA(){const{token:e,hashed:t,theme:n,override:r,cssVar:i}=ul.useContext(xL),o=`5.24.5-${t||""}`,a=n||yL,[s,l,c]=AC(a,[$T,e],{salt:o,override:r,getComputedToken:nA,formatToken:KL,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:QL,ignore:eA,preserve:tA}});return[a,c,t?l:"",s,i]}const iA=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},oA=(e,t)=>({outline:`${vC(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:null!=t?t:1,transition:"outline-offset 0s, outline 0s"}),aA=(e,t)=>({"&:focus-visible":Object.assign({},oA(e,t))}),sA=e=>({[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}),{genStyleHooks:lA,genSubStyleComponent:cA}=function(e){var t=e.useCSP,n=void 0===t?qL:t,r=e.useToken,i=e.usePrefix,o=e.getResetStyles,a=e.getCommonStyle,s=e.getCompUnitless;function l(t,s,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.isArray(t)?t:[t,t],d=Hw(u,1)[0],h=u.join("-"),p=e.layer||{name:"antd"};return function(e){var t,u,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,m=r(),g=m.theme,v=m.realToken,y=m.hashId,b=m.token,x=m.cssVar,w=i(),_=w.rootPrefixCls,S=w.iconPrefixCls,E=n(),k=x?"css":"js",M=(t=function(){var e=new Set;return x&&Object.keys(c.unitless||{}).forEach((function(t){e.add(bC(t,x.prefix)),e.add(bC(t,zL(d,x.prefix)))})),function(e,t){var n="css"===e?NL:jL;return function(e){return new n(e,t)}}(k,e)},u=[k,d,null==x?void 0:x.prefix],ul.useMemo((function(){var e=WL.get(u);if(e)return e;var n=t();return WL.set(u,n),n}),u)),C=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((function(e){return vC(e)})).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((function(e){return vC(e)})).join(","),")")}}}(k),T=C.max,L=C.min,A={theme:g,token:b,hashId:y,nonce:function(){return E.nonce},clientOnly:c.clientOnly,layer:p,order:c.order||-999};"function"==typeof o&&CT(gl(gl({},A),{},{clientOnly:!1,path:["Shared",_]}),(function(){return o(b,{prefix:{rootPrefixCls:_,iconPrefixCls:S},csp:E})}));var O=CT(gl(gl({},A),{},{path:[h,e,S]}),(function(){if(!1===c.injectStyle)return[];var t=function(e){var t,n=e,r=UL;return BL&&"undefined"!=typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;return FL&&(null===(r=t)||void 0===r||r.add(n)),e[n]}}),r=function(e,n){var r;HL[e]={global:Array.from(t),component:gl(gl({},null===(r=HL[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}}(b),n=t.token,r=t.flush,i=VL(d,v,l),o=".".concat(e),u=DL(d,v,i,{deprecatedTokens:c.deprecatedTokens});x&&i&&"object"===hl(i)&&Object.keys(i).forEach((function(e){i[e]="var(".concat(bC(e,zL(d,x.prefix)),")")}));var h=$L(n,{componentCls:o,prefixCls:e,iconCls:".".concat(S),antCls:".".concat(_),calc:M,max:T,min:L},x?i:u),p=s(h,{hashId:y,prefixCls:e,rootPrefixCls:_,iconPrefixCls:S});r(d,u);var m="function"==typeof a?a(h,e,f,c.resetFont):null;return[!1===c.resetStyle?null:m,p]}));return[O,y]}}return{genStyleHooks:function(e,t,n,i){var o=Array.isArray(e)?e[0]:e;function a(e){return"".concat(String(o)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var c=(null==i?void 0:i.unitless)||{},u=gl(gl({},"function"==typeof s?s(e):{}),{},fl({},a("zIndexPopup"),!0));Object.keys(c).forEach((function(e){u[a(e)]=c[e]}));var d=gl(gl({},i),{},{unitless:u,prefixToken:a}),h=l(e,t,n,d),p=function(e,t,n){var i=n.unitless,o=n.injectStyle,a=void 0===o||o,s=n.prefixToken,l=n.ignore,c=function(o){var a=o.rootCls,c=o.cssVar,u=void 0===c?{}:c,d=r().realToken;return function(e,t){var n=e.key,r=e.prefix,i=e.unitless,o=e.ignore,a=e.token,s=e.scope,l=void 0===s?"":s,c=cl.useContext(oC),u=c.cache.instanceId,d=c.container,h=a._tokenKey,p=[].concat(Bw(e.path),[n,l,h]);kC(LT,p,(function(){var e=t(),a=Hw(wC(e,n,{prefix:r,unitless:i,ignore:o,scope:l}),2),s=a[0],c=a[1];return[s,c,ET(p,c),n]}),(function(e){var t=Hw(e,3)[2];gC&&fS(t,{mark:rC})}),(function(e){var t=Hw(e,3),r=t[1],i=t[2];if(r){var o=mS(r,i,{mark:rC,prepend:"queue",attachTo:d,priority:-999});o[iC]=u,o.setAttribute(nC,n)}}))}({path:[e],prefix:u.prefix,key:u.key,unitless:i,ignore:l,token:d,scope:a},(function(){var r=VL(e,d,t),i=DL(e,d,r,{deprecatedTokens:null==n?void 0:n.deprecatedTokens});return Object.keys(r).forEach((function(e){i[s(e)]=i[e],delete i[e]})),i})),null},u=function(t){var n=r().cssVar;return[function(r){return a&&n?ul.createElement(ul.Fragment,null,ul.createElement(c,{rootCls:t,cssVar:n,component:e}),r):r},null==n?void 0:n.key]};return u}(o,n,d);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Hw(h(e,t),2)[1],r=Hw(p(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=l(e,t,n,gl({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:l}}({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=cl.useContext(SL);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,i]=rA();return{theme:e,realToken:t,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:e}=cl.useContext(SL);return null!=e?e:{}},getResetStyles:(e,t)=>{var n;const r=(e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}))(e);return[r,{"&":r},sA(null!==(n=null==t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:_L)]},getCommonStyle:(e,t,n,r)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,o=n?`.${n}`:i,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==r&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),a),{[i]:a})}},getCompUnitless:()=>QL});function uA(e,t){return XL.reduce(((n,r)=>{const i=e[`${r}1`],o=e[`${r}3`],a=e[`${r}6`],s=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:s}))}),{})}const dA=Object.assign({},dl),{useId:hA}=dA,pA=void 0===hA?()=>"":hA;function fA(e){const{children:t}=e,[,n]=rA(),{motion:r}=n,i=cl.useRef(!1);return i.current=i.current||!1===r,i.current?cl.createElement(vE,{motion:r},t):t}const mA=()=>null;const gA=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let vA,yA,bA,xA;function wA(){return vA||wL}function _A(){return yA||_L}const SA=e=>{const{children:t,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:a,locale:s,componentSize:l,direction:c,space:u,splitter:d,virtual:h,dropdownMatchSelectWidth:p,popupMatchSelectWidth:f,popupOverflow:m,legacyLocale:g,parentContext:v,iconPrefixCls:y,theme:b,componentDisabled:x,segmented:w,statistic:_,spin:S,calendar:E,carousel:k,cascader:M,collapse:C,typography:T,checkbox:L,descriptions:A,divider:O,drawer:P,skeleton:R,steps:I,image:N,layout:j,list:z,mentions:D,modal:B,progress:F,result:$,slider:H,breadcrumb:U,menu:V,pagination:G,input:W,textArea:q,empty:X,badge:Y,radio:J,rate:K,switch:Z,transfer:Q,avatar:ee,message:te,tag:ne,table:re,card:ie,tabs:oe,timeline:ae,timePicker:se,upload:le,notification:ce,tree:ue,colorPicker:de,datePicker:he,rangePicker:pe,flex:fe,wave:me,dropdown:ge,warning:ve,tour:ye,tooltip:be,popover:xe,popconfirm:we,floatButtonGroup:_e,variant:Se,inputNumber:Ee,treeSelect:ke}=e,Me=cl.useCallback(((t,n)=>{const{prefixCls:r}=e;if(n)return n;const i=r||v.getPrefixCls("");return t?`${i}-${t}`:i}),[v.getPrefixCls,e.prefixCls]),Ce=y||v.iconPrefixCls||_L,Te=n||v.csp;((e,t)=>{const[n,r]=rA();CT({token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null==t?void 0:t.nonce,layer:{name:"antd"}},(()=>[sA(e)]))})(Ce,Te);const Le=function(e,t,n){var r;$_();const i=e||{},o=!1!==i.inherit&&t?t:Object.assign(Object.assign({},bL),{hashed:null!==(r=null==t?void 0:t.hashed)&&void 0!==r?r:bL.hashed,cssVar:null==t?void 0:t.cssVar}),a=pA();return G_((()=>{var r,s;if(!e)return t;const l=Object.assign({},o.components);Object.keys(e.components||{}).forEach((t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])}));const c=`css-var-${a.replace(/:/g,"")}`,u=(null!==(r=i.cssVar)&&void 0!==r?r:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null==n?void 0:n.prefixCls},"object"==typeof o.cssVar?o.cssVar:{}),"object"==typeof i.cssVar?i.cssVar:{}),{key:"object"==typeof i.cssVar&&(null===(s=i.cssVar)||void 0===s?void 0:s.key)||c});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:l,cssVar:u})}),[i,o],((e,t)=>e.some(((e,n)=>!n_(e,t[n],!0)))))}(b,v.theme,{prefixCls:Me("")}),Ae={csp:Te,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:s||g,direction:c,space:u,splitter:d,virtual:h,popupMatchSelectWidth:null!=f?f:p,popupOverflow:m,getPrefixCls:Me,iconPrefixCls:Ce,theme:Le,segmented:w,statistic:_,spin:S,calendar:E,carousel:k,cascader:M,collapse:C,typography:T,checkbox:L,descriptions:A,divider:O,drawer:P,skeleton:R,steps:I,image:N,input:W,textArea:q,layout:j,list:z,mentions:D,modal:B,progress:F,result:$,slider:H,breadcrumb:U,menu:V,pagination:G,empty:X,badge:Y,radio:J,rate:K,switch:Z,transfer:Q,avatar:ee,message:te,tag:ne,table:re,card:ie,tabs:oe,timeline:ae,timePicker:se,upload:le,notification:ce,tree:ue,colorPicker:de,datePicker:he,rangePicker:pe,flex:fe,wave:me,dropdown:ge,warning:ve,tour:ye,tooltip:be,popover:xe,popconfirm:we,floatButtonGroup:_e,variant:Se,inputNumber:Ee,treeSelect:ke},Oe=Object.assign({},v);Object.keys(Ae).forEach((e=>{void 0!==Ae[e]&&(Oe[e]=Ae[e])})),gA.forEach((t=>{const n=e[t];n&&(Oe[t]=n)})),void 0!==r&&(Oe.button=Object.assign({autoInsertSpace:r},Oe.button));const Pe=G_((()=>Oe),Oe,((e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((n=>e[n]!==t[n]))})),{layer:Re}=cl.useContext(oC),Ie=cl.useMemo((()=>({prefixCls:Ce,csp:Te,layer:Re?"antd":void 0})),[Ce,Te,Re]);let Ne=cl.createElement(cl.Fragment,null,cl.createElement(mA,{dropdownMatchSelectWidth:p}),t);const je=cl.useMemo((()=>{var e,t,n,r;return EE((null===(e=NT.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Pe.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=Pe.form)||void 0===r?void 0:r.validateMessages)||{},(null==a?void 0:a.validateMessages)||{})}),[Pe,null==a?void 0:a.validateMessages]);Object.keys(je).length>0&&(Ne=cl.createElement(RT.Provider,{value:je},Ne)),s&&(Ne=cl.createElement(BT,{locale:s,_ANT_MARK__:"internalMark"},Ne)),Ne=cl.createElement(PT.Provider,{value:Ie},Ne),l&&(Ne=cl.createElement(AL,{size:l},Ne)),Ne=cl.createElement(fA,null,Ne);const ze=cl.useMemo((()=>{const e=Le||{},{algorithm:t,token:n,components:r,cssVar:i}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["algorithm","token","components","cssVar"]),a=t&&(!Array.isArray(t)||t.length>0)?uC(t):yL,s={};Object.entries(r||{}).forEach((e=>{let[t,n]=e;const r=Object.assign({},n);"algorithm"in r&&(!0===r.algorithm?r.theme=a:(Array.isArray(r.algorithm)||"function"==typeof r.algorithm)&&(r.theme=uC(r.algorithm)),delete r.algorithm),s[t]=r}));const l=Object.assign(Object.assign({},$T),n);return Object.assign(Object.assign({},o),{theme:a,token:l,components:s,override:Object.assign({override:l},s),cssVar:i})}),[Le]);return b&&(Ne=cl.createElement(xL.Provider,{value:ze},Ne)),Pe.warning&&(Ne=cl.createElement(F_.Provider,{value:Pe.warning},Ne)),void 0!==x&&(Ne=cl.createElement(U_,{disabled:x},Ne)),cl.createElement(SL.Provider,{value:Pe},Ne)},EA=e=>{const t=cl.useContext(SL),n=cl.useContext(DT);return cl.createElement(SA,Object.assign({parentContext:t,legacyLocale:n},e))};EA.ConfigContext=SL,EA.SizeContext=LL,EA.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:i}=e;void 0!==t&&(vA=t),void 0!==n&&(yA=n),"holderRender"in e&&(xA=i),r&&(!function(e){return Object.keys(e).some((e=>e.endsWith("Color")))}(r)?bA=r:TL(wA(),r))},EA.useConfig=function(){return{componentDisabled:cl.useContext(H_),componentSize:cl.useContext(LL)}},Object.defineProperty(EA,"SizeContext",{get:()=>LL});const kA=cl.createContext(null),MA=e=>{const{children:t}=e;return cl.createElement(kA.Provider,{value:null},t)},CA=e=>{const{space:t,form:n,children:r}=e;if(null==r)return null;let i=r;return n&&(i=ul.createElement(ZM,{override:!0,status:!0},i)),t&&(i=ul.createElement(MA,null,i)),i},TA=ul.createContext(void 0),LA=100,AA={Modal:LA,Drawer:LA,Popover:LA,Popconfirm:LA,Tooltip:LA,Tour:LA,FloatButton:LA},OA={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const PA=(e,t)=>{const[,n]=rA(),r=ul.useContext(TA),i=e in AA;let o;if(void 0!==t)o=[t,t];else{let a=null!=r?r:0;a+=i?(r?0:n.zIndexPopupBase)+AA[e]:OA[e],o=[void 0===r?t:a,a]}return o},RA=(e,t,n)=>void 0!==n?n:`${e}-${t}`;const IA=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:a,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${vC(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function NA(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?8:r}}function jA(e,t){return e?t:{}}function zA(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:a}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},IA(e,t,i)),{"&:before":{background:t}})]},jA(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${vC(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),jA(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${vC(a)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),jA(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),jA(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}const DA={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},BA={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},FA=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function $A(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o}=e,a=t/2,s={};return Object.keys(DA).forEach((e=>{const l=r&&BA[e]||DA[e],c=Object.assign(Object.assign({},l),{offset:[0,0],dynamicInset:!0});switch(s[e]=c,FA.has(e)&&(c.autoArrow=!1),e){case"top":case"topLeft":case"topRight":c.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":c.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":c.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":c.offset[0]=a+i}const u=NA({contentRadius:o,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":c.offset[0]=-u.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":c.offset[0]=u.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":c.offset[1]=2*-u.arrowOffsetHorizontal+a;break;case"leftBottom":case"rightBottom":c.offset[1]=2*u.arrowOffsetHorizontal-a}c.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const i=r&&"object"==typeof r?r:{},o={};switch(e){case"top":case"bottom":o.shiftX=2*t.arrowOffsetHorizontal+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=2*t.arrowOffsetVertical+n,o.shiftX=!0,o.adjustX=!0}const a=Object.assign(Object.assign({},o),i);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}(e,u,t,n),c.htmlRegion="visibleFirst"})),s}function HA(e,t){return((e,t,n)=>ul.isValidElement(e)?ul.cloneElement(e,"function"==typeof n?n(e.props||{}):n):t)(e,e,t)}const UA=e=>({animationDuration:e,animationFillMode:"both"}),VA=e=>({animationDuration:e,animationFillMode:"both"}),GA=function(e,t,n,r){const i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${i}${e}-enter,\n      ${i}${e}-appear\n    `]:Object.assign(Object.assign({},UA(r)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},VA(r)),{animationPlayState:"paused"}),[`\n      ${i}${e}-enter${e}-enter-active,\n      ${i}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},WA=new AT("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),qA=new AT("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),XA=new AT("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),YA=new AT("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),JA=new AT("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),KA=new AT("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),ZA={zoom:{inKeyframes:WA,outKeyframes:qA},"zoom-big":{inKeyframes:XA,outKeyframes:YA},"zoom-big-fast":{inKeyframes:XA,outKeyframes:YA},"zoom-left":{inKeyframes:new AT("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new AT("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new AT("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new AT("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:JA,outKeyframes:KA},"zoom-down":{inKeyframes:new AT("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new AT("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},QA=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=ZA[t];return[GA(r,i,o,e.motionDurationFast),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},eO=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:a,zIndexPopup:s,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:h,sizePopupArrow:p}=e,f=t(a).add(p).add(h).equal(),m=t(a).mul(2).add(p).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},iA(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${n}-inner`]:{minWidth:m,minHeight:l,padding:`${vC(e.calc(u).div(2).equal())} ${vC(d)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:a,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:f},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(a,8)}},[`${n}-content`]:{position:"relative"}}),uA(e,((e,t)=>{let{darkColor:r}=t;return{[`&${n}-${e}`]:{[`${n}-inner`]:{backgroundColor:r},[`${n}-arrow`]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},zA(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},tO=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},NA({contentRadius:e.borderRadius,limitVerticalRadius:!0})),function(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,o=i,a=1*r/Math.sqrt(2),s=i-r*(1-1/Math.sqrt(2)),l=i-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*i-l,d=c,h=2*i-a,p=s,f=2*i-0,m=o,g=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:g,arrowPath:`path('M 0 ${o} A ${r} ${r} 0 0 0 ${a} ${s} L ${l} ${c} A ${n} ${n} 0 0 1 ${u} ${d} L ${h} ${p} A ${r} ${r} 0 0 0 ${f} ${m} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*i-v}px 100%, ${v}px 100%)`}}($L(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),nO=function(e){return lA("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,i=$L(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[eO(i),QA(e,"zoom-big-fast")]}),tO,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})(e)},rO=XL.map((e=>`${e}-inverse`));function iO(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?XL.includes(e):[].concat(Bw(rO),Bw(XL)).includes(e)}(t),r=Db({[`${e}-${t}`]:t&&n}),i={},o={};return t&&!n&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:o}}const oO=cl.forwardRef(((e,t)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:a,color:s,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:h,arrow:p=!0,title:f,overlay:m,builtinPlacements:g,arrowPointAtCenter:v=!1,autoAdjustOverflow:y=!0,motion:b,getPopupContainer:x,placement:w="top",mouseEnterDelay:_=.1,mouseLeaveDelay:S=.1,overlayStyle:E,rootClassName:k,overlayClassName:M,styles:C,classNames:T}=e,L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),A=!!p,[,O]=rA(),{getPopupContainer:P,getPrefixCls:R,direction:I,className:N,style:j,classNames:z,styles:D}=ML("tooltip"),B=$_(),F=cl.useRef(null),$=()=>{var e;null===(e=F.current)||void 0===e||e.forceAlign()};cl.useImperativeHandle(t,(()=>{var e,t;return{forceAlign:$,forcePopupAlign:()=>{B.deprecated(!1,"forcePopupAlign","forceAlign"),$()},nativeElement:null===(e=F.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=F.current)||void 0===t?void 0:t.popupElement}}));const[H,U]=Jw(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),V=!f&&!m&&0!==f,G=cl.useMemo((()=>{var e,t;let n=v;return"object"==typeof p&&(n=null!==(t=null!==(e=p.pointAtCenter)&&void 0!==e?e:p.arrowPointAtCenter)&&void 0!==t?t:v),g||$A({arrowPointAtCenter:n,autoAdjustOverflow:y,arrowWidth:A?O.sizePopupArrow:0,borderRadius:O.borderRadius,offset:O.marginXXS})}),[v,p,g,O]),W=cl.useMemo((()=>0===f?f:m||f||""),[m,f]),q=cl.createElement(CA,{space:!0},"function"==typeof W?W():W),X=R("tooltip",i),Y=R(),J=e["data-popover-inject"];let K=H;"open"in e||"visible"in e||!V||(K=!1);const Z=cl.isValidElement(c)&&!function(e){return e&&ul.isValidElement(e)&&e.type===ul.Fragment}(c)?c:cl.createElement("span",null,c),Q=Z.props,ee=Q.className&&"string"!=typeof Q.className?Q.className:Db(Q.className,o||`${X}-open`),[te,ne,re]=nO(X,!J),ie=iO(X,s),oe=ie.arrowStyle,ae=Db(M,{[`${X}-rtl`]:"rtl"===I},ie.className,k,ne,re,N,z.root,null==T?void 0:T.root),se=Db(z.body,null==T?void 0:T.body),[le,ce]=PA("Tooltip",L.zIndex),ue=cl.createElement(Hk,Object.assign({},L,{zIndex:le,showArrow:A,placement:w,mouseEnterDelay:_,mouseLeaveDelay:S,prefixCls:X,classNames:{root:ae,body:se},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oe),D.root),j),E),null==C?void 0:C.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},D.body),l),null==C?void 0:C.body),ie.overlayStyle)},getTooltipContainer:x||a||P,ref:F,builtinPlacements:G,overlay:q,visible:K,onVisibleChange:t=>{var n,r;U(!V&&t),V||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!=u?u:d,arrowContent:cl.createElement("span",{className:`${X}-arrow-content`}),motion:{motionName:RA(Y,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!h}),K?HA(Z,{className:ee}):Z);return te(cl.createElement(TA.Provider,{value:ce},ue))})),aO=oO;aO._InternalPanelDoNotUseOrYouWillBeFired=e=>{const{prefixCls:t,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:a}=e,{getPrefixCls:s}=cl.useContext(SL),l=s("tooltip",t),[c,u,d]=nO(l),h=iO(l,o),p=h.arrowStyle,f=Object.assign(Object.assign({},a),h.overlayStyle),m=Db(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,h.className);return c(cl.createElement("div",{className:m,style:p},cl.createElement("div",{className:`${l}-arrow`}),cl.createElement(rS,Object.assign({},e,{className:u,prefixCls:l,overlayInnerStyle:f}),i)))};const sO=cl.forwardRef(((e,t)=>{const{open:n,draggingDelete:r}=e,i=cl.useRef(null),o=n&&!r,a=cl.useRef(null);function s(){D_.cancel(a.current),a.current=null}return cl.useEffect((()=>(o?a.current=D_((()=>{var e;null===(e=i.current)||void 0===e||e.forceAlign(),a.current=null})):s(),s)),[o,e.title]),cl.createElement(aO,Object.assign({ref:Z_(i,t)},e,{open:o}))})),lO=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:i,marginFull:o,marginPart:a,colorFillContentHover:s,handleColorDisabled:l,calc:c,handleSize:u,handleSizeHover:d,handleActiveColor:h,handleActiveOutlineColor:p,handleLineWidth:f,handleLineWidthHover:m,motionDurationMid:g}=e;return{[t]:Object.assign(Object.assign({},iA(e)),{position:"relative",height:r,margin:`${vC(a)} ${vC(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${vC(o)} ${vC(a)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${g}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${g}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:s},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${vC(f)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(f).mul(-1).equal(),insetBlockStart:c(f).mul(-1).equal(),width:c(u).add(c(f).mul(2)).equal(),height:c(u).add(c(f).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${vC(f)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`\n            inset-inline-start ${g},\n            inset-block-start ${g},\n            width ${g},\n            height ${g},\n            box-shadow ${g},\n            outline ${g}\n          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(d).sub(u).div(2).add(m).mul(-1).equal(),insetBlockStart:c(d).sub(u).div(2).add(m).mul(-1).equal(),width:c(d).add(c(m).mul(2)).equal(),height:c(d).add(c(m).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${vC(m)} ${h}`,outline:`6px solid ${p}`,width:d,height:d,insetInlineStart:e.calc(u).sub(d).div(2).equal(),insetBlockStart:e.calc(u).sub(d).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:i,height:i,backgroundColor:e.colorBgElevated,border:`${vC(f)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`\n          ${t}-dot\n        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${vC(f)} ${l}`,insetInlineStart:0,insetBlockStart:0},[`\n          ${t}-mark-text,\n          ${t}-dot\n        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},cO=(e,t)=>{const{componentCls:n,railSize:r,handleSize:i,dotSize:o,marginFull:a,calc:s}=e,l=t?"paddingBlock":"paddingInline",c=t?"width":"height",u=t?"height":"width",d=t?"insetBlockStart":"insetInlineStart",h=t?"top":"insetInlineStart",p=s(r).mul(3).sub(i).div(2).equal(),f=s(i).sub(r).div(2).equal(),m=t?{borderWidth:`${vC(f)} 0`,transform:`translateY(${vC(s(f).mul(-1).equal())})`}:{borderWidth:`0 ${vC(f)}`,transform:`translateX(${vC(e.calc(f).mul(-1).equal())})`};return{[l]:r,[u]:s(r).mul(3).equal(),[`${n}-rail`]:{[c]:"100%",[u]:r},[`${n}-track,${n}-tracks`]:{[u]:r},[`${n}-track-draggable`]:Object.assign({},m),[`${n}-handle`]:{[d]:p},[`${n}-mark`]:{insetInlineStart:0,top:0,[h]:s(r).mul(3).add(t?0:a).equal(),[c]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[h]:r,[c]:"100%",[u]:r},[`${n}-dot`]:{position:"absolute",[d]:s(r).sub(o).div(2).equal()}}},uO=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},cO(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},dO=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},cO(e,!1)),{height:"100%"})}},hO=lA("Slider",(e=>{const t=$L(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[lO(t),uO(t),dO(t)]}),(e=>{const t=e.controlHeightLG/4,n=e.controlHeightSM/2,r=e.lineWidth+1,i=e.lineWidth+1.5,o=e.colorPrimary,a=new WT(o).setA(.2).toRgbString();return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:r,handleLineWidthHover:i,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:o,handleActiveOutlineColor:a,handleColorDisabled:new WT(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}}));function pO(){const[e,t]=cl.useState(!1),n=cl.useRef(null),r=()=>{D_.cancel(n.current)};return cl.useEffect((()=>r),[]),[e,e=>{r(),e?t(e):n.current=D_((()=>{t(e)}))}]}const fO=ul.forwardRef(((e,t)=>{const{prefixCls:n,range:r,className:i,rootClassName:o,style:a,disabled:s,tooltipPrefixCls:l,tipFormatter:c,tooltipVisible:u,getTooltipPopupContainer:d,tooltipPlacement:h,tooltip:p={},onChangeComplete:f,classNames:m,styles:g}=e,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:y}=e,{getPrefixCls:b,direction:x,className:w,style:_,classNames:S,styles:E,getPopupContainer:k}=ML("slider"),M=ul.useContext(H_),C=null!=s?s:M,{handleRender:T,direction:L}=ul.useContext(V_),A="rtl"===(L||x),[O,P]=pO(),[R,I]=pO(),N=Object.assign({},p),{open:j,placement:z,getPopupContainer:D,prefixCls:B,formatter:F}=N,$=null!=j?j:u,H=(O||R)&&!1!==$,U=function(e,t){return e||null===e?e:t||null===t?t:e=>"number"==typeof e?e.toString():""}(F,c),[V,G]=pO(),W=(e,t)=>e||(t?A?"left":"right":"top"),q=b("slider",n),[X,Y,J]=hO(q),K=Db(i,w,S.root,null==m?void 0:m.root,o,{[`${q}-rtl`]:A,[`${q}-lock`]:V},Y,J);A&&!v.vertical&&(v.reverse=!v.reverse),ul.useEffect((()=>{const e=()=>{D_((()=>{I(!1)}),1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[]);const Z=r&&!$,Q=T||((e,t)=>{const{index:n}=t,r=e.props;function i(e,t,n){var i,o,a,s;n&&(null===(o=(i=v)[e])||void 0===o||o.call(i,t)),null===(s=(a=r)[e])||void 0===s||s.call(a,t)}const o=Object.assign(Object.assign({},r),{onMouseEnter:e=>{P(!0),i("onMouseEnter",e)},onMouseLeave:e=>{P(!1),i("onMouseLeave",e)},onMouseDown:e=>{I(!0),G(!0),i("onMouseDown",e)},onFocus:e=>{var t;I(!0),null===(t=v.onFocus)||void 0===t||t.call(v,e),i("onFocus",e,!0)},onBlur:e=>{var t;I(!1),null===(t=v.onBlur)||void 0===t||t.call(v,e),i("onBlur",e,!0)}}),a=ul.cloneElement(e,o),s=(!!$||H)&&null!==U;return Z?a:ul.createElement(sO,Object.assign({},N,{prefixCls:b("tooltip",null!=B?B:l),title:U?U(t.value):"",open:s,placement:W(null!=z?z:h,y),key:n,classNames:{root:`${q}-tooltip`},getPopupContainer:D||d||k}),a)}),ee=Z?(e,t)=>{const n=ul.cloneElement(e,{style:Object.assign(Object.assign({},e.props.style),{visibility:"hidden"})});return ul.createElement(sO,Object.assign({},N,{prefixCls:b("tooltip",null!=B?B:l),title:U?U(t.value):"",open:null!==U&&H,placement:W(null!=z?z:h,y),key:"tooltip",classNames:{root:`${q}-tooltip`},getPopupContainer:D||d||k,draggingDelete:t.draggingDelete}),n)}:void 0,te=Object.assign(Object.assign(Object.assign(Object.assign({},E.root),_),null==g?void 0:g.root),a),ne=Object.assign(Object.assign({},E.tracks),null==g?void 0:g.tracks),re=Db(S.tracks,null==m?void 0:m.tracks);return X(ul.createElement(P_,Object.assign({},v,{classNames:Object.assign({handle:Db(S.handle,null==m?void 0:m.handle),rail:Db(S.rail,null==m?void 0:m.rail),track:Db(S.track,null==m?void 0:m.track)},re?{tracks:re}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},E.handle),null==g?void 0:g.handle),rail:Object.assign(Object.assign({},E.rail),null==g?void 0:g.rail),track:Object.assign(Object.assign({},E.track),null==g?void 0:g.track)},Object.keys(ne).length?{tracks:ne}:{}),step:v.step,range:r,className:K,style:te,disabled:C,ref:t,prefixCls:q,handleRender:Q,activeHandleRender:ee,onChangeComplete:e=>{null==f||f(e),G(!1)}})))})),mO=ey.div`
	position: absolute;
	background-color: #00ff00;
	width: 25%;
	right: 0;
	z-index: -1;
	height: 100vh;
`,gO=ey.div.attrs({className:"tgg-dev-menu-provider"})``,vO=()=>{const[e,t]=cl.useState(!1),[n,r]=cl.useState(!1);vu((e=>e.phoneIdentifiers));const i=vu((e=>e.resizeBy)),o=gu((e=>e.setIsCompanyCall)),a=gu((e=>e.setResizeBy));gu((e=>e.setPhoneIdentifiers));const[s,l]=cl.useState(!1);yp("toggle-dev-menu",(e=>(e=>{l(e)})(e)));const c=Lh();return el.jsxs(gO,{$resizeBy:i,children:[e&&el.jsx(mO,{children:el.jsx("div",{className:"tgg-green-screen"})}),s&&el.jsx(el.Fragment,{children:n?el.jsxs(el.Fragment,{children:[el.jsxs("div",{className:"flex p-4 gap-2 text-white",children:[el.jsx("button",{onClick:()=>r(!1),className:"bg-sky-600 p-3 rounded-md text-white",children:"Dev Menu"}),el.jsx("button",{onClick:()=>{o(!1),c(`${qp}/call`)},className:"bg-sky-600 p-3 rounded-md",children:"Call"}),el.jsx("button",{onClick:()=>t((e=>!e)),className:"bg-green-600 p-3 rounded-md",children:"Green screen"})]}),el.jsx("div",{className:"flex p-4",children:el.jsx(fO,{style:{width:150},onAfterChange:()=>{},onChange:e=>{isNaN(e)||a(e)},step:.05,min:.85,max:1.3,value:"number"==typeof i?i:.85})})]}):el.jsx("div",{className:"flex p-4 gap-2",children:el.jsx("button",{onClick:()=>r(!0),className:"bg-sky-600 p-3 rounded-md text-white",children:"Dev Menu"})})})]})},yO=ey.div.attrs({className:"tgg-blackpear-frame"})``,bO=()=>{const e=vu((e=>e.resizeBy));return el.jsx(yO,{$resizeBy:e,children:el.jsx("h1",{children:"BlackpearFrame"})})};var xO,wO,_O,SO,EO,kO=(e=>(e.Sound="sound",e.Vibration="vibration",e.Mute="mute",e))(kO||{}),MO={},CO={exports:{}};function TO(){if(wO)return xO;wO=1;return xO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function LO(){if(SO)return _O;SO=1;var e=TO();function t(){}function n(){}return n.resetWarningCache=t,_O=function(){function r(t,n,r,i,o,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}function AO(){return EO||(EO=1,CO.exports=LO()()),CO.exports}var OO,PO,RO,IO={};
/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */function NO(){if(RO)return PO;RO=1;var e,t=void 0;return"undefined"!=typeof window&&(OO||(OO=1,e=IO,function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||u(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),o=0;o<i.length;o++){var a=t._howls[r]._soundById(i[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||u(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),o=0;o<i.length;o++){var a=t._howls[r]._soundById(i[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||n,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,u()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(gG){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(gG){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(u){return e}if(!t||"function"!=typeof t.canPlayType)return e;var r=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",o=i.match(/OPR\/(\d+)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),l=i.match(/Version\/(.*?) /),c=s&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(a||!r&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(c){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=e._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||n;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new t,r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(e){var t=this;return n.ctx||u(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var o,s;if(e._format&&e._format[r])o=e._format[r];else{if("string"!=typeof(s=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(o=/^data:audio\/([^;,]+);/i.exec(s))||(o=/\.([^.]+)$/.exec(s.split("?",1)[0])),o&&(o=o[1].toLowerCase())}if(o||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),o&&n.codecs(o)){t=e._src[r];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&a(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var r=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(void 0===e&&(e="__default",!r._playLock)){for(var o=0,a=0;a<r._sounds.length;a++)r._sounds[a]._paused&&!r._sounds[a]._ended&&(o++,i=r._sounds[a]._id);1===o?e=null:i=null}}var s=i?r._soundById(i):r._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),"loaded"!==r._state){s._sprite=e,s._ended=!1;var l=s._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(i&&!s._paused)return t||r._loadQueue("play"),s._id;r._webAudio&&n._autoResume();var c=Math.max(0,s._seek>0?s._seek:r._sprite[e][0]/1e3),u=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-c),d=1e3*u/Math.abs(s._rate),h=r._sprite[e][0]/1e3,p=(r._sprite[e][0]+r._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var f=function(){s._paused=!1,s._seek=c,s._start=h,s._stop=p,s._loop=!(!s._loop&&!r._sprite[e][2])};if(!(c>=p)){var m=s._node;if(r._webAudio){var g=function(){r._playLock=!1,f(),r._refreshBuffer(s);var e=s._muted||r._muted?0:s._volume;m.gain.setValueAtTime(e,n.ctx.currentTime),s._playStart=n.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,u):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,u),d!==1/0&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),d)),t||setTimeout((function(){r._emit("play",s._id),r._loadQueue()}),0)};"running"===n.state&&"interrupted"!==n.ctx.state?g():(r._playLock=!0,r.once("resume",g),r._clearTimer(s._id))}else{var v=function(){m.currentTime=c,m.muted=s._muted||r._muted||n._muted||m.muted,m.volume=s._volume*n.volume(),m.playbackRate=s._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,f(),i.then((function(){r._playLock=!1,m._unlocked=!0,t?r._loadQueue():r._emit("play",s._id)})).catch((function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(r._playLock=!1,f(),r._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),d):(r._endTimers[s._id]=function(){r._ended(s),m.removeEventListener("ended",r._endTimers[s._id],!1)},m.addEventListener("ended",r._endTimers[s._id],!1))}catch(o){r._emit("playerror",s._id,o)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var y=window&&window.ejecta||!m.readyState&&n._navigator.isCocoonJS;if(m.readyState>=3||y)v();else{r._playLock=!0,r._state="loading";var b=function(){r._state="loaded",v(),m.removeEventListener(n._canPlayEvent,b,!1)};m.addEventListener(n._canPlayEvent,b,!1),r._clearTimer(s._id)}}return s._id}r._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,t)}}),r;if(void 0===t){if("boolean"!=typeof e)return r._muted;r._muted=e}for(var i=r._getSoundIds(t),o=0;o<i.length;o++){var a=r._soundById(i[o]);a&&(a._muted=e,a._interval&&r._stopFade(a._id),r._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,n.ctx.currentTime):a._node&&(a._node.muted=!!n._muted||e),r._emit("mute",a._id))}return r},volume:function(){var e,t,r,i=this,o=arguments;if(0===o.length)return i._volume;if(1===o.length||2===o.length&&void 0===o[1]?i._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(r=t?i._soundById(t):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,o)}}),i;void 0===t&&(i._volume=e),t=i._getSoundIds(t);for(var a=0;a<t.length;a++)(r=i._soundById(t[a]))&&(r._volume=e,o[2]||i._stopFade(t[a]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(e,n.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=e*n.volume()),i._emit("volume",r._id));return i},fade:function(e,t,r,i){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,r,i)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),r=parseFloat(r),o.volume(e,i);for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if(i||o._stopFade(a[s]),o._webAudio&&!l._muted){var c=n.ctx.currentTime,u=c+r/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(t,u)}o._startFadeInterval(l,e,t,r,a[s],void 0===i)}}return o},_startFadeInterval:function(e,t,n,r,i,o){var a=this,s=t,l=n-t,c=Math.abs(l/.01),u=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-d)/r;d=Date.now(),s+=l*i,s=Math.round(100*s)/100,s=l<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),o&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this,r=t._soundById(e);return r&&r._interval&&(t._webAudio&&r._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(r._interval),r._interval=null,t.volume(r._fadeTo,e),r._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),a=0;a<o.length;a++)(n=r._soundById(o[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(o[a])&&(r.pause(o[a],!0),r.play(o[a],!0)))));return r},rate:function(){var e,t,r,i=this,o=arguments;if(0===o.length?t=i._sounds[0]._id:1===o.length?i._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),"number"!=typeof e)return(r=i._soundById(t))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,o)}}),i;void 0===t&&(i._rate=e),t=i._getSoundIds(t);for(var a=0;a<t.length;a++)if(r=i._soundById(t[a])){i.playing(t[a])&&(r._rateSeek=i.seek(t[a]),r._playStart=i._webAudio?n.ctx.currentTime:r._playStart),r._rate=e,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):r._node&&(r._node.playbackRate=e);var s=i.seek(t[a]),l=1e3*((i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-s)/Math.abs(r._rate);!i._endTimers[t[a]]&&r._paused||(i._clearTimer(t[a]),i._endTimers[t[a]]=setTimeout(i._ended.bind(i,r),l)),i._emit("rate",r._id)}return i},seek:function(){var e,t,r=this,i=arguments;if(0===i.length?r._sounds.length&&(t=r._sounds[0]._id):1===i.length?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):r._sounds.length&&(t=r._sounds[0]._id,e=parseFloat(i[0])):2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),void 0===t)return 0;if("number"==typeof e&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var o=r._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(r._webAudio){var a=r.playing(t)?n.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var l=r.playing(t);l&&r.pause(t,!0),o._seek=e,o._ended=!1,r._clearTimer(t),r._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var c=function(){l&&r.play(t,!0),r._emit("seek",t)};if(l&&!r._webAudio){var u=function(){r._playLock?setTimeout(u,0):c()};setTimeout(u,0)}else c()}return r},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,r=0;r<t.length;r++)t[r]._paused||e.stop(t[r]._id),e._webAudio||(e._clearSound(t[r]._node),t[r]._node.removeEventListener("error",t[r]._errorFn,!1),t[r]._node.removeEventListener(n._canPlayEvent,t[r]._loadFn,!1),t[r]._node.removeEventListener("ended",t[r]._endFn,!1),n._releaseHtml5Audio(t[r]._node)),delete t[r]._node,e._clearTimer(t[r]._id);var i=n._howls.indexOf(e);i>=0&&n._howls.splice(i,1);var a=!0;for(r=0;r<n._howls.length;r++)if(n._howls[r]._src===e._src||e._src.indexOf(n._howls[r]._src)>=0){a=!1;break}return o&&a&&delete o[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<i.length;o++){var a=n===i[o].id;if(t===i[o].fn&&a||!t&&a){i.splice(o,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(r[s[o]])&&(r[s[o]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[o].fn),0),i[o].once&&r.off(e,i[o].fn,i[o].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,r=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[r][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=o[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),this},_cleanBuffer:function(e){var t=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=n._scratchBuffer}catch(gG){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,r=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(r,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=r*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var o={},a=function(e){var t=e._src;if(o[t])return e._duration=o[t].duration,void c(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);l(r.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?l(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete o[t],e.load())},s(a)}},s=function(e){try{e.send()}catch(gG){e.onerror()}},l=function(e,t){var r=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(o[t._src]=e,c(t,e)):r()};"undefined"!=typeof Promise&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(e).then(i).catch(r):n.ctx.decodeAudioData(e,i,r)},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},u=function(){if(n.usingWebAudio){try{"undefined"!=typeof AudioContext?n.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(gG){n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=t?parseInt(t[1],10):null;if(e&&r&&r<9){var i=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!i&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,void 0!==Ds?(Ds.HowlerGlobal=t,Ds.Howler=n,Ds.Howl=r,Ds.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)}(),
/*!
     *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
     *  
     *  howler.js v2.2.4
     *  howlerjs.com
     *
     *  (c) 2013-2020, James Simpson of GoldFire Studios
     *  goldfirestudios.com
     *
     *  MIT License
     */
function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,o="number"!=typeof o?s[5]:o,"number"!=typeof e?s:(a._orientation=[e,t,n,r,i,o],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,i,o),a)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var o=r._getSoundIds(n),a=0;a<o.length;a++){var s=r._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,n,r,i)}}),o;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,n,r],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(t,n,r)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(t,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,r,i)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,r="number"!=typeof r?o._orientation[2]:r,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,n,r]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var l=o._soundById(a[s]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,n,r],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),e(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(t,n,r)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var t,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;t=o[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(t=o[0],n=parseInt(o[1],10));for(var a=i._getSoundIds(n),s=0;s<a.length;s++)if(r=i._soundById(a[s])){var l=r._pannerAttr;l={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:l.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:l.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:l.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:l.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:l.panningModel};var c=r._panner;c||(r._pos||(r._pos=i._pos||[0,0,-.5]),e(r,"spatial"),c=r._panner),c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()),t=IO),PO=t}var jO,zO,DO,BO,FO={};function $O(){if(zO)return MO;zO=1,Object.defineProperty(MO,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=Ys(),n=a(t),r=a(AO()),i=NO(),o=(jO||(jO=1,Object.defineProperty(FO,"__esModule",{value:!0}),FO.noop=function(){}),FO);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.initHowler=t.initHowler.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),e(r,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(e)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.destroyHowler(),void 0!==i.Howl&&(this.howler=new i.Howl({src:e.src,xhr:e.xhr,format:e.format,mute:e.mute,loop:e.loop,preload:e.preload,volume:e.volume,rate:e.rate,onend:e.onEnd,onplay:e.onPlay,onplayerror:e.onPlayError,onpause:e.onPause,onvolume:e.onVolume,onstop:e.onStop,onload:e.onLoad,onseek:e.onSeek,onloaderror:e.onLoadError,html5:e.html5}),e.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(e){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),e.mute!==this.props.mute&&this.mute(this.props.mute),e.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&"unloaded"===this.howlerState()&&this.load()}},{key:"play",value:function(){this.howler.playing()||("unloaded"===this.howlerState()&&this.load(),this.howler.play())}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?this.howler.pause(e):this.howler.pause()}},{key:"rate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"number"==typeof e&&(t?this.howler.rate(e,t):this.howler.rate(e))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?this.howler.stop(e):this.howler.stop()}},{key:"mute",value:function(){var e;(e=this.howler).mute.apply(e,arguments)}},{key:"volume",value:function(){var e;return(e=this.howler).volume.apply(e,arguments)}},{key:"loop",value:function(){var e;return(e=this.howler).loop.apply(e,arguments)}},{key:"seek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.howler?e||0===e?e||0===e?(this.howler.seek(e),e):void 0:this.howler.seek():0}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return n.default.createElement("div",null)}},{key:"howler",set:function(e){e&&(this._howler=e)},get:function(){return this._howler}}]),r}(t.Component);return s.propTypes={src:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]).isRequired,format:r.default.arrayOf(r.default.string),xhr:r.default.object,playing:r.default.bool,mute:r.default.bool,loop:r.default.bool,preload:r.default.bool,volume:r.default.number,rate:r.default.number,onEnd:r.default.func,onPause:r.default.func,onPlay:r.default.func,onPlayError:r.default.func,onVolume:r.default.func,onStop:r.default.func,onLoad:r.default.func,onSeek:r.default.func,onLoadError:r.default.func,html5:r.default.bool},s.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:o.noop,onPause:o.noop,onPlay:o.noop,onPlayError:o.noop,onVolume:o.noop,onStop:o.noop,onLoad:o.noop,onSeek:o.noop,onLoadError:o.noop,html5:!1},MO.default=s,MO}const HO=Bs(BO?DO:(BO=1,DO=$O().default)),UO=()=>{const e=Yp+"sounds/utils/BasicCallRing.mp3",t=Yp+"sounds/vibration/BasicNotificationVibration.mp3",n=Yp+"sounds/vibration/BasicCallVibration.mp3",r=Yp+"sounds/notifications/apps/",i=Yp+"sounds/notifications/",o=Yp+"sounds/ringtones/",a=Yp+"sounds/utils/CallBusy.mp3",s=vu((e=>e.settingsConfig)),l=vu((e=>e.soundData)),c=vu((e=>e.playSound)),u=vu((e=>e.settings)),d=gu((e=>e.setPlaySound)),h=gu((e=>e.setSoundData));cl.useEffect((()=>(c||h({type:bp.None,loop:!1}),()=>{d(!1),h({type:bp.None,loop:!1})})),[c]);const p=()=>{d(!1),h({type:bp.None,loop:!1})};yp("stop-sound",p);const f=cl.useCallback((()=>{if(l.type===bp.CallRing)return e;if(l.type===bp.Ringtone){if(u.sound===kO.Sound)return o+u.ringtone+"."+((null==(c=s.sounds.ringtones.find((e=>e.key===u.ringtone)))?void 0:c.extension)??"mp3");if(u.sound===kO.Vibration)return n}else if(l.type===bp.Notification){if(u.sound===kO.Sound)return i+u.notification+"."+(()=>{var e;return(null==(e=s.sounds.notifications.find((e=>e.key===u.notification)))?void 0:e.extension)??"mp3"})();if(u.sound===kO.Vibration)return t}else if(l.type===bp.CustomApp){if(u.sound===kO.Sound)return r+(null==l?void 0:l.app)+".mp3";if(u.sound===kO.Vibration)return t}else if(l.type===bp.CallBusy)return a;var c;return""}),[l]);return el.jsx(HO,{src:[f()],playing:c,loop:l.loop,volume:l.type===bp.CallRing||l.type===bp.CallBusy?.2:u.sound===kO.Vibration?.1:u.sound===kO.Sound?u.volume/100:0,onEnd:()=>{l.loop||p()},format:["mp3","ogg"]})};var VO=(e=>(e.Aikon="aikon",e.Blackpear="blackpear",e))(VO||{});const GO=ey.div.attrs({className:"tgg-keybinds-popup"})`
	position: absolute;
	top: 1rem;
	left: 1rem;
	background-color: rgba(0, 0, 0, 0.5);
	padding: 0.5rem;
	border-radius: 0.5rem;
	z-index: 9999;

	.tgg-camera-controls-info {
		font-size: 1.1rem;
		color: #fff;
	}
`,WO=()=>{const[e,t]=cl.useState(),n=vu((e=>e.uploadConfig)),r=vu((e=>e.resizeBy));return cl.useEffect((()=>{n&&Gp("camera:get-keybinds",null).then((e=>{e&&t(e)}))}),[]),el.jsx(GO,{$resizeBy:r,children:e&&el.jsxs(el.Fragment,{children:[el.jsxs("div",{className:"tgg-camera-controls-info",children:[e.TakePhoto.Description," - ",e.TakePhoto.DisplayValue]}),el.jsxs("div",{className:"tgg-camera-controls-info",children:[e.MoveCamera.Description," - ",e.MoveCamera.DisplayValue]}),el.jsxs("div",{className:"tgg-camera-controls-info",children:[e.CloseCamera.Description," - ",e.CloseCamera.DisplayValue]})]})})};var qO,XO={exports:{}};var YO=(qO||(qO=1,(()=>{var e={296:(e,t,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==d.call(t))return NaN;var t;if(m(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var l=o.test(e);return l||a.test(e)?s(e.slice(2),l?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function x(){var e,n,r=f();if(b(r))return w(r);s=setTimeout(x,(n=t-((e=r)-l),d?p(n,o-(e-c)):n))}function w(e){return s=void 0,v&&r?y(e):(r=i=void 0,a)}function _(){var e,n=f(),o=b(n);if(r=arguments,i=this,l=n,o){if(void 0===s)return c=e=l,s=setTimeout(x,t),u?y(e):a;if(d)return s=setTimeout(x,t),y(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=g(t)||0,m(n)&&(u=!!n.leading,o=(d="maxWait"in n)?h(g(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},_.flush=function(){return void 0===s?a:w(f())},_}},96:(e,t,n)=>{var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==h.call(t))return NaN;var t;if(g(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=a.test(e);return r||s.test(e)?l(e.slice(2),r?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),function(e,t,n){var i,o,a,s,l,c,u=0,d=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}function x(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-u>=a}function w(){var e,n,r=m();if(x(r))return _(r);l=setTimeout(w,(n=t-((e=r)-c),h?f(n,a-(e-u)):n))}function _(e){return l=void 0,y&&i?b(e):(i=o=void 0,s)}function S(){var e,n=m(),r=x(n);if(i=arguments,o=this,c=n,r){if(void 0===l)return u=e=c,l=setTimeout(w,t),d?b(e):s;if(h)return l=setTimeout(w,t),b(c)}return void 0===l&&(l=setTimeout(w,t)),s}return t=v(t)||0,g(n)&&(d=!!n.leading,a=(h="maxWait"in n)?p(v(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=o=l=void 0},S.flush=function(){return void 0===l?s:_(m())},S}(e,t,{leading:i,maxWait:t,trailing:o})}},703:(e,t,n)=>{var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>H,LazyLoadImage:()=>Q,trackWindowScroll:()=>O});const e=Ys();var t=n.n(e),i=n(697);function o(){return"undefined"!=typeof window&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e){if("object"!==a(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){e.forEach((function(e){e.isIntersecting&&e.target.onVisible()}))},p={},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(g,e);var n,r,i,f,m=(i=g,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(f){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function g(e){var t,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=m.call(this,e)).supportsObserver=!e.scrollPosition&&e.useIntersectionObserver&&o(),t.supportsObserver){var r=e.threshold;t.observer=(p[n=r]=p[n]||new IntersectionObserver(h,{rootMargin:n+"px"}),p[n])}return t}return n=g,r=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollPosition,t=this.placeholder.getBoundingClientRect(),n=this.placeholder.style,r=parseInt(n.getPropertyValue("margin-left"),10)||0,i=parseInt(n.getPropertyValue("margin-top"),10)||0;return{bottom:e.y+t.bottom+i,left:e.x+t.left+r,right:e.x+t.right+r,top:e.y+t.top+i}}},{key:"isPlaceholderInViewport",value:function(){if("undefined"==typeof window||!this.placeholder)return!1;var e=this.props,t=e.scrollPosition,n=e.threshold,r=this.getPlaceholderBoundingBox(t),i=t.y+window.innerHeight,o=t.x,a=t.x+window.innerWidth,s=t.y;return Boolean(s-n<=r.bottom&&i+n>=r.top&&o-n<=r.right&&a+n>=r.left)}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var e=this,n=this.props,r=n.className,i=n.height,o=n.placeholder,a=n.style,c=n.width;if(o&&"function"!=typeof o.type)return t().cloneElement(o,{ref:function(t){return e.placeholder=t}});var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({display:"inline-block"},a);return void 0!==c&&(u.width=c),void 0!==i&&(u.height=i),t().createElement("span",{className:r,ref:function(t){return e.placeholder=t},style:u},o)}}],r&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),g}(t().Component);f.propTypes={onVisible:i.PropTypes.func.isRequired,className:i.PropTypes.string,height:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),placeholder:i.PropTypes.element,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,scrollPosition:i.PropTypes.shape({x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired}),width:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string])},f.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const m=f;var g=n(296),v=n.n(g),y=n(96),b=n.n(y),x=function(e){var t=getComputedStyle(e,null);return t.getPropertyValue("overflow")+t.getPropertyValue("overflow-y")+t.getPropertyValue("overflow-x")};const w=function(e){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t instanceof HTMLElement;){if(/(scroll|auto)/.test(x(t)))return t;t=t.parentNode}return window};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=["delayMethod","delayTime"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(){return"undefined"==typeof window?0:window.scrollX||window.pageXOffset},A=function(){return"undefined"==typeof window?0:window.scrollY||window.pageYOffset};const O=function(e){var n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(c,n);var r,i,a,s,l=(a=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(a);if(s){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function c(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=l.call(this,e)).useIntersectionObserver=e.useIntersectionObserver&&o(),n.useIntersectionObserver)return M(n);var r=n.onChangeScroll.bind(C(n));return"debounce"===e.delayMethod?n.delayedScroll=v()(r,e.delayTime):"throttle"===e.delayMethod&&(n.delayedScroll=b()(r,e.delayTime)),n.state={scrollPosition:{x:L(),y:A()}},n.baseComponentRef=t().createRef(),n}return r=c,(i=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){"undefined"==typeof window||this.useIntersectionObserver||w(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){"undefined"==typeof window||this.useIntersectionObserver||(this.scrollElement=w(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){"undefined"==typeof window||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:L(),y:A()}})}},{key:"render",value:function(){var n=this.props,r=(n.delayMethod,n.delayTime,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,S)),i=this.useIntersectionObserver?null:this.state.scrollPosition;return t().createElement(e,E({forwardRef:this.baseComponentRef,scrollPosition:i},r))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==_(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(i)?i:String(i)),r)}var i}(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),c}(t().Component);return n.propTypes={delayMethod:i.PropTypes.oneOf(["debounce","throttle"]),delayTime:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool},n.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},n};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(i);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,e)}return n=s,(r=[{key:"render",value:function(){return t().createElement(m,this.props)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==P(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===P(i)?i:String(i)),r)}var i}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t().Component);const j=O(N);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(l,e);var n,r,i,a,s=(i=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(i);if(a){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,e)});function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=s.call(this,e);var n=e.afterLoad,r=e.beforeLoad,i=e.scrollPosition,o=e.visibleByDefault;return t.state={visible:o},o&&(r(),n()),t.onVisible=t.onVisible.bind(B(t)),t.isScrollTracked=Boolean(i&&Number.isFinite(i.x)&&i.x>=0&&Number.isFinite(i.y)&&i.y>=0),t}return n=l,(r=[{key:"componentDidUpdate",value:function(e,t){t.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var e=this.props,n=e.className,r=e.delayMethod,i=e.delayTime,a=e.height,s=e.placeholder,l=e.scrollPosition,c=e.style,u=e.threshold,d=e.useIntersectionObserver,h=e.width;return this.isScrollTracked||d&&o()?t().createElement(m,{className:n,height:a,onVisible:this.onVisible,placeholder:s,scrollPosition:l,style:c,threshold:u,useIntersectionObserver:d,width:h}):t().createElement(j,{className:n,delayMethod:r,delayTime:i,height:a,onVisible:this.onVisible,placeholder:s,style:c,threshold:u,width:h})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e){if("object"!==z(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===z(i)?i:String(i)),r)}var i}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),l}(t().Component);$.propTypes={afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool},$.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const H=$;function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return(t=Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function Y(e){var t=function(e){if("object"!==U(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===U(t)?t:String(t)}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(i);if(o){var n=K(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={loaded:!1},t}return n=s,(r=[{key:"onImageLoad",value:function(){var e=this;return this.state.loaded?null:function(t){e.props.onLoad(t),e.props.afterLoad(),e.setState({loaded:!0})}}},{key:"getImg",value:function(){var e=this.props,n=(e.afterLoad,e.beforeLoad,e.delayMethod,e.delayTime,e.effect,e.placeholder,e.placeholderSrc,e.scrollPosition,e.threshold,e.useIntersectionObserver,e.visibleByDefault,e.wrapperClassName,e.wrapperProps,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,V));return t().createElement("img",X({},n,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var e=this.props,n=e.beforeLoad,r=e.className,i=e.delayMethod,o=e.delayTime,a=e.height,s=e.placeholder,l=e.scrollPosition,c=e.style,u=e.threshold,d=e.useIntersectionObserver,h=e.visibleByDefault,p=e.width;return t().createElement(H,{beforeLoad:n,className:r,delayMethod:i,delayTime:o,height:a,placeholder:s,scrollPosition:l,style:c,threshold:u,useIntersectionObserver:d,visibleByDefault:h,width:p},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(e){var n=this.props,r=n.effect,i=n.height,o=n.placeholderSrc,a=n.width,s=n.wrapperClassName,l=n.wrapperProps,c=this.state.loaded,u=c?" lazy-load-image-loaded":"",d=c||!o?{}:{backgroundImage:"url(".concat(o,")"),backgroundSize:"100% 100%"};return t().createElement("span",X({className:s+" lazy-load-image-background "+r+u,style:W(W({},d),{},{color:"transparent",display:"inline-block",height:i,width:a})},l),e)}},{key:"render",value:function(){var e=this.props,t=e.effect,n=e.placeholderSrc,r=e.visibleByDefault,i=e.wrapperClassName,o=e.wrapperProps,a=this.getLazyLoadImage();return(t||n)&&!r||i||o?this.getWrappedLazyLoadImage(a):a}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(t().Component);Z.propTypes={onLoad:i.PropTypes.func,afterLoad:i.PropTypes.func,beforeLoad:i.PropTypes.func,delayMethod:i.PropTypes.string,delayTime:i.PropTypes.number,effect:i.PropTypes.string,placeholderSrc:i.PropTypes.string,threshold:i.PropTypes.number,useIntersectionObserver:i.PropTypes.bool,visibleByDefault:i.PropTypes.bool,wrapperClassName:i.PropTypes.string,wrapperProps:i.PropTypes.object},Z.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Q=Z})(),XO.exports=r})()),XO.exports);const JO=ey.div.attrs({className:"tgg-static-layout-container"})`
	position: relative;
	height: inherit;
`,KO=({children:e,height:t,width:n})=>{const r=vu((e=>e.resizeBy));return el.jsx(JO,{$resizeBy:r,children:el.jsxs("div",{className:"tgg-phone-frame absolute overflow-hidden",style:{top:0,zIndex:950,height:t,width:n,transform:"translateX(-50%)"},children:[e,el.jsx(YO.LazyLoadImage,{visibleByDefault:!0,className:"absolute h-full w-full pointer-events-none",src:`${Yp}/aikon/frames/frame.png`,style:{zIndex:"inherit"}})]})})};const ZO=new class{constructor(){n(this,"events",{})}subscribe(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}publish(e,t){this.events[e]&&this.events[e].forEach((e=>e(t)))}},QO=ey.div.attrs({className:"tgg-keyboard"})`
	position: absolute;
	height: calc(291px * ${e=>e.$resizeBy});
	width: 100%;

	display: flex;

	bottom: 0;

	display: flex;
	flex-direction: column;

	z-index: 1099;

	.tgg-main-keys {
		display: flex;
		flex-wrap: nowrap;

		padding-top: calc(20px * ${e=>e.$resizeBy});
		padding-left: calc(20px * ${e=>e.$resizeBy});
		padding-right: calc(20px * ${e=>e.$resizeBy});

		width: 100%;

		.tgg-keys-left {
			transform: rotate(8deg);

			align-items: end;
		}

		.tgg-keys-right {
			transform: rotate(-8deg);

			align-items: start;
		}

		.tgg-keys-left,
		.tgg-keys-right {
			display: flex;
			flex-direction: column;

			width: 35%;

			.tgg-opt-key,
			.tgg-ext-key {
				cursor: pointer;
				width: 105%;
				height: calc(40px * ${e=>e.$resizeBy});
			}

			.tgg-answer-key,
			.tgg-decline-key {
				cursor: pointer;
				width: 85%;
				height: calc(35px * ${e=>e.$resizeBy});
			}
		}

		.tgg-opt-key.pressed {
			cursor: pointer;
			background-color: #222222;
			clip-path: polygon(0 0, 70% 0%, 100% 0, 100% 100%, 20% 100%, 15% 86%, 10% 69%, 4% 46%);

			opacity: 0.3;
			box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
		}

		.tgg-ext-key.pressed {
			cursor: pointer;
			background-color: #222222;
			clip-path: polygon(100% 0, 30% 0, 0 0, 0 100%, 80% 100%, 85% 86%, 90% 69%, 96% 46%);

			opacity: 0.3;
			box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
		}

		.tgg-answer-key.pressed {
			cursor: pointer;
			position: absolute;
			top: 40px;
			left: 12px;
			width: 140% !important;
			background-color: #222222;
			clip-path: polygon(
				0 0,
				62% 1%,
				65% 29%,
				68% 46%,
				74% 69%,
				100% 73%,
				95% 95%,
				64% 100%,
				37% 98%,
				25% 80%,
				16% 67%,
				9% 49%
			);
			opacity: 0.3;
		}

		.tgg-decline-key.pressed {
			cursor: pointer;
			position: absolute;
			top: 40px;
			right: 12px;
			width: 140% !important;
			background-color: #222222;
			clip-path: polygon(
				29% 62%,
				33% 39%,
				35% 0,
				100% 0%,
				89% 51%,
				80% 75%,
				70% 90%,
				59% 100%,
				29% 100%,
				1% 94%,
				0 78%,
				14% 72%
			);
			opacity: 0.3;
		}

		.tgg-keys-middle {
			width: 30%;
			height: calc(80px * ${e=>e.$resizeBy});
		}

		.tgg-keys-middle {
			position: relative;

			display: flex;

			.tgg-joy-left,
			.tgg-joy-right {
				position: absolute;

				top: 50%;
				bottom: 50%;
				transform: translateY(-50%);

				width: calc(8px * ${e=>e.$resizeBy});
				height: 75%;

				transition: background-color 0.2s;
				&:hover {
					cursor: pointer;
					background-color: rgba(255, 255, 255, 0.1);
				}
			}

			.tgg-joy-left {
				left: calc(2px * ${e=>e.$resizeBy});

				border-top-left-radius: 15px;
				border-bottom-left-radius: 15px;
			}

			.tgg-joy-right {
				right: calc(2px * ${e=>e.$resizeBy});

				border-top-right-radius: 15px;
				border-bottom-right-radius: 15px;
			}

			.tgg-joy-up,
			.tgg-joy-down {
				position: absolute;

				left: 50%;
				right: 50%;
				transform: translateX(-50%);

				width: 80%;
				height: calc(10px * ${e=>e.$resizeBy});

				transition: background-color 0.2s;

				&:hover {
					cursor: pointer;
					background-color: rgba(255, 255, 255, 0.1);
				}
			}

			.tgg-joy-up {
				top: calc(2px * ${e=>e.$resizeBy});

				border-top-left-radius: 15px;
				border-top-right-radius: 15px;
			}

			.tgg-joy-down {
				bottom: calc(4px * ${e=>e.$resizeBy});

				border-bottom-left-radius: 15px;
				border-bottom-right-radius: 15px;
			}

			.tgg-joy-middle {
				position: absolute;
				width: calc(100% - (10px * ${e=>e.$resizeBy}) * 2);
				height: calc(100% - (12.5px * ${e=>e.$resizeBy}) * 2);

				top: calc(12.5px * ${e=>e.$resizeBy});
				left: calc(10px * ${e=>e.$resizeBy});

				border-radius: calc(17.5px * ${e=>e.$resizeBy});

				transition: background-color 0.2s;

				&:hover {
					cursor: pointer;
					background-color: rgba(255, 255, 255, 0.1);
				}
			}

			.tgg-joy-up {
				top: calc(1px * ${e=>e.$resizeBy});
			}

			.tgg-joy-left {
				left: calc(1px * ${e=>e.$resizeBy});
			}

			.tgg-joy-up.pressed,
			.tgg-joy-down.pressed,
			.tgg-joy-left.pressed,
			.tgg-joy-right.pressed,
			.tgg-joy-middle.pressed {
				background-color: #222222;
				opacity: 0.3;
				box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
			}
		}
	}

	--key-background-color: #222222;

	.tgg-keypad-left {
		width: 25%;
		height: calc(30px * ${e=>e.$resizeBy});
		transform: rotate(20deg);
		transition: transform 0.1s ease-in-out;

		&:hover {
			cursor: pointer;
		}

		&.pressed {
			width: 25%;
			height: calc(30px * ${e=>e.$resizeBy});

			background-color: var(--key-background-color);

			transform: rotate(20deg);
			opacity: 0.3;
			box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
			clip-path: polygon(20% 0%, 80% 0%, 100% 15%, 78% 95%, 15% 100%, 0% 20%);
		}
	}

	.tgg-keypad-middle {
		position: relative;
		width: 23%;
		height: calc(30px * ${e=>e.$resizeBy});
		top: calc(10px * ${e=>e.$resizeBy});

		border-radius: 55px;

		&:hover {
			cursor: pointer;
		}

		&.pressed {
			width: 23%;
			height: calc(30px * ${e=>e.$resizeBy});

			background-color: var(--key-background-color);
			border-radius: 26px;

			opacity: 0.3;
			box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
		}
	}

	.tgg-keypad-right {
		width: 25%;
		height: calc(30px * ${e=>e.$resizeBy});
		transform: rotate(-15deg);

		&:hover {
			cursor: pointer;
		}

		&.pressed {
			width: 25%;
			height: calc(30px * ${e=>e.$resizeBy});

			background-color: var(--key-background-color);

			transform: rotate(-15deg);
			opacity: 0.3;
			box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
			clip-path: polygon(20% 0%, 80% 0%, 100% 15%, 78% 95%, 15% 100%, 0% 20%);
		}
	}

	.tgg-keypad {
		display: flex;
		flex-direction: column;
		width: 100%;

		.tgg-keypad-first-row {
			padding-top: calc(5px * ${e=>e.$resizeBy});
			width: 100%;
			display: flex;
			justify-content: center;
			gap: calc(10px * ${e=>e.$resizeBy});

			.tgg-keypad-one {
			}

			.tgg-keypad-two {
			}
			.tgg-keypad-three {
			}
		}

		.tgg-keypad-second-row {
			padding-top: calc(10px * ${e=>e.$resizeBy});
			width: 100%;
			display: flex;
			justify-content: center;
			gap: calc(10px * ${e=>e.$resizeBy});

			.tgg-keypad-four {
			}
			.tgg-keypad-five {
			}
			.tgg-keypad-six {
			}
		}

		.tgg-keypad-third-row {
			padding-top: calc(10px * ${e=>e.$resizeBy});
			width: 100%;
			display: flex;
			justify-content: center;
			gap: calc(10px * ${e=>e.$resizeBy});

			.tgg-keypad-seven {
				width: 23%;
				transform: rotate(10deg);
			}
			.tgg-keypad-eight {
				top: calc(8px * 1);
				margin-left: 8px;
			}
			.tgg-keypad-nine {
				margin-left: 4px;
			}
		}

		.tgg-keypad-fourth-row {
			padding-top: calc(10px * ${e=>e.$resizeBy});
			width: 100%;
			display: flex;
			justify-content: center;
			gap: calc(10px * ${e=>e.$resizeBy});

			.tgg-keypad-star {
				width: 23%;
				transform: rotate(10deg);
			}
			.tgg-keypad-zero {
				top: calc(7px * 1);
				margin-left: 2px;
			}
			.tgg-keypad-hashtag {
			}
		}
	}
`,eP=()=>{const[e,t]=cl.useState(""),[n,r]=cl.useState(!1),[i,o]=cl.useState({}),a=vu((e=>e.footerActions)),s=vu((e=>e.phoneData)),l=vu((e=>e.settings)),c=vu((e=>e.resizeBy)),u=Lh(),d=gu((e=>e.setCurrentApp));cl.useEffect((()=>{const e=["up","down","left","right","enter","ext","opt"].map((e=>ZO.subscribe(`keyboardButton:${e}:press`,(t=>{o((n=>({...n,[e]:t})))})))),n=["0","1","2","3","4","5","6","7","8","9","*","#"].map((e=>ZO.subscribe(`keyboardButton:${e}:press`,(n=>{o((t=>({...t,[e]:n}))),n&&(r(!0),t(p("*"===e||"#"===e?0:+e)))}))));return()=>{[...e,...n].forEach((e=>e()))}}),[]);const h=e=>{r(!0),t(p(e)),Cp({action:`keyboard:${e}`,internal:!0})},p=e=>{const t="string"==typeof e?"*"===e?10:"#"===e?11:parseInt(e):e;return`${Yp}/sounds/utils/keypad/beep${0==t?11:t}.mp3`},f=(e,t)=>{o((n=>({...n,[e]:t}))),ZO.publish(`keyboard:${e}:${t?"down":"up"}`)};return el.jsxs(el.Fragment,{children:[el.jsx(HO,{src:[e],playing:n,volume:l.sound===kO.Sound?l.volume/100:0,onEnd:()=>t(""),format:["mp3"]}),el.jsxs(QO,{$resizeBy:c,children:[el.jsxs("div",{className:"tgg-main-keys",children:[el.jsxs("div",{className:"tgg-keys-left",children:[el.jsx("div",{className:"tgg-opt-key "+(i.opt?"pressed":""),onClick:()=>{Hf(s)?Cp({action:"ui:phone:answer-call",internal:!0}):(Cp({action:"keyboard:opt",internal:!0}),ZO.publish("keyboard:RightShift:press"))},onMouseDown:()=>f("opt",!0),onMouseUp:()=>f("opt",!1),onMouseLeave:()=>f("opt",!1)}),el.jsx("div",{className:"tgg-answer-key "+(i.answer?"pressed":""),onClick:()=>{Cp({action:"keyboard:green",internal:!0}),s.callType===vp.Incoming&&Cp({action:"ui:phone:answer-call",internal:!0})},onMouseDown:()=>f("answer",!0),onMouseUp:()=>f("answer",!1),onMouseLeave:()=>f("answer",!1)})]}),el.jsxs("div",{className:"tgg-keys-middle",children:[el.jsx("div",{className:"tgg-joy-up "+(i.up?"pressed":""),onClick:()=>{Cp({action:"keyboard:up",internal:!0}),ZO.publish("keyboard:ArrowUp:press")},onMouseDown:()=>f("up",!0),onMouseUp:()=>f("up",!1),onMouseLeave:()=>f("up",!1)}),el.jsx("div",{className:"tgg-joy-down "+(i.down?"pressed":""),onClick:()=>{Cp({action:"keyboard:down",internal:!0}),ZO.publish("keyboard:ArrowDown:press")},onMouseDown:()=>f("down",!0),onMouseUp:()=>f("down",!1),onMouseLeave:()=>f("down",!1)}),el.jsx("div",{className:"tgg-joy-left "+(i.left?"pressed":""),onClick:()=>{Cp({action:"keyboard:left",internal:!0}),ZO.publish("keyboard:ArrowLeft:press")},onMouseDown:()=>f("left",!0),onMouseUp:()=>f("left",!1),onMouseLeave:()=>f("left",!1)}),el.jsx("div",{className:"tgg-joy-right "+(i.right?"pressed":""),onClick:()=>{Cp({action:"keyboard:right",internal:!0}),ZO.publish("keyboard:ArrowRight:press")},onMouseDown:()=>f("right",!0),onMouseUp:()=>f("right",!1),onMouseLeave:()=>f("right",!1)}),el.jsx("div",{className:"tgg-joy-middle "+(i.enter?"pressed":""),onClick:()=>{Cp({action:"keyboard:enter",internal:!0}),ZO.publish("keyboard:Enter:press")},onMouseDown:()=>f("enter",!0),onMouseUp:()=>f("enter",!1),onMouseLeave:()=>f("enter",!1)})]}),el.jsxs("div",{className:"tgg-keys-right",children:[el.jsx("div",{className:"tgg-ext-key "+(i.ext?"pressed":""),onClick:()=>{Vf(s)?Cp({action:"ui:phone:cancel-call",internal:!0}):(Cp({action:"keyboard:backspace",internal:!0}),ZO.publish("keyboard:Backspace:press"),"exit"===a.right||"back"===a.right&&Cp({action:"ui:phone:back",internal:!0}))},onMouseDown:()=>f("ext",!0),onMouseUp:()=>f("ext",!1),onMouseLeave:()=>f("ext",!1)}),el.jsx("div",{className:"tgg-decline-key "+(i.decline?"pressed":""),onClick:()=>{s.callType===vp.None?(u(Xp),d(Wp.Home)):Cp({action:"ui:phone:cancel-call",internal:!0})},onMouseDown:()=>f("decline",!0),onMouseUp:()=>f("decline",!1),onMouseLeave:()=>f("decline",!1)})]})]}),el.jsxs("div",{className:"tgg-keypad",children:[el.jsxs("div",{className:"tgg-keypad-first-row",children:[el.jsx("div",{className:"tgg-keypad-one tgg-keypad-left "+(i[1]?"pressed":""),onClick:()=>h(1),onMouseDown:()=>f(1,!0),onMouseUp:()=>f(1,!1),onMouseLeave:()=>f(1,!1)}),el.jsx("div",{className:"tgg-keypad-two tgg-keypad-middle "+(i[2]?"pressed":""),onClick:()=>h(2),onMouseDown:()=>f(2,!0),onMouseUp:()=>f(2,!1),onMouseLeave:()=>f(2,!1)}),el.jsx("div",{className:"tgg-keypad-three tgg-keypad-right "+(i[3]?"pressed":""),onClick:()=>h(3),onMouseDown:()=>f(3,!0),onMouseUp:()=>f(3,!1),onMouseLeave:()=>f(3,!1)})]}),el.jsxs("div",{className:"tgg-keypad-second-row",children:[el.jsx("div",{className:"tgg-keypad-four tgg-keypad-left "+(i[4]?"pressed":""),onClick:()=>h(4),onMouseDown:()=>f(4,!0),onMouseUp:()=>f(4,!1),onMouseLeave:()=>f(4,!1)}),el.jsx("div",{className:"tgg-keypad-five tgg-keypad-middle "+(i[5]?"pressed":""),onClick:()=>h(5),onMouseDown:()=>f(5,!0),onMouseUp:()=>f(5,!1),onMouseLeave:()=>f(5,!1)}),el.jsx("div",{className:"tgg-keypad-six tgg-keypad-right "+(i[6]?"pressed":""),onClick:()=>h(6),onMouseDown:()=>f(6,!0),onMouseUp:()=>f(6,!1),onMouseLeave:()=>f(6,!1)})]}),el.jsxs("div",{className:"tgg-keypad-third-row",children:[el.jsx("div",{className:"tgg-keypad-seven tgg-keypad-left "+(i[7]?"pressed":""),onClick:()=>h(7),onMouseDown:()=>f(7,!0),onMouseUp:()=>f(7,!1),onMouseLeave:()=>f(7,!1)}),el.jsx("div",{className:"tgg-keypad-eight tgg-keypad-middle "+(i[8]?"pressed":""),onClick:()=>h(8),onMouseDown:()=>f(8,!0),onMouseUp:()=>f(8,!1),onMouseLeave:()=>f(8,!1)}),el.jsx("div",{className:"tgg-keypad-nine tgg-keypad-right "+(i[9]?"pressed":""),onClick:()=>h(9),onMouseDown:()=>f(9,!0),onMouseUp:()=>f(9,!1),onMouseLeave:()=>f(9,!1)})]}),el.jsxs("div",{className:"tgg-keypad-fourth-row",children:[el.jsx("div",{className:"tgg-keypad-star tgg-keypad-left "+(i["*"]?"pressed":""),onClick:()=>h("*"),onMouseDown:()=>f("*",!0),onMouseUp:()=>f("*",!1),onMouseLeave:()=>f("*",!1)}),el.jsx("div",{className:"tgg-keypad-zero tgg-keypad-middle "+(i[0]?"pressed":""),onClick:()=>h(0),onMouseDown:()=>f(0,!0),onMouseUp:()=>f(0,!1),onMouseLeave:()=>f(0,!1)}),el.jsx("div",{className:"tgg-keypad-hashtag tgg-keypad-right "+(i["#"]?"pressed":""),onClick:()=>h("#"),onMouseDown:()=>f("#",!0),onMouseUp:()=>f("#",!1),onMouseLeave:()=>f("#",!1)})]})]})]})]})},tP=ey.div.attrs({className:"tgg-lock-screen"})`
	position: absolute;

	z-index: 1000;

	bottom: 0;
	left: 50%;
	right: 50%;
	transform: translateX(-50%);

	width: 100%;
	height: calc(100% - ${({$headerHeight:e})=>e}px);

	filter: brightness(calc(var(--brightness) / 100));

	display: flex;
	flex-direction: column;
	overflow: hidden;

	background-color: rgba(0, 0, 0, 1);

	.tgg-lock-screen-container {
		flex: 1;
		display: flex;
		flex-direction: column;
		overflow: hidden;

		height: 100%;
	}

	.tgg-lock-screen-pin-container {
		flex: 1;
		display: flex;
		flex-direction: column;
		overflow: hidden;

		width: 100%;
		height: 100%;
		justify-content: space-between;
		align-items: space-between;
	}

	.tgg-lock-screen-pin-container-title {
		font-size: 1.2rem;
		color: var(--tgg-text-color-primary);
		padding: 1rem;
		display: flex;
		gap: 0.5rem;
		flex-direction: column;
		align-items: flex-start;
		justify-content: space-between;
	}

	.tgg-lock-screen-pin-container-input {
		height: 30%;
	}

	.tgg-lock-screen-pin-input {
		width: 100%;
		height: 100%;
		padding: 0.2rem;
		background-color: transparent;
		color: var(--tgg-text-color-primary);
		text-align: center;
		font-size: 2.5rem;
	}
`;function nP({headerHeight:e}){const t=vu((e=>e.resizeBy)),n=cl.useRef(""),[r,i]=cl.useState(0),[o,a]=cl.useState(0),[s,l]=cl.useState(!1),[c,u]=cl.useState(0),[d,h]=cl.useState(-1),{t:p}=Up(),f=vu((e=>e.settings)),m=gu((e=>e.setSettings)),g=gu((e=>e.setSecurity)),v=gu((e=>e.setFooterActions)),y=vu((e=>e.phoneData)),b=vu((e=>e.isFocused)),{focusItem:x}=Wf({maxFocus:1,selector:".tgg-lock-screen-pin-input",backspaceHandler:()=>{},enterHandler:async()=>{if(s)return;if(n.current.length!==Vy)return;const e=await Gp("settings:verify-pin",n.current,{valid:!1,reason:"attempt_failed",remainingAttempts:0});if(e.remainingAttempts&&(a(e.remainingAttempts),n.current="",i(0)),e.lockTime)return w(e.lockTime),l(!0),u(e.lockTime),a(0),n.current="",void i(0);e.valid&&(g({isLocked:!1,isOnLockScreen:!1,isOnLockScreenWithPin:!1}),m({...f,autoLockTimeout:0}))},isModal:!0,allowLocked:!0});cl.useEffect((()=>{let e=-1;return s&&c>0&&(e=setTimeout((()=>{l(!1),u(0),m({...f,autoLockTimeout:0})}),1e3*c),h(e)),()=>{d&&(clearTimeout(d),h(-1))}}),[s,c]);const w=e=>{Gp("settings:set-auto-lock-timeout",e,{success:!0}).then((()=>{const t={...f};t.autoLockTimeout=e,m(t)}))};cl.useEffect((()=>{v(r>0?{left:"",center:Yf.Unlock,right:Yf.Clear}:{left:"",center:Yf.Unlock,right:""})}),[r]),cl.useEffect((()=>{const e=setInterval((()=>{x(".tgg-lock-screen-pin-input",1)}),300);return y.callType===vp.None&&b||clearInterval(e),()=>{clearInterval(e)}}),[]);for(let _=0;_<=9;_++)yp(`keyboard:${_}`,(()=>{n.current.length>=Vy||(n.current+=_,i(n.current.length))}));return yp("keyboard:backspace",(()=>{n.current=n.current.slice(0,-1),i(n.current.length)})),el.jsx(tP,{$resizeBy:t,$headerHeight:e,children:el.jsx(ly,{title:p("lockScreen.title"),children:el.jsx("div",{className:"tgg-lock-screen-container",children:el.jsxs("div",{className:"tgg-lock-screen-pin-container",children:[el.jsxs("div",{className:"tgg-lock-screen-pin-container-title",children:[p("lockScreen.pin"),": ",r,"/",Vy,o>0&&el.jsxs("span",{className:"tgg-lock-screen-pin-container-remaining-attempts",children:[p("lockScreen.remainingAttempts"),": ",o]}),s&&el.jsxs("span",{className:"tgg-lock-screen-pin-container-remaining-attempts",children:[p("lockScreen.lockedFor"),": ",(e=>{e<60&&(e=60);const t=Math.ceil(e/60);return`${t} ${p(t>1?"general.minutesLabel":"general.minuteLabel")}`})(c)]})]}),el.jsx("div",{className:"tgg-lock-screen-pin-container-input",children:el.jsx("input",{type:"password",value:n.current,disabled:s,onChange:e=>{const t=e.target.value;/^\d*$/.test(t)&&t.length<=Vy&&(n.current=t,i(t.length))},maxLength:Vy,tabIndex:1,className:"tgg-lock-screen-pin-input"})})]})})})})}const rP=cl.createContext(void 0),iP=({children:e})=>{const[t,n]=cl.useState({hour:"00",minute:"00"}),[r,i]=cl.useState(null);cl.useEffect((()=>(Gp("misc:get-game-time",null,{hour:"00",minute:"01"}).then((e=>o(e))),()=>{r&&clearInterval(r)})),[!1]);const o=e=>{var t,r;e&&n({hour:null==(t=null==e?void 0:e.hour)?void 0:t.toString(),minute:null==(r=null==e?void 0:e.minute)?void 0:r.toString()})};yp("clock:update-time",(e=>o(e)));const a=cl.useMemo((()=>({clock:t,updateClock:n})),[t]);return el.jsx(rP.Provider,{value:a,children:e})},oP="ddd, D MMMM",aP=ey.div.attrs({className:"tgg-lock-screen-page"})`
	position: absolute;

	z-index: 1000;

	bottom: 0;
	left: 50%;
	right: 50%;
	transform: translateX(-50%);

	width: 100%;
	height: 100%;

	filter: brightness(calc(var(--brightness) / 100));

	display: flex;
	flex-direction: column;
	overflow: hidden;

	.tgg-lock-screen-background {
		background: transparent !important;
	}

	.tgg-clock-container {
		font-size: 3rem;
		padding-top: 2rem;
		font-weight: 600;
		color: var(--tgg-text-color-primary);
		text-align: center;
	}

	.tgg-date-container {
		font-size: 0.9rem;
		font-weight: 400;
		color: var(--tgg-text-color-primary);
		text-align: center;
	}
`;function sP({headerHeight:e}){const t=vu((e=>e.resizeBy)),{clock:n}=(()=>{const e=cl.useContext(rP);if(!e)throw new Error("useClockContext must be used within a ClockProvider");return e})(),r=gu((e=>e.setFooterActions)),{date:i}=(e=>{const[t,n]=cl.useState((()=>dp().format(oP)));return cl.useEffect((()=>{const e=setInterval((()=>{n(dp().format(oP))}),6e4);return()=>{clearInterval(e)}}),[e]),{date:t}})(),o=vu((e=>e.isOpen)),[a,s]=cl.useState(!0);return cl.useEffect((()=>{r({left:"",center:Yf.Unlock,right:""})}),[]),cl.useEffect((()=>{o||s(!0)}),[o]),cl.useEffect((()=>{const e=e=>{"Enter"===e.key&&s(!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]),yp("keyboard:enter",(()=>{s(!1)})),el.jsx(aP,{$resizeBy:t,$headerHeight:e,children:a?el.jsxs(el.Fragment,{children:[el.jsx(iw,{children:el.jsxs("div",{className:"tgg-lock-screen-page-container",children:[el.jsxs("div",{className:"tgg-clock-container",children:[n.hour,":",n.minute]}),el.jsx("div",{className:"tgg-date-container",children:i})]})}),el.jsx(iy,{})]}):el.jsx(nP,{headerHeight:e})})}function lP(e){const[t,n]=cl.useState(1),r=Lh(),{index:i,resetIndexPosition:o}=yu(e.position??null,t);vu((e=>e.phoneData));const a=vu((e=>e.optionsModal));vu((e=>e.security.isLocked));const[s,l]=cl.useState(!1),[c,u]=cl.useState(!1),d=(e,t)=>{const n=document.querySelector(`${e}[tabindex="${t}"]`);null==n||n.focus()};return cl.useEffect((()=>{d(e.selector,e.defaultFocus||1)}),[]),cl.useEffect((()=>{d(e.selector,t)}),[t,e.selector,e.maxFocus]),cl.useEffect((()=>{if(a.status)return void u(!0);let e;return a.status||(e=setTimeout((()=>{u(!1)}),50)),()=>clearTimeout(e)}),[a.status]),cl.useEffect((()=>{l(!1);const e=setTimeout((()=>{l(!0)}),50);return()=>clearTimeout(e)}),[a.status]),cl.useEffect((()=>{const i=i=>{if(!c||e.isModal){if("Enter"===i.key){if(e.enterHandler&&s)return void e.enterHandler();const n=document.querySelector(`${e.selector}[tabindex="${t}"]`);null==n||n.click()}if("Backspace"===i.key){if(e.backspaceHandler)return void e.backspaceHandler();r(-1)}if(/^[0-9]$/.test(i.key)){const e=parseInt(i.key),t=new CustomEvent("numberPressed",{detail:{number:e}});window.dispatchEvent(t)}if("Shift"===i.key&&2==i.location&&e.shiftHandler)e.shiftHandler();else if("ArrowDown"===i.key||"ArrowUp"===i.key||"ArrowLeft"===i.key||"ArrowRight"===i.key){let r=t;"ArrowDown"===i.key?r=t+(e.matrixWidth??3):"ArrowUp"===i.key&&(r=t-(e.matrixWidth??3)),"ArrowLeft"!==i.key||e.disableLeftRight?"ArrowRight"!==i.key||e.disableLeftRight||(r=t+1):r=t-1,r<1?r=1:r>e.maxFocus&&(r=e.maxFocus),n(r),d(e.selector,r)}}};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}}),[t,e.enterHandler,e.backspaceHandler,e.shiftHandler,e.disableLeftRight,e.matrixWidth]),cl.useEffect((()=>{if(e.position&&1!==i){n(i),d(e.selector,i);const t=document.querySelector(`${e.selector}[tabindex="${i}"]`);null==t||t.scrollIntoView({block:"center"})}}),[i]),yp("keyboard:up",(()=>{const e=new KeyboardEvent("keydown",{key:"ArrowUp"});window.dispatchEvent(e)}),{isModal:e.isModal}),yp("keyboard:down",(()=>{const e=new KeyboardEvent("keydown",{key:"ArrowDown"});window.dispatchEvent(e)}),{isModal:e.isModal}),yp("keyboard:left",(()=>{const e=new KeyboardEvent("keydown",{key:"ArrowLeft"});window.dispatchEvent(e)}),{isModal:e.isModal}),yp("keyboard:right",(()=>{const e=new KeyboardEvent("keydown",{key:"ArrowRight"});window.dispatchEvent(e)}),{isModal:e.isModal}),yp("keyboard:enter",(()=>{const e=new KeyboardEvent("keydown",{key:"Enter"});window.dispatchEvent(e)}),{isModal:e.isModal}),yp("keyboard:backspace",(()=>{e.backspaceHandler&&e.backspaceHandler()}),{isModal:e.isModal}),yp("keyboard:shift",(()=>{e.shiftHandler&&e.shiftHandler()}),{isModal:e.isModal}),{currentFocus:t,focusItem:d,resetIndexPosition:o}}const cP=e=>{if(0===e.length)return e;return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},uP=ey.div.attrs({className:"tgg-content"})`
	height: calc(100% - ${e=>e.$offset}px);

	.tgg-home-screen-wrapper {
		position: relative;

		padding: calc(10px * ${e=>e.$resizeBy}) calc(20px * ${e=>e.$resizeBy});

		display: grid;
		grid-template-columns: repeat(3, 1fr);

		row-gap: calc(15px * ${e=>e.$resizeBy});
		column-gap: calc(10px * ${e=>e.$resizeBy});

		justify-items: center;

		overflow-y: auto;
		overflow-x: hidden;

		z-index: 910;

		.tgg-app-icon {
			display: flex;

			justify-content: center;
			align-items: center;

			height: calc(55px * ${e=>e.$resizeBy});
			width: calc(55px * ${e=>e.$resizeBy});

			img {
				height: 67.5%;
				width: 67.5;
				object-fit: cover;

				-webkit-user-drag: none;
			}

			border: 2px solid transparent;
			border-radius: 50%;

			&:focus {
				border-color: var(--tgg-highlight-color);
			}
		}
	}

	.tgg-selected-app {
		display: flex;
		justify-content: center;
		align-items: center;

		font-size: calc(0.95rem * ${e=>e.$resizeBy});
		font-weight: 600;
		color: var(--tgg-highlight-color);
	}
`,dP=({offset:e})=>{const t=vu((e=>e.previousNotifications)),n=vu((e=>e.currentApp)),r=vu((e=>e.resizeBy)),i=vu((e=>e.apps)),o=Lh(),a=cl.useCallback((()=>{t.length>0&&o(`${qp}/notifications`)}),[t,o]);cl.useEffect((()=>{localStorage.setItem("yboomer-reopen-attempts",String(0)),o(`${Xp}`)}),[]);const{currentFocus:s}=lP({maxFocus:i?i.length:0,selector:".tgg-column-focus",backspaceHandler:()=>o(`${qp}`),shiftHandler:a,position:eb.homeScreen}),l=gu((e=>e.setFooterActions)),c=gu((e=>e.setCurrentApp));cl.useEffect((()=>{l(Xf),t.length>0&&l({...Xf,left:Yf.Alerts})}),[n,t]);const u=e=>{"Enter"===e.key&&Cp([{action:"keyboard:enter",internal:!0}],0)},d=cl.useMemo((()=>cP(i[s-1])),[s,i]),h=cl.useCallback((e=>{e.key>="0"&&e.key<="9"&&o(`${qp}/number/${e.key}`)}),[o]);cl.useEffect((()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)})),[h]);for(let p=0;p<=9;p++)yp(`keyboard:${p}`,(()=>{o(`${qp}/number/${p}`)}));return yp("keyboard:opt",a),el.jsxs(uP,{$resizeBy:r,$offset:e,children:[el.jsx("div",{className:"tgg-selected-app",children:d}),el.jsx("div",{className:"tgg-home-screen-wrapper",children:i.map(((e,t)=>el.jsx("div",{style:s===t+1?{border:"2px solid var(--tgg-highlight-color)"}:{},className:"tgg-app-icon tgg-column-focus",tabIndex:t+1,onClick:()=>{return c(t=e),void(t===Wp.Home?o(`${Xp}`):o(t));var t},onKeyDown:u,children:el.jsx(YO.LazyLoadImage,{visibleByDefault:!0,src:`${Yp}/aikon/apps/${e}.png`,alt:e})},e)))})]})},hP=ey.div`
	position: absolute;
	top: 0;
	left: 0;

	width: 100%;
	height: 100%;

	z-index: 999;

	background-color: rgba(0, 0, 0, 0.5);

	.tgg-contact-item {
		display: flex;
		justify-content: space-between;
		padding: 6px;
		flex-direction: column;

		font-size: 0.9rem;
		color: var(--tgg-text-color-primary);

		&:hover {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-contact-no-contacts {
		text-align: center;
		color: var(--tgg-text-color-primary);
	}
`,pP=()=>{const e=vu((e=>e.contacts)),{t:t}=Up(),n=gu((e=>e.setOptionsModal)),r=vu((e=>e.footerActions)),i=gu((e=>e.setFooterActions)),{currentFocus:o}=Wf({maxFocus:e.length,selector:".tgg-contact-item",isModal:!0,backspaceHandler:()=>{n({status:!1,modal:Yy.MessageOptions,data:{}})},enterHandler:()=>{a(e[o-1])}});cl.useEffect((()=>(i({left:"",center:Yf.Select,right:Yf.Back}),()=>{n({status:!1,modal:Yy.MessageOptions,data:{}}),i(r)})),[]);const a=e=>{n({status:!1,modal:Yy.MessageOptions,data:{number:e.number}})};return yp("keyboard:enter",(async()=>{a(e[o-1])}),{isModal:!0}),yp("keyboard:backspace",(async()=>{n({status:!1,modal:Yy.MessageOptions,data:{}})}),{isModal:!0}),el.jsx(hP,{children:el.jsx(ly,{title:t("modals.messagesOptions.title"),children:e.length>0?e.map(((e,t)=>el.jsxs("div",{className:"tgg-contact-item tgg-row-section",style:{backgroundColor:t+1===o?"var(--tgg-highlight-color)":""},tabIndex:t+1,onClick:()=>{a(e)},children:[el.jsx("div",{children:e.name}),el.jsx("div",{children:e.number})]},e.number+t))):el.jsx("div",{className:"tgg-contact-no-contacts",children:t("modals.messagesOptions.noContacts")})})})},fP=ey.div.attrs({className:"tgg-settings-options-modal-view"})`
	position: absolute;
	top: 0;
	left: 0;

	width: 100%;
	height: 100%;

	z-index: 999;

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;
		color: var(--tgg-text-color-primary);

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-row-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`;function mP(){const e=vu((e=>e.optionsModal.data)),t=vu((e=>e.resizeBy));vu((e=>e.footerActions));const{t:n}=Up(),r=gu((e=>e.setOptionsModal)),i=gu((e=>e.setFooterActions)),o=cl.useMemo((()=>e.options.map((e=>({title:"string"==typeof e?e:e.title,callback:"string"==typeof e?void 0:e.callback})))),[e.options]),{currentFocus:a}=Wf({maxFocus:o.length,selector:".tgg-row-section",isModal:!0,backspaceHandler:()=>{r({status:!1,modal:Yy.SettingsOptions,data:{}})},enterHandler:()=>{s(o[a-1])},shiftHandler:e.shiftHandler});cl.useEffect((()=>{i({left:e.optFooterAction||"",center:Yf.Select,right:Yf.Back})}),[]);const s=t=>{if(!t.callback)return e.callback(t.title),void r({status:!1,modal:Yy.SettingsOptions,data:{}});t.callback(t)};return el.jsx(fP,{$resizeBy:t,children:el.jsx(ly,{title:n("modals.settingsOptions.title"),children:o.map(((e,t)=>el.jsx("div",{onClick:()=>e.callback?e.callback(e):s(e),tabIndex:t+1,className:"tgg-row-section",style:{backgroundColor:a===t+1?"var(--tgg-highlight-color)":"transparent"},children:el.jsx("div",{className:"tgg-row-title",children:e.title})},e.title)))})})}const gP=ey.div.attrs({className:"tgg-pin-modal-view"})`
	position: absolute;
	top: 0;
	left: 0;

	width: 100%;
	height: 100%;

	z-index: 999;
	color: var(--tgg-text-color-primary);

	.tgg-pin-modal-container {
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		justify-content: flex-end;
		align-items: space-between;
		padding: 2rem 0.6rem 0 0.6rem;
	}

	.tgg-input {
		width: 100%;
		background-color: white;
		border: none;
		padding-bottom: 30%;
	}

	.tgg-pin-modal-pin-length {
		font-size: 1.2rem;
		font-weight: 400;
		color: var(--tgg-text-color-primary);
	}

	.tgg-lock-screen-pin-input {
		width: 100%;
		height: 100%;
		padding: 0.2rem;
		background-color: transparent;
		color: var(--tgg-text-color-primary);
		text-align: center;
		font-size: 2.5rem;
	}
`;function vP(){var e,t;const n=vu((e=>e.resizeBy)),{t:r}=Up(),i=gu((e=>e.setOptionsModal)),o=vu((e=>e.optionsModal)),a=vu((e=>e.settings.streamerMode)),s=gu((e=>e.setSettings)),l=vu((e=>e.settings)),c="createPin"===(null==(e=null==o?void 0:o.data)?void 0:e.type),u="removePin"===(null==(t=null==o?void 0:o.data)?void 0:t.type),d=vu((e=>e.phoneData)),h=vu((e=>e.isFocused)),p=gu((e=>e.setFooterActions)),[f,m]=cl.useState(!1),[g,v]=cl.useState(0),y=cl.useRef(""),b=cl.useRef(!1),x=cl.useRef(""),w=e=>{y.current=e,v(e.length)},{focusItem:_}=Wf({maxFocus:1,selector:".tgg-lock-screen-pin-input",isModal:!0,backspaceHandler:cl.useCallback((()=>{f||(0===g&&(b.current?(b.current=!1,w("")):k()),""===y.current&&b.current&&(y.current="",w("")))}),[f,g,k]),enterHandler:async()=>{if(!/^\d+$/.test(y.current))return Jy(r("Invalid PIN. Please enter numbers only.")),void w("");if(y.current.length===Vy){if(u){(await Gp("settings:verify-pin",y.current,{valid:!1,reason:"attempt_failed",remainingAttempts:0})).valid&&(Jy(r("modals.pinModal.pinRemoved"),"success"),await Gp("settings:disable-lock"),s({...l,pin:!1}),k())}if(c&&!b.current)return x.current=y.current,b.current=!0,void w("");if(c&&b.current){if(y.current!==x.current)return y.current="",w(""),void Jy(r("modals.pinModal.pinMismatch"),"error");Jy(r("modals.pinModal.pinCreated"),"success");try{await Gp("settings:enable-lock",x.current),i({status:!1,modal:Yy.PinModal,data:null}),s({...l,pin:!0})}catch(e){Jy(r("modals.pinModal.pinCreationFailed"),"error")}k()}}else Jy(r(`PIN must be exactly ${Vy} digits.`))}});cl.useEffect((()=>{p({left:"",center:Yf.Save,right:g>0?Yf.Clear:Yf.Back})}),[g]),cl.useEffect((()=>()=>{k()}),[]);const S=cl.useCallback((e=>{"Backspace"===e.key&&(""!==y.current||f||(b.current?(b.current=!1,w("")):k()),"Backspace"===e.key&&m(!0))}),[f,k,m]);function E(e){"Backspace"===e.key&&m(!1)}cl.useEffect((()=>{const e=setInterval((()=>{_(".tgg-lock-screen-pin-input",1)}),300);return d.callType===vp.None&&h||clearInterval(e),()=>{clearInterval(e)}}),[]);for(let C=0;C<=9;C++)yp(`keyboard:${C}`,(()=>{y.current.length>=Vy||w(y.current+C.toString())}),{isModal:!0});function k(){i({status:!1,modal:Yy.PinModal})}yp("keyboard:backspace",(()=>{0!==y.current.length&&w(y.current.slice(0,-1))}),{isModal:!0}),cl.useEffect((()=>(window.addEventListener("keydown",S),window.addEventListener("keyup",E),()=>{window.removeEventListener("keydown",S),window.removeEventListener("keyup",E)})),[S]);const M=u?r("modals.pinModal.removePin"):b.current?r("modals.pinModal.confirmTitle"):r("modals.pinModal.title");return el.jsx(gP,{$resizeBy:n,children:el.jsx(ly,{title:M,children:el.jsxs("div",{className:"tgg-pin-modal-container",children:[el.jsxs("div",{className:"tgg-pin-modal-pin-length",children:[r("lockScreen.pin"),": ",g,"/",Vy]}),el.jsx("input",{className:"tgg-lock-screen-pin-input",value:y.current,type:a?"password":"text",onChange:function(e){const t=e.target.value;/^\d*$/.test(t)&&(t.length>Vy||w(t))},tabIndex:1,maxLength:Vy})]})})})}const yP=ey.div.attrs({className:"tgg-options-list-modal-view"})`
	position: absolute;
	top: 0;
	left: 0;

	width: 100%;
	height: 100%;

	z-index: 999;

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;
		color: var(--tgg-text-color-primary);

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-row-title {
			width: 100%;
			font-size: calc(1rem * ${e=>e.$resizeBy});
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`;function bP(){const e=vu((e=>e.optionsModal.data)),t=vu((e=>e.resizeBy)),{t:n}=Up(),r=gu((e=>e.setOptionsModal)),i=vu((e=>e.footerActions)),o=gu((e=>e.setFooterActions)),a=cl.useMemo((()=>e.options.map((e=>({title:e.title,action:e.action,children:e.children,notFocusable:e.notFocusable})))),[e.options]),{currentFocus:s}=Wf({maxFocus:a.filter((e=>!e.notFocusable)).length,selector:".tgg-row-section:not(.not-focusable)",isModal:!0,backspaceHandler:()=>{r({status:!1,modal:Yy.OptionsList,data:{}})}});return cl.useEffect((()=>(o({left:"",center:Yf.Select,right:""}),()=>{o({...i})})),[]),el.jsx(yP,{$resizeBy:t,children:el.jsx(ly,{title:n("modals.optionsList.title"),children:a.map(((e,t)=>el.jsx("div",{onClick:()=>{e.action(),r({status:!1,modal:Yy.OptionsList,data:{}})},tabIndex:e.notFocusable?-1:t+1,className:"tgg-row-section "+(e.notFocusable?"not-focusable":""),style:{backgroundColor:e.notFocusable||s!==t+1?"transparent":"var(--tgg-highlight-color)"},children:el.jsxs("div",{className:"tgg-row-title",children:[e.title,e.children]})},e.title)))})})}const xP=ey.div.attrs({className:"tgg-wallpaper-url-modal-view"})`
	position: absolute;
	top: 0;
	left: 0;

	width: 100%;
	height: 100%;

	z-index: ${e=>e.$zIndex??999};

	.tgg-wallpaper-url-input-container {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: flex-end;
		justify-content: center;
	}

	.tgg-wallpaper-url-input {
		width: 100%;
		padding: 5px 5px 30% 5px;
		background-color: transparent;
		border: none;
		outline: none;
		color: var(--tgg-text-color-primary);
	}
`;function wP(){const e=vu((e=>e.optionsModal.data)),t=cl.useRef(null),n=vu((e=>e.resizeBy)),{t:r}=Up(),i=vu((e=>e.settings)),o=gu((e=>e.setOptionsModal)),a=gu((e=>e.setSettings)),s=vu((e=>e.footerActions)),l=gu((e=>e.setFooterActions)),c=cl.useCallback((()=>{var n,r,o;const s=(null==(n=t.current)?void 0:n.value)||"",l=JSON.parse(JSON.stringify({...i,lockscreenWallpaper:s,homescreenWallpaper:s}));a(l),Gp("settings:set-wallpaper",{wallpaper:s},!0),null==(o=e.onCallback)||o.call(e,null==(r=t.current)?void 0:r.value)}),[i,a]),{currentFocus:u}=Wf({maxFocus:1,selector:".tgg-wallpaper-url-input",isModal:!0,backspaceHandler:cl.useCallback((()=>{var e;((null==(e=t.current)?void 0:e.value)||"").length>0||o({status:!1,modal:Yy.WallpaperUrl,data:{}})}),[o]),enterHandler:()=>{c()}});return cl.useEffect((()=>(l({left:"",center:Yf.Select,right:""}),()=>{l({...s})})),[]),el.jsx(xP,{$resizeBy:n,$zIndex:e.zIndex??999,children:el.jsx(ly,{title:r("modals.wallpaperUrl.title"),children:el.jsx("div",{className:"tgg-wallpaper-url-input-container",children:el.jsx("input",{type:"text",className:"tgg-wallpaper-url-input",style:{backgroundColor:1===u?"var(--tgg-highlight-color)":"transparent"},ref:t,tabIndex:1,maxLength:Gy,onChange:()=>{var e;((null==(e=t.current)?void 0:e.value)||"").length>0?l({left:"",center:Yf.Save,right:Yf.Clear}):l({left:"",center:Yf.Select,right:""})},placeholder:r("modals.wallpaperUrl.urlPlaceholder")})})})})}const _P=ey.div.attrs({className:"tgg-sound-preview"})`
	display: flex;
	flex-direction: column;

	height: 100%;
	width: 100%;

	z-index: ${e=>e.$zIndex??999};

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;
		color: var(--tgg-text-color-primary);

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-row-title {
			width: 100%;
			font-size: calc(1rem * ${e=>e.$resizeBy});
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}

	.tgg-copy-number-text {
		display: flex;
		flex-direction: column;
		align-items: flex-end;
		padding-right: calc(0.5rem * ${e=>e.$resizeBy});
		opacity: 0.75;
		text-align: right;
		white-space: nowrap;
		text-overflow: ellipsis;
		overflow: hidden;
	}

	.tgg-copy-number-text-icon {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
	}
`;var SP=(e=>(e.ringtones="ringtones",e.notifications="notifications",e))(SP||{});const EP=`${Yp}sounds/ringtones/`,kP=`${Yp}sounds/notifications/`;function MP(){const e=vu((e=>e.resizeBy)),{t:t}=Up(),n=vu((e=>e.optionsModal)),r=n.data,i=vu((e=>e.settings)),o=vu((e=>e.settingsConfig));gu((e=>e.setSettingsRingtone)),gu((e=>e.setSettingsNotification));const a=gu((e=>e.setOptionsModal)),s=gu((e=>e.setSettings)),l=vu((e=>e.footerActions)),c=gu((e=>e.setFooterActions)),[u,d]=cl.useState(""),[h,p]=cl.useState(!1),f=cl.useRef(null),{currentFocus:m}=Wf({maxFocus:r.sounds.length,selector:".tgg-row-section",isModal:!0,shiftHandler:()=>{b(r.sounds[m-1].key)},backspaceHandler:()=>{g()}});function g(){a({status:!1,modal:Yy.SoundPreview,data:{sounds:"",type:""}})}cl.useEffect((()=>(c({left:Yf.Preview,center:Yf.Select,right:Yf.Back}),()=>{g(),c(l)})),[]);cl.useEffect((()=>{var e;"ringtones"==r.type?y(EP+u+"."+((null==(e=o.sounds.ringtones.find((e=>e.key===u)))?void 0:e.extension)??"mp3")):y(kP+u+"."+(()=>{var e;return(null==(e=o.sounds.notifications.find((e=>e.key===u)))?void 0:e.extension)??"mp3"})())}),[u]),cl.useEffect((()=>()=>{a({status:!1,modal:Yy.SoundPreview,data:{sounds:"",type:""}})}),[]);const v=cl.useCallback((e=>o.sounds[r.type].find((t=>t.key===e))),[o,r.type]),y=e=>{const t=f.current;i.volume/100<=0?t.volume=.1:t.volume=i.volume/100,t.src=e,t.load(),t&&h&&(t.readyState>=2?t.play():t.addEventListener("canplay",(()=>{t.play()})))},b=e=>{!h&&p(!0),r.type,d(e)};return el.jsxs(_P,{$resizeBy:e,$zIndex:n.zIndex??999,children:[el.jsx(ly,{title:t("modals.soundPreview.title"),zIndex:1e3,children:r.sounds.map(((e,t)=>el.jsx("div",{onClick:()=>{(e=>{const t=v(e);if(t){if("ringtones"===r.type)return s({...i,ringtone:t.key}),void Gp("settings:update-ringtone",t.key,!0);s({...i,notification:t.key}),Gp("settings:update-notification",t.key,!0)}})(e.key),g()},tabIndex:t+1,className:"tgg-row-section",style:{backgroundColor:m===t+1?"var(--tgg-highlight-color)":"transparent"},children:el.jsx("div",{className:"tgg-row-title",children:e.name})},e.name)))}),el.jsx("audio",{ref:f})]})}const CP=ey.div.attrs({className:"tgg-choose-image-modal-view"})`
	position: absolute;
	top: 0;
	left: 0;

	width: 100%;
	height: 100%;

	z-index: 999;

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;

		color: var(--tgg-text-color-primary);

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-row-title {
			width: 100%;
			font-size: calc(1rem * ${e=>e.$resizeBy});
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-input-text {
		color: var(--tgg-text-color-primary);
	}
`,TP=[{id:1,phoneImei:`boomer:${Math.floor(1e9+9e9*Math.random())}`,image:"https://picsum.photos/200/300",thumbnail:"https://picsum.photos/200/300",date:new Date(2021,1,1).toISOString().split("T")[0]},{id:2,phoneImei:`boomer:${Math.floor(1e9+9e9*Math.random())}`,image:"https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",thumbnail:"https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",date:new Date(2021,1,1).toISOString().split("T")[0]},{id:3,phoneImei:`boomer:${Math.floor(1e9+9e9*Math.random())}`,image:"https://static.vecteezy.com/system/resources/thumbnails/049/139/500/small/serene-rainforest-scene-with-lush-green-foliage-and-gentle-rainfall-natural-background-for-relaxation-photo.jpg",thumbnail:"https://static.vecteezy.com/system/resources/thumbnails/049/139/500/small/serene-rainforest-scene-with-lush-green-foliage-and-gentle-rainfall-natural-background-for-relaxation-photo.jpg",date:new Date(2021,1,1).toISOString().split("T")[0]}];function LP(){const e=vu((e=>e.optionsModal.data)),t=vu((e=>e.resizeBy)),{t:n}=Up(),r=gu((e=>e.setOptionsModal)),i=vu((e=>e.footerActions)),o=gu((e=>e.setFooterActions)),[a,s]=cl.useState([]),[l,c]=cl.useState(0),[u,d]=cl.useState(0),[h,p]=cl.useState(!0),f=cl.useRef(null),m=cl.useCallback(((e=0)=>{Gp("gallery:get-images",{offset:50*e},TP).then((t=>{t&&0!==t.length?(s(0===e?t:e=>[...e,...t]),d((e=>e+t.length))):p(!1)}))}),[]);cl.useEffect((()=>{m(l)}),[l,m]);const{currentFocus:g}=Wf({maxFocus:a.length+1,selector:".focusable-item",isModal:!0,backspaceHandler:()=>{r({status:!1,modal:Yy.ChooseImage,data:{}})},enterHandler:()=>{var t;if(1===g)return e.callback((null==(t=f.current)?void 0:t.value)??""),void r({status:!1,modal:Yy.ChooseImage,data:{}});const n=a[g-2];e.callback(n.image),r({status:!1,modal:Yy.ChooseImage,data:{}})}});return cl.useEffect((()=>(o({left:"",center:Yf.Select,right:Yf.Back}),()=>{o({...i})})),[]),el.jsx(CP,{$resizeBy:t,children:el.jsx(ly,{title:n("modals.imageChoose.title"),children:el.jsx(el.Fragment,{children:a.length>0?el.jsx(el.Fragment,{children:el.jsxs(mb,{dataLength:a.length,next:()=>c((e=>e+1)),hasMore:h,loader:el.jsx(el.Fragment,{}),scrollableTarget:"tgg-container-scrollable",children:[el.jsx("div",{className:"tgg-row-section",style:{backgroundColor:1===g?"var(--tgg-highlight-color)":"transparent"},children:el.jsx("input",{type:"text",tabIndex:1,className:"focusable-item tgg-input-text",placeholder:n("modals.imageChoose.chooseUrlPlaceholder"),style:{backgroundColor:1===g?"var(--tgg-highlight-color)":"transparent"},ref:f})}),a.map(((e,t)=>el.jsx("div",{className:"tgg-row-section focusable-item",style:{backgroundColor:t+2===g?"var(--tgg-highlight-color)":"transparent"},tabIndex:t+2,children:el.jsx("img",{src:e.image,alt:`gallery-${e.id}`})},e.id)))]})}):el.jsx("div",{style:{color:"var(--tgg-text-color-primary)",textAlign:"center",marginTop:"10px"},children:n("apps.gallery.noImages")})})})})}const AP=ey.div.attrs({className:"tgg-options-modal-view"})``;function OP(){const e=vu((e=>e.optionsModal)),t=vu((e=>e.resizeBy));return el.jsxs(AP,{$resizeBy:t,children:[e.status&&e.modal===Yy.MessageOptions&&el.jsx("div",{children:el.jsx(pP,{})}),e.status&&e.modal===Yy.PhoneOptions&&el.jsx("div",{children:el.jsx(rb,{})}),e.status&&e.modal===Yy.SettingsOptions&&el.jsx("div",{children:el.jsx(mP,{})}),e.status&&e.modal===Yy.PinModal&&el.jsx("div",{children:el.jsx(vP,{})}),e.status&&e.modal===Yy.OptionsList&&el.jsx("div",{children:el.jsx(bP,{})}),e.status&&e.modal===Yy.WallpaperUrl&&el.jsx("div",{children:el.jsx(wP,{})}),e.status&&e.modal===Yy.SoundPreview&&el.jsx("div",{children:el.jsx(MP,{})}),e.status&&e.modal===Yy.ChooseImage&&el.jsx("div",{children:el.jsx(LP,{})})]})}const PP=({height:e=24,width:t=24})=>el.jsx("svg",{height:e,width:t,viewBox:"0 0 233.156 233.156",children:el.jsx("g",{children:el.jsx("path",{d:"M213.607 56.578H0v120h213.607v-32.086h19.549V88.664h-19.549V56.578zm-20 100H20v-80h173.607v80zM58.804 143.035h-24V90.121h24v52.914zm40 0h-24V90.121h24v52.914zm40 0h-24V90.121h24v52.914z",fill:"currentColor",opacity:"1","data-original":"currentColor"})})});function RP(e){return om({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M88,152v48a8,8,0,0,1-16,0V152a8,8,0,0,1,16,0ZM40,184a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-8A8,8,0,0,0,40,184Zm173.92,26.62-160-176A8,8,0,1,0,42.08,45.38L112,122.29V200a8,8,0,0,0,16,0V139.89l24,26.4V200a8,8,0,0,0,16,0V183.89l34.08,37.49a8,8,0,1,0,11.84-10.76Zm-53.92-87a8,8,0,0,0,8-8V72a8,8,0,0,0-16,0v43.63A8,8,0,0,0,160,123.63Zm40,44a8,8,0,0,0,8-8V32a8,8,0,0,0-16,0V159.63A8,8,0,0,0,200,167.63Z"},child:[]}]})(e)}function IP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(e)}function NP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(e)}function jP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M406.3 48.2c-4.7.9-202 39.2-206.2 40-4.2.8-8.1 3.6-8.1 8v240.1c0 1.6-.1 7.2-2.4 11.7-3.1 5.9-8.5 10.2-16.1 12.7-3.3 1.1-7.8 2.1-13.1 3.3-24.1 5.4-64.4 14.6-64.4 51.8 0 31.1 22.4 45.1 41.7 47.5 2.1.3 4.5.7 7.1.7 6.7 0 36-3.3 51.2-13.2 11-7.2 24.1-21.4 24.1-47.8V190.5c0-3.8 2.7-7.1 6.4-7.8l152-30.7c5-1 9.6 2.8 9.6 7.8v130.9c0 4.1-.2 8.9-2.5 13.4-3.1 5.9-8.5 10.2-16.2 12.7-3.3 1.1-8.8 2.1-14.1 3.3-24.1 5.4-64.4 14.5-64.4 51.7 0 33.7 25.4 47.2 41.8 48.3 6.5.4 11.2.3 19.4-.9s23.5-5.5 36.5-13c17.9-10.3 27.5-26.8 27.5-48.2V55.9c-.1-4.4-3.8-8.9-9.8-7.7z"},child:[]}]})(e)}function zP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.9 456c31.1 0 48.1-22 48.1-53h-96.3c0 31 17 53 48.2 53zM412 352.2c-15.4-20.3-45.7-32.2-45.7-123.1 0-93.3-41.2-130.8-79.6-139.8-3.6-.9-6.2-2.1-6.2-5.9v-2.9c0-13.4-11-24.7-24.4-24.6-13.4-.2-24.4 11.2-24.4 24.6v2.9c0 3.7-2.6 5-6.2 5.9-38.5 9.1-79.6 46.5-79.6 139.8 0 90.9-30.3 102.7-45.7 123.1-9.9 13.1-.5 31.8 15.9 31.8h280.1c16.3 0 25.7-18.8 15.8-31.8z"},child:[]}]})(e)}function DP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.4 145.5c-2.2-1.1-4.6-1.6-6.9-1.6-3.6 0-7.1 1.2-10 3.5L133.3 200H80.5c-8.8 0-16 7.2-16 16v80c0 8.8 7.2 16 16 16h52.8l65.2 52.5c2.9 2.3 6.5 3.5 10 3.5 2.3 0 4.7-.5 6.9-1.6 5.6-2.7 9.1-8.3 9.1-14.4V160c0-6.2-3.5-11.8-9.1-14.5zM447.5 256c0-59.3-23.2-114.8-65.4-156.5-4.7-4.7-12.3-4.6-17 .1-4.7 4.7-4.6 12.3.1 17 37.6 37.1 58.2 86.6 58.2 139.4 0 52.8-20.7 102.3-58.2 139.4-4.7 4.7-4.8 12.3-.1 17 2.3 2.4 5.4 3.6 8.5 3.6 3 0 6.1-1.2 8.4-3.5 42.3-41.6 65.5-97.2 65.5-156.5z"},child:[]},{tag:"path",attr:{d:"M384.9 256c0-43.5-16.6-84.3-46.8-114.9-4.7-4.7-12.3-4.8-17-.1-4.7 4.7-4.8 12.3-.1 17 25.7 26.1 39.9 60.9 39.9 98.1 0 37.2-14.2 72-39.9 98.1-4.7 4.7-4.6 12.3.1 17 2.3 2.3 5.4 3.5 8.4 3.5 3.1 0 6.2-1.2 8.5-3.6 30.2-30.8 46.9-71.6 46.9-115.1z"},child:[]},{tag:"path",attr:{d:"M287.5 182.5c-4.7-4.7-12.3-4.8-17-.1-4.7 4.7-4.8 12.3-.1 17 14.8 15 23 35.1 23 56.6 0 21.4-8.2 41.5-23 56.6-4.7 4.7-4.6 12.3.1 17 2.3 2.3 5.4 3.5 8.4 3.5 3.1 0 6.2-1.2 8.5-3.6 19.3-19.6 29.9-45.6 29.9-73.4.1-27.9-10.5-54-29.8-73.6z"},child:[]}]})(e)}function BP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M278.9 145.6c-2.2-1.1-4.6-1.6-6.9-1.6-3.6 0-7.1 1.2-10 3.5L196.8 200H144c-8.8 0-16 7.2-16 16v80c0 8.8 7.2 16 16 16h52.8l65.2 52.5c2.9 2.3 6.5 3.5 10 3.5 2.3 0 4.7-.5 6.9-1.6 5.6-2.7 9.1-8.3 9.1-14.4V160c0-6.2-3.5-11.8-9.1-14.4zM354.4 182.6c-4.6-4.7-12.1-4.8-16.8-.1-4.7 4.7-4.7 12.3-.1 17 14.7 15 22.8 35.1 22.8 56.6 0 21.4-8.1 41.5-22.8 56.6-4.6 4.7-4.6 12.3.1 17 2.3 2.3 5.3 3.5 8.3 3.5 3.1 0 6.1-1.2 8.5-3.6C373.5 310 384 284 384 256.2h-.2c0-28-10.3-54.1-29.4-73.6z"},child:[]}]})(e)}function FP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.9 145.6c-2.2-1.1-4.6-1.6-6.9-1.6-3.6 0-7.1 1.2-10 3.5L244.8 200H192c-8.8 0-16 7.2-16 16v80c0 8.8 7.2 16 16 16h52.8l65.2 52.5c2.9 2.3 6.5 3.5 10 3.5 2.3 0 4.7-.5 6.9-1.6 5.6-2.7 9.1-8.3 9.1-14.4V160c0-6.2-3.5-11.8-9.1-14.4z"},child:[]}]})(e)}function $P(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 336v-40L288 192V79.2c0-17.7-14.8-31.2-32-31.2s-32 13.5-32 31.2V192L64 296v40l160-48v113.6l-48 31.2V464l80-16 80 16v-31.2l-48-31.2V288l160 48z"},child:[]}]})(e)}function HP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M136.5 77.7l37 67L32 285.7 216.4 464l152.4-148.6 54.4-11.4L166.4 48l-29.9 29.7zm184 208H114.9l102.8-102.3 102.8 102.3zM423.3 304s-56.7 61.5-56.7 92.1c0 30.7 25.4 55.5 56.7 55.5 31.3 0 56.7-24.9 56.7-55.5S423.3 304 423.3 304z"},child:[]}]})(e)}function UP(e){return om({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M297.6 48l64.9 64.9-249.6 249.6L48 297.6V464h166.4l-64.9-64.9 249.6-249.6 64.9 64.9V48z"},child:[]}]})(e)}function VP(e){return om({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19.3891 3.16117L20.8033 4.57538L18.3277 7.04955L20.8033 9.52513L18.3277 11.9993L20.8033 14.4749L18.3284 16.9498L20.8033 19.4246L19.3891 20.8388L15.5 16.9498L17.9749 14.4749L15.5 12L17.9749 9.52513L15.5 7.05026L19.3891 3.16117ZM13 19.9449C13 20.221 12.7761 20.4449 12.5 20.4449C12.3846 20.4449 12.2727 20.405 12.1834 20.3319L6.88901 15.9991L3.00001 16C2.44772 16 2.00001 15.5523 2.00001 15V9.00001C2.00001 8.44772 2.44772 8.00001 3.00001 8.00001L5.58362 7.99762L1.80762 4.22183L3.22183 2.80762L12.9996 12.5856L13 19.9449ZM12.887 3.73851C12.9601 3.82784 13 3.93971 13 4.05513V9.75717L9.282 6.04017L12.1834 3.66815C12.3971 3.49328 12.7121 3.52479 12.887 3.73851Z"},child:[]}]})(e)}const GP=ey.div.attrs({className:"tgg-header"})`
	display: flex;

	justify-content: space-between;
	align-items: center;

	padding: calc(2.5px * ${e=>e.$resizeBy}) calc(7.5px * ${e=>e.$resizeBy});

	${e=>e.$hasOpenApp&&"background-color: var(--tgg-background-dark);"}

	.tgg-header-left {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.2rem;
	}

	.tgg-header-right {
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.2rem;
	}

	svg {
		color: var(--tgg-text-color-primary);
	}
`,WP=cl.forwardRef((function({},e){const t=vu((e=>e.hasOpenApp)),n=vu((e=>e.resizeBy)),r=vu((e=>e.phoneIdentifiers)),i=vu((e=>e.settings)),o=vu((e=>e.signal)),a=vu((e=>e.previousNotifications)),s=cl.useMemo((()=>{if(!i.airplane)return o.available&&0!==o.strength&&r.number?100===o.strength?el.jsx(bm,{size:24*n}):o.strength>=40?el.jsx(ym,{size:24*n}):o.strength>0?el.jsx(vm,{size:24*n}):void 0:el.jsx(RP,{size:24*n})}),[o.available,o.strength,i.airplane]);return el.jsxs(GP,{$resizeBy:n,$hasOpenApp:t,ref:e,children:[el.jsxs("div",{className:"tgg-header-left",children:[s,a.length>0&&el.jsx(Ex,{size:24*n}),!i.airplane&&(r.number?el.jsx(Cy,{size:18*n}):el.jsx(xm,{size:18*n})),i.airplane&&el.jsx($P,{size:20*n})]}),el.jsxs("div",{className:"tgg-header-right",children:[i.sound.toLowerCase()===kO.Mute.toLowerCase()&&el.jsx(cm,{}),i.sound.toLowerCase()===kO.Vibration.toLowerCase()&&el.jsx(VP,{}),el.jsx(PP,{width:30*n,height:30*n})]})]})}));function qP(e){return"object"===hl(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===hl(e.icon)||"function"==typeof e.icon)}function XP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r,i=e[n];if("class"===n)t.className=i,delete t.class;else delete t[n],t[(r=n,r.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=i;return t}),{})}function YP(e,t,n){return n?ul.createElement(e.tag,gl(gl({key:t},XP(e.attrs)),n),(e.children||[]).map((function(n,r){return YP(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):ul.createElement(e.tag,gl({key:t},XP(e.attrs)),(e.children||[]).map((function(n,r){return YP(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function JP(e){return KT(e)[0]}function KP(e){return e?Array.isArray(e)?e:[e]:[]}var ZP=["icon","className","onClick","style","primaryColor","secondaryColor"],QP={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var eR=function(e){var t,n,r,i,o,a,s,l,c=e.icon,u=e.className,d=e.onClick,h=e.style,p=e.primaryColor,f=e.secondaryColor,m=i_(e,ZP),g=cl.useRef(),v=QP;if(p&&(v={primaryColor:p,secondaryColor:f||JP(p)}),t=g,n=cl.useContext(PT),r=n.csp,i=n.prefixCls,o=n.layer,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",i&&(a=a.replace(/anticon/g,i)),o&&(a="@layer ".concat(o," {\n").concat(a,"\n}")),cl.useEffect((function(){var e=dE(t.current);mS(a,"@ant-design-icons",{prepend:!o,csp:r,attachTo:e})}),[]),s=qP(c),l="icon should be icon definiton, but got ".concat(c),t_(s,"[@ant-design/icons] ".concat(l)),!qP(c))return null;var y=c;return y&&"function"==typeof y.icon&&(y=gl(gl({},y),{},{icon:y.icon(v.primaryColor,v.secondaryColor)})),YP(y.icon,"svg-".concat(y.name),gl(gl({className:u,onClick:d,style:h,"data-icon":y.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},m),{},{ref:g}))};function tR(e){var t=Hw(KP(e),2),n=t[0],r=t[1];return eR.setTwoToneColors({primaryColor:n,secondaryColor:r})}eR.displayName="IconReact",eR.getTwoToneColors=function(){return gl({},QP)},eR.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;QP.primaryColor=t,QP.secondaryColor=n||JP(t),QP.calculated=!!n};var nR=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];tR(sL.primary);var rR=cl.forwardRef((function(e,t){var n=e.className,r=e.icon,i=e.spin,o=e.rotate,a=e.tabIndex,s=e.onClick,l=e.twoToneColor,c=i_(e,nR),u=cl.useContext(PT),d=u.prefixCls,h=void 0===d?"anticon":d,p=u.rootClassName,f=Db(p,h,fl(fl({},"".concat(h,"-").concat(r.name),!!r.name),"".concat(h,"-spin"),!!i||"loading"===r.name),n),m=a;void 0===m&&s&&(m=-1);var g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,v=Hw(KP(l),2),y=v[0],b=v[1];return cl.createElement("span",r_({role:"img","aria-label":r.name},c,{ref:t,tabIndex:m,onClick:s,className:f}),cl.createElement(eR,{icon:r,primaryColor:y,secondaryColor:b,style:g}))}));rR.displayName="AntdIcon",rR.getTwoToneColor=function(){var e=eR.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},rR.setTwoToneColor=tR;var iR=function(e,t){return cl.createElement(rR,r_({},e,{ref:t,icon:kx}))},oR=cl.forwardRef(iR),aR=function(e,t){return cl.createElement(rR,r_({},e,{ref:t,icon:Mx}))},sR=cl.forwardRef(aR),lR=function(e,t){return cl.createElement(rR,r_({},e,{ref:t,icon:Cx}))},cR=cl.forwardRef(lR),uR=function(e,t){return cl.createElement(rR,r_({},e,{ref:t,icon:jx}))},dR=cl.forwardRef(uR),hR=function(e,t){return cl.createElement(rR,r_({},e,{ref:t,icon:$x}))},pR=cl.forwardRef(hR),fR="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function mR(e,t){return 0===e.indexOf(t)}const gR=e=>{const[,,,,t]=rA();return t?`${e}-css-var`:""};var vR=cl.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,i=e.className,o=e.duration,a=void 0===o?4.5:o,s=e.showProgress,l=e.pauseOnHover,c=void 0===l||l,u=e.eventKey,d=e.content,h=e.closable,p=e.closeIcon,f=void 0===p?"x":p,m=e.props,g=e.onClick,v=e.onNoticeClose,y=e.times,b=e.hovering,x=Hw(cl.useState(!1),2),w=x[0],_=x[1],S=Hw(cl.useState(0),2),E=S[0],k=S[1],M=Hw(cl.useState(0),2),C=M[0],T=M[1],L=b||w,A=a>0&&s,O=function(){v(u)};cl.useEffect((function(){if(!L&&a>0){var e=Date.now()-C,t=setTimeout((function(){O()}),1e3*a-C);return function(){c&&clearTimeout(t),T(Date.now()-e)}}}),[a,L,y]),cl.useEffect((function(){if(!L&&A&&(c||0===C)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame((function(e){var r=e+C-t,i=Math.min(r/(1e3*a),1);k(100*i),i<1&&n()}))}(),function(){c&&cancelAnimationFrame(e)}}}),[a,C,L,A,y]);var P=cl.useMemo((function(){return"object"===hl(h)&&null!==h?h:h?{closeIcon:f}:{}}),[h,f]),R=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:gl({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||mR(n,"aria-"))||t.data&&mR(n,"data-")||t.attr&&fR.includes(n))&&(r[n]=e[n])})),r}(P,!0),I=100-(!E||E<0?0:E>100?100:E),N="".concat(n,"-notice");return cl.createElement("div",r_({},m,{ref:t,className:Db(N,i,fl({},"".concat(N,"-closable"),h)),style:r,onMouseEnter:function(e){var t;_(!0),null==m||null===(t=m.onMouseEnter)||void 0===t||t.call(m,e)},onMouseLeave:function(e){var t;_(!1),null==m||null===(t=m.onMouseLeave)||void 0===t||t.call(m,e)},onClick:g}),cl.createElement("div",{className:"".concat(N,"-content")},d),h&&cl.createElement("a",r_({tabIndex:0,className:"".concat(N,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==c_||O()},"aria-label":"Close"},R,{onClick:function(e){e.preventDefault(),e.stopPropagation(),O()}}),P.closeIcon),A&&cl.createElement("progress",{className:"".concat(N,"-progress"),max:"100",value:I},I+"%"))})),yR=ul.createContext({}),bR=function(e){var t=e.children,n=e.classNames;return ul.createElement(yR.Provider,{value:{classNames:n}},t)},xR=["className","style","classNames","styles"],wR=function(e){var t,n,r,i,o,a=e.configList,s=e.placement,l=e.prefixCls,c=e.className,u=e.style,d=e.motion,h=e.onAllNoticeRemoved,p=e.onNoticeClose,f=e.stack,m=cl.useContext(yR).classNames,g=cl.useRef({}),v=Hw(cl.useState(null),2),y=v[0],b=v[1],x=Hw(cl.useState([]),2),w=x[0],_=x[1],S=a.map((function(e){return{config:e,key:String(e.key)}})),E=Hw((o={offset:8,threshold:3,gap:16},(t=f)&&"object"===hl(t)&&(o.offset=null!==(n=t.offset)&&void 0!==n?n:8,o.threshold=null!==(r=t.threshold)&&void 0!==r?r:3,o.gap=null!==(i=t.gap)&&void 0!==i?i:16),[!!t,o]),2),k=E[0],M=E[1],C=M.offset,T=M.threshold,L=M.gap,A=k&&(w.length>0||S.length<=T),O="function"==typeof d?d(s):d;return cl.useEffect((function(){k&&w.length>1&&_((function(e){return e.filter((function(e){return S.some((function(t){var n=t.key;return e===n}))}))}))}),[w,S,k]),cl.useEffect((function(){var e,t;k&&g.current[null===(e=S[S.length-1])||void 0===e?void 0:e.key]&&b(g.current[null===(t=S[S.length-1])||void 0===t?void 0:t.key])}),[S,k]),ul.createElement(pk,r_({key:s,className:Db(l,"".concat(l,"-").concat(s),null==m?void 0:m.list,c,fl(fl({},"".concat(l,"-stack"),!!k),"".concat(l,"-stack-expanded"),A)),style:u,keys:S,motionAppear:!0},O,{onAllRemoved:function(){h(s)}}),(function(e,t){var n=e.config,r=e.className,i=e.style,o=e.index,a=n,c=a.key,u=a.times,d=String(c),h=n,f=h.className,v=h.style,b=h.classNames,x=h.styles,E=i_(h,xR),M=S.findIndex((function(e){return e.key===d})),T={};if(k){var O=S.length-1-(M>-1?M:o-1),P="top"===s||"bottom"===s?"-50%":"0";if(O>0){var R,I,N;T.height=A?null===(R=g.current[d])||void 0===R?void 0:R.offsetHeight:null==y?void 0:y.offsetHeight;for(var j=0,z=0;z<O;z++){var D;j+=(null===(D=g.current[S[S.length-1-z].key])||void 0===D?void 0:D.offsetHeight)+L}var B=(A?j:O*C)*(s.startsWith("top")?1:-1),F=!A&&null!=y&&y.offsetWidth&&null!==(I=g.current[d])&&void 0!==I&&I.offsetWidth?((null==y?void 0:y.offsetWidth)-2*C*(O<3?O:3))/(null===(N=g.current[d])||void 0===N?void 0:N.offsetWidth):1;T.transform="translate3d(".concat(P,", ").concat(B,"px, 0) scaleX(").concat(F,")")}else T.transform="translate3d(".concat(P,", 0, 0)")}return ul.createElement("div",{ref:t,className:Db("".concat(l,"-notice-wrapper"),r,null==b?void 0:b.wrapper),style:gl(gl(gl({},i),T),null==x?void 0:x.wrapper),onMouseEnter:function(){return _((function(e){return e.includes(d)?e:[].concat(Bw(e),[d])}))},onMouseLeave:function(){return _((function(e){return e.filter((function(e){return e!==d}))}))}},ul.createElement(vR,r_({},E,{ref:function(e){M>-1?g.current[d]=e:delete g.current[d]},prefixCls:l,classNames:b,styles:x,className:Db(f,null==m?void 0:m.notice),style:v,times:u,key:c,eventKey:c,onNoticeClose:p,hovering:k&&w.length>0})))}))},_R=cl.forwardRef((function(e,t){var n=e.prefixCls,r=void 0===n?"rc-notification":n,i=e.container,o=e.motion,a=e.maxCount,s=e.className,l=e.style,c=e.onAllRemoved,u=e.stack,d=e.renderNotifications,h=Hw(cl.useState([]),2),p=h[0],f=h[1],m=function(e){var t,n=p.find((function(t){return t.key===e}));null==n||null===(t=n.onClose)||void 0===t||t.call(n),f((function(t){return t.filter((function(t){return t.key!==e}))}))};cl.useImperativeHandle(t,(function(){return{open:function(e){f((function(t){var n,r=Bw(t),i=r.findIndex((function(t){return t.key===e.key})),o=gl({},e);i>=0?(o.times=((null===(n=t[i])||void 0===n?void 0:n.times)||0)+1,r[i]=o):(o.times=0,r.push(o));return a>0&&r.length>a&&(r=r.slice(-a)),r}))},close:function(e){m(e)},destroy:function(){f([])}}}));var g=Hw(cl.useState({}),2),v=g[0],y=g[1];cl.useEffect((function(){var e={};p.forEach((function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))})),Object.keys(v).forEach((function(t){e[t]=e[t]||[]})),y(e)}),[p]);var b=function(e){y((function(t){var n=gl({},t);return(n[e]||[]).length||delete n[e],n}))},x=cl.useRef(!1);if(cl.useEffect((function(){Object.keys(v).length>0?x.current=!0:x.current&&(null==c||c(),x.current=!1)}),[v]),!i)return null;var w=Object.keys(v);return Au.createPortal(cl.createElement(cl.Fragment,null,w.map((function(e){var t=v[e],n=cl.createElement(wR,{key:e,configList:t,placement:e,prefixCls:r,className:null==s?void 0:s(e),style:null==l?void 0:l(e),motion:o,onNoticeClose:m,onAllNoticeRemoved:b,stack:u});return d?d(n,{prefixCls:r,key:e}):n}))),i)})),SR=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],ER=function(){return document.body},kR=0;function MR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?ER:t,r=e.motion,i=e.prefixCls,o=e.maxCount,a=e.className,s=e.style,l=e.onAllRemoved,c=e.stack,u=e.renderNotifications,d=i_(e,SR),h=Hw(cl.useState(),2),p=h[0],f=h[1],m=cl.useRef(),g=cl.createElement(_R,{container:p,ref:m,prefixCls:i,motion:r,maxCount:o,className:a,style:s,onAllRemoved:l,stack:c,renderNotifications:u}),v=Hw(cl.useState([]),2),y=v[0],b=v[1],x=cl.useMemo((function(){return{open:function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(d,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(kR),kR+=1),b((function(e){return[].concat(Bw(e),[{type:"open",config:t}])}))},close:function(e){b((function(t){return[].concat(Bw(t),[{type:"close",key:e}])}))},destroy:function(){b((function(e){return[].concat(Bw(e),[{type:"destroy"}])}))}}}),[]);return cl.useEffect((function(){f(n())})),cl.useEffect((function(){var e,t;m.current&&y.length&&(y.forEach((function(e){switch(e.type){case"open":m.current.open(e.config);break;case"close":m.current.close(e.key);break;case"destroy":m.current.destroy()}})),b((function(n){return e===n&&t||(e=n,t=n.filter((function(e){return!y.includes(e)}))),t})))}),[y]),[x,g]}var CR,TR=gl({},Pu),LR=TR.version,AR=TR.render,OR=TR.unmountComponentAtNode;try{Number((LR||"").split(".")[0])>=18&&(CR=TR.createRoot)}catch(gG){}function PR(e){var t=TR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===hl(t)&&(t.usingClientEntryPoint=e)}var RR="__rc_react_root__";function IR(e,t){CR?function(e,t){PR(!0);var n=t[RR]||CR(t);PR(!1),n.render(e),t[RR]=n}(e,t):function(e,t){null==AR||AR(e,t)}(e,t)}function NR(e){return jR.apply(this,arguments)}function jR(){return(jR=Gk(Uk().mark((function e(t){return Uk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[RR])||void 0===e||e.unmount(),delete t[RR]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zR(e){OR(e)}function DR(){return(DR=Gk(Uk().mark((function e(t){return Uk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===CR){e.next=2;break}return e.abrupt("return",NR(t));case 2:zR(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}let BR=(e,t)=>(IR(e,t),()=>function(e){return DR.apply(this,arguments)}(t));const FR=e=>{const{componentCls:t,notificationMarginEdge:n,animationMaxHeight:r}=e,i=`${t}-notice`,o=new AT("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),a=new AT("antNotificationTopFadeIn",{"0%":{top:-r,opacity:0},"100%":{top:0,opacity:1}}),s=new AT("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(r).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),l=new AT("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[i]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:o}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[i]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}}}}},$R=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],HR={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},UR=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},VR=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)},GR=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},UR(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},VR(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},$R.map((t=>((e,t)=>{const{componentCls:n}=e;return{[`${n}-${t}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[HR[t]]:{value:0,_skip_check_:!0}}}}})(e,t))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{}))},WR=e=>{const{iconCls:t,componentCls:n,boxShadow:r,fontSizeLG:i,notificationMarginBottom:o,borderRadiusLG:a,colorSuccess:s,colorInfo:l,colorWarning:c,colorError:u,colorTextHeading:d,notificationBg:h,notificationPadding:p,notificationMarginEdge:f,notificationProgressBg:m,notificationProgressHeight:g,fontSize:v,lineHeight:y,width:b,notificationIconSize:x,colorText:w}=e,_=`${n}-notice`;return{position:"relative",marginBottom:o,marginInlineStart:"auto",background:h,borderRadius:a,boxShadow:r,[_]:{padding:p,width:b,maxWidth:`calc(100vw - ${vC(e.calc(f).mul(2).equal())})`,overflow:"hidden",lineHeight:y,wordWrap:"break-word"},[`${_}-message`]:{marginBottom:e.marginXS,color:d,fontSize:i,lineHeight:e.lineHeightLG},[`${_}-description`]:{fontSize:v,color:w},[`${_}-closable ${_}-message`]:{paddingInlineEnd:e.paddingLG},[`${_}-with-icon ${_}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(x).equal(),fontSize:i},[`${_}-with-icon ${_}-description`]:{marginInlineStart:e.calc(e.marginSM).add(x).equal(),fontSize:v},[`${_}-icon`]:{position:"absolute",fontSize:x,lineHeight:1,[`&-success${t}`]:{color:s},[`&-info${t}`]:{color:l},[`&-warning${t}`]:{color:c},[`&-error${t}`]:{color:u}},[`${_}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},aA(e)),[`${_}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${vC(a)} * 2)`,left:{_skip_check_:!0,value:a},right:{_skip_check_:!0,value:a},bottom:0,blockSize:g,border:0,"&, &::-webkit-progress-bar":{borderRadius:a,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:m},"&::-webkit-progress-value":{borderRadius:a,background:m}},[`${_}-actions`]:{float:"right",marginTop:e.marginSM}}},qR=e=>{const{componentCls:t,notificationMarginBottom:n,notificationMarginEdge:r,motionDurationMid:i,motionEaseInOut:o}=e,a=`${t}-notice`,s=new AT("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},iA(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:r,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:o,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:o,animationFillMode:"both",animationDuration:i,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:s,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${a}-actions`]:{float:"left"}}})},{[t]:{[`${a}-wrapper`]:Object.assign({},WR(e))}}]},XR=e=>({zIndexPopup:e.zIndexPopupBase+1e3+50,width:384}),YR=e=>{const t=e.paddingMD,n=e.paddingLG;return $L(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${vC(e.paddingMD)} ${vC(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})},JR=lA("Notification",(e=>{const t=YR(e);return[qR(t),FR(t),GR(t)]}),XR),KR=cA(["Notification","PurePanel"],(e=>{const t=`${e.componentCls}-notice`,n=YR(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},WR(n)),{width:n.width,maxWidth:`calc(100vw - ${vC(e.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}}),XR);function ZR(e,t){return null===t||!1===t?null:t||cl.createElement(cR,{className:`${e}-close-icon`})}const QR={success:oR,info:pR,error:sR,warning:dR},eI=e=>{const{prefixCls:t,icon:n,type:r,message:i,description:o,actions:a,role:s="alert"}=e;let l=null;return n?l=cl.createElement("span",{className:`${t}-icon`},n):r&&(l=cl.createElement(QR[r]||null,{className:Db(`${t}-icon`,`${t}-icon-${r}`)})),cl.createElement("div",{className:Db({[`${t}-with-icon`]:l}),role:s},l,cl.createElement("div",{className:`${t}-message`},i),cl.createElement("div",{className:`${t}-description`},o),a&&cl.createElement("div",{className:`${t}-actions`},a))};const tI=e=>{let{children:t,prefixCls:n}=e;const r=gR(n),[i,o,a]=JR(n,r);return i(ul.createElement(bR,{classNames:{list:Db(o,a,r)}},t))},nI=(e,t)=>{let{prefixCls:n,key:r}=t;return ul.createElement(tI,{prefixCls:n,key:r},e)},rI=ul.forwardRef(((e,t)=>{const{top:n,bottom:r,prefixCls:i,getContainer:o,maxCount:a,rtl:s,onAllRemoved:l,stack:c,duration:u,pauseOnHover:d=!0,showProgress:h}=e,{getPrefixCls:p,getPopupContainer:f,notification:m,direction:g}=cl.useContext(SL),[,v]=rA(),y=i||p("notification"),[b,x]=MR({prefixCls:y,style:e=>function(e,t,n){let r;switch(e){case"top":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":r={left:0,top:t,bottom:"auto"};break;case"topRight":r={right:0,top:t,bottom:"auto"};break;case"bottom":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":r={left:0,top:"auto",bottom:n};break;default:r={right:0,top:"auto",bottom:n}}return r}(e,null!=n?n:24,null!=r?r:24),className:()=>Db({[`${y}-rtl`]:null!=s?s:"rtl"===g}),motion:()=>function(e){return{motionName:`${e}-fade`}}(y),closable:!0,closeIcon:ZR(y),duration:null!=u?u:4.5,getContainer:()=>(null==o?void 0:o())||(null==f?void 0:f())||document.body,maxCount:a,pauseOnHover:d,showProgress:h,onAllRemoved:l,renderNotifications:nI,stack:!1!==c&&{threshold:"object"==typeof c?null==c?void 0:c.threshold:void 0,offset:8,gap:v.margin}});return ul.useImperativeHandle(t,(()=>Object.assign(Object.assign({},b),{prefixCls:y,notification:m}))),x}));function iI(e){const t=ul.useRef(null);$_();const n=ul.useMemo((()=>{const n=n=>{var r;if(!t.current)return;const{open:i,prefixCls:o,notification:a}=t.current,s=`${o}-notice`,{message:l,description:c,icon:u,type:d,btn:h,actions:p,className:f,style:m,role:g="alert",closeIcon:v,closable:y}=n,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),x=null!=p?p:h,w=ZR(s,function(e,t,n){return void 0!==e?e:void 0!==(null==t?void 0:t.closeIcon)?t.closeIcon:null==n?void 0:n.closeIcon}(v,e,a));return i(Object.assign(Object.assign({placement:null!==(r=null==e?void 0:e.placement)&&void 0!==r?r:"topRight"},b),{content:ul.createElement(eI,{prefixCls:s,icon:u,type:d,message:l,description:c,actions:x,role:g}),className:Db(d&&`${s}-${d}`,f,null==a?void 0:a.className),style:Object.assign(Object.assign({},null==a?void 0:a.style),m),closeIcon:w,closable:null!=y?y:!!w}))},r={open:n,destroy:e=>{var n,r;void 0!==e?null===(n=t.current)||void 0===n||n.close(e):null===(r=t.current)||void 0===r||r.destroy()}};return["success","info","warning","error"].forEach((e=>{r[e]=t=>n(Object.assign(Object.assign({},t),{type:e}))})),r}),[]);return[n,ul.createElement(rI,Object.assign({key:"notification-holder"},e,{ref:t}))]}const oI=ul.createContext({});let aI=null,sI=e=>e(),lI=[],cI={};function uI(){const{getContainer:e,rtl:t,maxCount:n,top:r,bottom:i,showProgress:o,pauseOnHover:a}=cI,s=(null==e?void 0:e())||document.body;return{getContainer:()=>s,rtl:t,maxCount:n,top:r,bottom:i,showProgress:o,pauseOnHover:a}}const dI=ul.forwardRef(((e,t)=>{const{notificationConfig:n,sync:r}=e,{getPrefixCls:i}=cl.useContext(SL),o=cI.prefixCls||i("notification"),a=cl.useContext(oI),[s,l]=iI(Object.assign(Object.assign(Object.assign({},n),{prefixCls:o}),a.notification));return ul.useEffect(r,[]),ul.useImperativeHandle(t,(()=>{const e=Object.assign({},s);return Object.keys(e).forEach((t=>{e[t]=function(){return r(),s[t].apply(s,arguments)}})),{instance:e,sync:r}})),l})),hI=ul.forwardRef(((e,t)=>{const[n,r]=ul.useState(uI),i=()=>{r(uI)};ul.useEffect(i,[]);const o={getPrefixCls:(e,t)=>t||(e?`${wA()}-${e}`:wA()),getIconPrefixCls:_A,getRootPrefixCls:()=>vA||wA(),getTheme:()=>bA,holderRender:xA},a=o.getRootPrefixCls(),s=o.getIconPrefixCls(),l=o.getTheme(),c=ul.createElement(dI,{ref:t,sync:i,notificationConfig:n});return ul.createElement(EA,{prefixCls:a,iconPrefixCls:s,theme:l},o.holderRender?o.holderRender(c):c)}));function pI(){if(!aI){const e=document.createDocumentFragment(),t={fragment:e};return aI=t,void sI((()=>{BR(ul.createElement(hI,{ref:e=>{const{instance:n,sync:r}=e||{};Promise.resolve().then((()=>{!t.instance&&n&&(t.instance=n,t.sync=r,pI())}))}}),e)}))}aI.instance&&(lI.forEach((e=>{switch(e.type){case"open":sI((()=>{aI.instance.open(Object.assign(Object.assign({},cI),e.config))}));break;case"destroy":sI((()=>{null==aI||aI.instance.destroy(e.key)}))}})),lI=[])}function fI(e){lI.push({type:"open",config:e}),pI()}const mI={open:fI,destroy:e=>{lI.push({type:"destroy",key:e}),pI()},config:function(e){cI=Object.assign(Object.assign({},cI),e),sI((()=>{var e;null===(e=null==aI?void 0:aI.sync)||void 0===e||e.call(aI)}))},useNotification:function(e){return iI(e)},_InternalPanelDoNotUseOrYouWillBeFired:e=>{const{prefixCls:t,className:n,icon:r,type:i,message:o,description:a,btn:s,actions:l,closable:c=!0,closeIcon:u,className:d}=e,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:p}=cl.useContext(SL),f=null!=l?l:s,m=t||p("notification"),g=`${m}-notice`,v=gR(m),[y,b,x]=JR(m,v);return y(cl.createElement("div",{className:Db(`${g}-pure-panel`,b,n,x,v)},cl.createElement(KR,{prefixCls:m}),cl.createElement(vR,Object.assign({},h,{prefixCls:m,eventKey:"pure",duration:null,closable:c,className:Db({notificationClassName:d}),closeIcon:ZR(m,u),content:cl.createElement(eI,{prefixCls:g,icon:r,type:i,message:o,description:a,actions:f})}))))}},gI=mI;["success","info","warning","error"].forEach((e=>{gI[e]=t=>fI(Object.assign(Object.assign({},t),{type:e}))}));const vI=ey.div.attrs({className:"tgg-call"})`
	position: absolute;
	top: 0;
	left: 0;

	z-index: 999999999;

	height: 100%;
	width: 100%;

	.tgg-call-info {
		display: flex;
		align-items: center;
		justify-content: start;

		gap: 10px;
		z-index: 99999;

		width: 100%;

		.tgg-call-icon {
			display: flex;
			align-items: center;
			justify-content: center;

			min-width: 32px;
			min-height: 32px;
			width: 32px;
			height: 32px;
		}

		.tgg-call-info-details {
			display: flex;
			flex-direction: column;
			gap: 5px;

			width: 100%;

			.tgg-call-info-details-name {
				display: flex;

				width: 100%;
				max-width: 90.5%;

				> span {
					white-space: nowrap;
					overflow: hidden;
					text-overflow: ellipsis;
					min-width: 0;
					flex: 1;
					font-size: 20px;
					font-weight: 600;
				}
			}

			.tgg-call-info-details-number {
				font-size: 0.95rem;
			}
		}
	}

	.tgg-call-status-wrapper {
		.tgg-call-status {
			font-size: 0.95rem;
		}
	}

	.tgg-call-row-section {
		background-color: var(--tgg-highlight-color);
		height: 100vh;
		color: var(--tgg-text-color-primary);
		padding: 10px;
		gap: 10px;
		display: flex;
		flex-direction: column;
	}

	*:focus {
		background-color: var(--tgg-highlight-color);
	}
`;function yI(){const[e,t]=cl.useState({number:"",name:""}),{t:n}=Up(),r=vu((e=>e.footerActions)),[i,o]=cl.useState(r),a=vu((e=>e.phoneData)),s=vu((e=>e.resizeBy)),l=vu((e=>e.contacts)),c=gu((e=>e.setFooterActions)),u=a.callType,{timer:d,startTimer:h,stopTimer:p}=function(){const[e,t]=cl.useState(0),n=cl.useRef();function r(){n.current&&(clearInterval(n.current),n.current=void 0)}return cl.useEffect((()=>()=>{r()}),[]),{timer:function(e){const t=Math.floor(e/60),n=e%60;return`${1===t.toString().length?`0${t}`:t}:${1===n.toString().length?`0${n}`:n}`}(e),startTimer:function(){n.current||(n.current=window.setInterval((()=>{t((e=>e+1))}),1e3))},stopTimer:r}}();return cl.useEffect((()=>{var e,r,i,o;let s="000"!==(null==(r=null==(e=null==a?void 0:a.callData)?void 0:e.TargetData)?void 0:r.number)?null==(o=null==(i=null==a?void 0:a.callData)?void 0:i.TargetData)?void 0:o.number:a.targetNumber;const c=l.find((e=>e.number===s));t(c||{number:s,name:n("call.unknownCaller")})}),[]),cl.useEffect((()=>(u===vp.Incoming?(p(),c({left:Yf.Answer,center:"",right:Yf.Decline}),o(r)):u===vp.Outgoing?(c({left:"",center:"",right:Yf.End}),o(r)):u===vp.Ongoing&&(h(),c({left:"",center:"",right:Yf.End})),()=>{c(i)})),[u]),el.jsx(vI,{children:el.jsx(ly,{title:n("call.title"),disableScrollable:!0,children:el.jsxs("div",{className:"tgg-call-row-section",tabIndex:1,children:[el.jsxs("div",{className:"tgg-call-info",children:[el.jsx(jy,{className:"tgg-call-icon",size:32*s,color:"green"}),el.jsxs("div",{className:"tgg-call-info-details",children:[el.jsx("div",{className:"tgg-call-info-details-name",children:el.jsx("span",{children:a.callData.TargetData.anonymous?n("call.anonymous"):e.name})}),!a.callData.TargetData.anonymous&&el.jsx("div",{className:"tgg-call-info-details-number",children:e.number})]})]}),el.jsxs("div",{className:"tgg-call-status-wrapper",children:[el.jsx("div",{className:"tgg-call-status",children:u==vp.Incoming&&n("call.incomingCall")}),el.jsx("div",{className:"tgg-call-status",children:u==vp.Outgoing&&n("call.outgoingCall")}),el.jsx("div",{className:"tgg-call-status",children:u==vp.Ongoing&&n("call.ongoingCall")})]}),u===vp.Ongoing&&el.jsx("div",{className:"tgg-call-timer",children:d})]})})})}const bI=ey.div.attrs({className:"tgg-app-container"})`
	position: absolute;

	bottom: 0;

	height: calc(100% - ${e=>e.$offset}px);
	width: 100%;
	overflow: hidden;

	z-index: 900;

	${e=>e.$hasOpenApp&&"background-color: var(--tgg-background-dark); z-index: 915;"}
`,xI=({children:e})=>{const t=vu((e=>e.headerHeight)),n=vu((e=>e.hasOpenApp)),r=vu((e=>e.resizeBy));return el.jsx(bI,{$resizeBy:r,$offset:t,$hasOpenApp:n,children:e})},wI=ey.div.attrs({className:"tgg-notification"})`
	background-color: var(--tgg-highlight-color);
	position: absolute;

	top: ${e=>e.$offset}px;
	left: 0;

	width: 100% !important;
	padding: 10px;
	color: var(--tgg-text-color-primary);
	font-size: 16px;

	z-index: 99999;

	font-weight: 600;

	opacity: ${e=>e.$show?1:0};
	visibility: ${e=>e.$show?"visible":"hidden"};

	box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.5);

	.tgg-notification-message-icon {
		display: flex;
		align-items: center;
		justify-content: center;

		.tgg-icon {
			width: 25px;
			height: 25px;

			img {
				width: 100%;
				height: 100%;
				object-fit: contain;
			}
		}
	}

	.tgg-notification-message-title {
		display: flex;
		align-items: flex-start;
		justify-content: flex-start;
		gap: 10px;

		width: 100%;
		max-width: 95%;

		overflow: hidden;

		> span {
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			min-width: 0;
			flex: 1;
			font-size: 16px;
			font-weight: 600;
		}
	}

	.tgg-notification-message-content {
		display: flex;
		align-items: flex-end;
		justify-content: flex-start;
		gap: 10px;

		width: 100%;
		max-width: 95%;

		overflow: hidden;

		> span {
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			min-width: 0;
			flex: 1;
			font-size: 15px;
			opacity: 0.75;
		}
	}
`;function _I(){const{t:e}=Up(),t=Lh(),[n,r]=cl.useState(""),[i,o]=cl.useState(""),[a,s]=cl.useState(""),l=vu((e=>e.newNotification)),c=vu((e=>e.newNotifications)),u=vu((e=>e.footerActions)),d=vu((e=>e.headerHeight)),h=vu((e=>e.playSound)),p=vu((e=>e.contacts)),f=vu((e=>e.showingNotificationId)),m=vu((e=>e.previousNotifications)),g=gu((e=>e.setIsSoftOpen)),v=gu((e=>e.setSoundData)),y=gu((e=>e.setPlaySound)),b=vu((e=>e.phoneIdentifiers)),x=vu((e=>e.security.isLocked)),w=gu((e=>e.setPreviousNotifications)),_=gu((e=>e.setShowingNotificationId)),S=gu((e=>e.setPreShowNotification)),E=gu((e=>e.popLastNotification)),k=gu((e=>e.setNewNotification)),M=gu((e=>e.setFooterActions));let C=-1;const T=c.length>0?c[0]:null;cl.useEffect((()=>{if(l&&T&&(null==T?void 0:T.id)!==f){const e=`${Yp}${R()}`;r(e),o(I()),s(N());const t={loop:!1,app:null==T?void 0:T.app,type:(null==T?void 0:T.sound)??bp.Notification};v(t),y(!0),_(null==T?void 0:T.id),C=setTimeout((()=>{Gp("main:get-soft-open",null,!0).then((e=>{e&&!pp()&&Gp("main:hide-soft-yboomer",null,!0).then((()=>{g(!1)}))})),P()}),(null==T?void 0:T.timeout)??3e3)}return()=>{clearTimeout(C),h&&y(!1)}}),[l]);const L=cl.useCallback((()=>{var e,n,r,i,o,a;if((!b.lock||!x)&&(null==T?void 0:T.app)===Wp.Messages&&(null==(e=null==T?void 0:T.data)?void 0:e.channelId)&&(null==(n=null==T?void 0:T.data)?void 0:n.sender)){P();const e=m.filter((e=>e.id!==(null==T?void 0:T.id)));w(e),t(`${qp}/messages/chat/${null==(r=null==T?void 0:T.data)?void 0:r.channelId}`,{state:{participants:[null==(i=null==T?void 0:T.data)?void 0:i.sender],conversationData:{channelId:null==(o=null==T?void 0:T.data)?void 0:o.channelId,content:null==T?void 0:T.text,groupMembers:[null==(a=null==T?void 0:T.data)?void 0:a.sender],isGroup:!1,lastMessageTimestamp:Date.now()}}})}}),[T,m,w,t,b.lock,x]),[A,O]=cl.useState(u);cl.useEffect((()=>{if(O(u),b.lock&&x)return;M({...u,left:"",center:Yf.Read,right:Yf.Dismiss});const e=e=>{b.lock&&x||"Enter"===e.key&&(L(),e.stopPropagation())},t=e=>{b.lock&&x||"Backspace"===e.key&&(P(),e.stopPropagation())};return document.addEventListener("keydown",e),document.addEventListener("keydown",t),()=>{M(A),document.removeEventListener("keydown",e),document.removeEventListener("keydown",t)}}),[b,x]);const P=()=>{k(!1),E(!1),_(""),S(!1)};yp("keyboard:enter",cl.useCallback((()=>{b.lock&&x||L()}),[b.lock,x,L]),{stopPropagation:!0}),yp("keyboard:backspace",(async()=>{P()}),{stopPropagation:!0});const R=()=>{if(!T)return"";let e="";return e=T.icon?T.icon:`aikon/apps/${T.app}.png`,e},I=()=>{var e;return(null==(e=null==T?void 0:T.data)?void 0:e.sender)&&(null==T?void 0:T.app)===Wp.Messages?(()=>{var e,t;return T?(null==(e=p.find((e=>{var t;return e.number===(null==(t=T.data)?void 0:t.sender)})))?void 0:e.name)??(null==(t=T.data)?void 0:t.sender):""})():(null==T?void 0:T.title)??""},N=()=>{if((null==T?void 0:T.app)===Wp.Messages){if("<LOCATION>"==(null==T?void 0:T.text)||"<VOICE-MESSAGE>"==(null==T?void 0:T.text))return e("general.unsuportedMedia");if("<PHOTO>"==(null==T?void 0:T.text))return e("apps.messagesInbox.photo")}return(null==T?void 0:T.text)??""};return el.jsx(wI,{$offset:d,$show:!!f,children:el.jsxs("div",{className:"tgg-notification-message",children:[el.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[el.jsx("div",{className:"tgg-notification-message-icon",children:el.jsx("div",{className:"tgg-icon",children:el.jsx("img",{src:n,alt:"i"})})}),el.jsx("div",{className:"tgg-notification-message-title",children:el.jsx("span",{children:i})})]}),el.jsx("div",{className:"tgg-notification-message-content",children:el.jsx("span",{children:a})})]})})}function SI(e){return om({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M32 64C14.3 64 0 49.7 0 32S14.3 0 32 0l96 0c53 0 96 43 96 96l0 306.7 73.4-73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-128 128c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 402.7 160 96c0-17.7-14.3-32-32-32L32 64z"},child:[]}]})(e)}function EI(e){return om({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 0L242.7 0c17 0 33.3 6.7 45.3 18.7L365.3 96c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0zM96 192c-17.7 0-32 14.3-32 32l0 32 64 0 0-64-32 0zM64 352l80 0 96 0 80 0 0-64-80 0-96 0-80 0 0 64zM320 224c0-17.7-14.3-32-32-32l-32 0 0 64 64 0 0-32zM160 192l0 64 64 0 0-64-64 0zM288 448c17.7 0 32-14.3 32-32l0-32-64 0 0 64 32 0zM160 384l0 64 64 0 0-64-64 0zM64 416c0 17.7 14.3 32 32 32l32 0 0-64-64 0 0 32z"},child:[]}]})(e)}const kI=ey.div.attrs({className:"tgg-component"})`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999999;
    background-color: var(--tgg-highlight-color);
    color: var(--tgg-text-color-primary);
    padding: 8px;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    flex-direction: column;
    gap: 8px;
    box-sizing: border-box;

    .tgg-shortcuts-hints-container {
        display: flex;
        width: 100%;
        justify-content: space-between;
    }

    /* IMPORTANT: Do not change this class name */
    .tgg-shortcuts-hints-item {
        display: flex;
        flex-direction: row;
        gap: 30px;
        align-items: center;
        color: #a2a2a2;

        padding: 2px 4px;
        border-radius: 2px;
        box-shadow: 0 0 10px 0 transparent;
    }

    .tgg-shortcuts-hints-container-2 {
        flex-direction: column;
        gap: 8px;
    }

    .tgg-shortcuts-hints-item-2 {
        justify-content: space-between;
    }

    .tgg-shortcuts-hints-item-key {
        font-size: 16px;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .tgg-shortcuts-hints-item-description {
        font-size: 16px;    
        font-weight: normal;
    }   

    .tgg-shortcuts-hints-continue {
        font-size: 16px;
        font-weight: normal;
        align-self: center;
    }


    .tgg-key-was-pressed {
        color: var(--tgg-text-color-primary);
    }

    .tgg-key-pressed {
        color: black
    }
`,MI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Backspace","RightShift"];const CI=()=>{const e=vu((e=>e.resizeBy)),[t,n]=cl.useState(!1),[r,i]=cl.useState([]),[o,a]=cl.useState([]),{t:s}=Up();function l(e){r.includes(e)||i((t=>[...t,e]))}function c(e){switch(e){case"ArrowUp":return"up";case"ArrowDown":return"down";case"ArrowLeft":return"left";case"ArrowRight":return"right";case"Enter":return"enter";case"Backspace":return"ext";case"RightShift":return"opt";default:return e}}function u(e){switch(e){case"ArrowUp":return"up";case"ArrowDown":return"down";case"ArrowLeft":return"left";case"ArrowRight":return"right";case"Enter":return"enter";case"Backspace":return"ext";case"RightShift":return"opt";default:return null}}function d(){t&&Cp({action:"ui:setup:hide-hint",internal:!0})}return cl.useEffect((()=>{var e;e=r,MI.filter((t=>e.includes(t))).length===MI.length&&n(!0)}),[r,o]),cl.useEffect((()=>{const e=MI.map((e=>[ZO.subscribe(`keyboard:${e}:press`,(()=>{l(e)})),ZO.subscribe(`keyboard:${c(e)}:down`,(()=>{a((t=>[...t.filter((t=>t!==e)),e]))})),ZO.subscribe(`keyboard:${c(e)}:up`,(()=>{a((t=>t.filter((t=>t!==e))))}))])).flat();return()=>{e.forEach((e=>e()))}}),[]),yp("keyboard:up",(()=>{l("ArrowUp"),d()})),yp("keyboard:down",(()=>{l("ArrowDown"),d()})),yp("keyboard:left",(()=>{l("ArrowLeft"),d()})),yp("keyboard:right",(()=>{l("ArrowRight"),d()})),yp("keyboard:enter",(()=>{l("Enter"),d()})),yp("keyboard:backspace",(()=>{l("Backspace"),d()})),yp("keyboard:opt",(()=>{l("RightShift"),d()})),cl.useEffect((()=>{const e=e=>{const n=e.key;if(t)d();else if("ArrowUp"===n||"ArrowDown"===n||"ArrowLeft"===n||"ArrowRight"===n||"Enter"===n||"Backspace"===n||"Shift"===n&&2===e.location)if("Shift"===n&&2===e.location)l("RightShift"),a((e=>[...e.filter((e=>"RightShift"!==e)),"RightShift"])),ZO.publish("keyboard:RightShift:down"),ZO.publish("keyboardButton:opt:press",!0);else{l(n),a((e=>[...e.filter((e=>e!==n)),n])),ZO.publish(`keyboard:${n}:down`);const e=u(n);e&&ZO.publish(`keyboardButton:${e}:press`,!0)}},n=e=>{const t=e.key;if("ArrowUp"===t||"ArrowDown"===t||"ArrowLeft"===t||"ArrowRight"===t||"Enter"===t||"Backspace"===t||"Shift"===t&&2===e.location)if("Shift"===t&&2===e.location)a((e=>e.filter((e=>"RightShift"!==e)))),ZO.publish("keyboard:RightShift:up"),ZO.publish("keyboardButton:opt:press",!1);else{a((e=>e.filter((e=>e!==t)))),ZO.publish(`keyboard:${t}:up`);const e=u(t);e&&ZO.publish(`keyboardButton:${e}:press`,!1)}};return window.addEventListener("keydown",e),window.addEventListener("keyup",n),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",n)}}),[t]),cl.useEffect((()=>{const e=e=>{const t=e.key;["0","1","2","3","4","5","6","7","8","9","*","#"].includes(t)&&("keydown"===e.type?ZO.publish(`keyboardButton:${t}:press`,!0):"keyup"===e.type&&ZO.publish(`keyboardButton:${t}:press`,!1))};return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}}),[]),el.jsxs(kI,{$resizeBy:e,children:[el.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[el.jsx(wy,{})," ",s("apps.hints.title")]}),el.jsx("div",{children:el.jsx("div",{style:{fontSize:"14px",textAlign:"center"},children:s("apps.hints.keyboardShortcutsExplain")})}),el.jsxs("div",{className:"tgg-shortcuts-hints-container",children:[el.jsxs("div",{children:[el.jsxs("div",{className:`tgg-shortcuts-hints-item ${r.includes("ArrowUp")&&"tgg-key-was-pressed"} ${o.includes("ArrowUp")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(gy,{})," "]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.up")})]}),el.jsxs("div",{className:`tgg-shortcuts-hints-item ${r.includes("ArrowDown")&&"tgg-key-was-pressed"} ${o.includes("ArrowDown")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(py,{})," "]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.down")})]})]}),el.jsxs("div",{children:[el.jsxs("div",{className:`tgg-shortcuts-hints-item ${r.includes("ArrowLeft")&&"tgg-key-was-pressed"} ${o.includes("ArrowLeft")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(fy,{})," "]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.left")})]}),el.jsxs("div",{className:`tgg-shortcuts-hints-item ${r.includes("ArrowRight")&&"tgg-key-was-pressed"} ${o.includes("ArrowRight")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(my,{})," "]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.right")})]})]})]}),el.jsx("div",{children:el.jsxs("div",{className:"tgg-shortcuts-hints-container tgg-shortcuts-hints-container-2",children:[el.jsxs("div",{className:`tgg-shortcuts-hints-item tgg-shortcuts-hints-item-2 ${r.includes("Enter")&&"tgg-key-was-pressed"} ${o.includes("Enter")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(SI,{style:{transform:"rotate(90deg)"}})," ",s("apps.hints.enter")]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.select")})]}),el.jsxs("div",{className:`tgg-shortcuts-hints-item tgg-shortcuts-hints-item-2 ${r.includes("RightShift")&&"tgg-key-was-pressed"} ${o.includes("RightShift")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(Cb,{})," ",s("apps.hints.rightShift")]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.options")})]}),el.jsxs("div",{className:`tgg-shortcuts-hints-item tgg-shortcuts-hints-item-2 ${r.includes("Backspace")&&"tgg-key-was-pressed"} ${o.includes("Backspace")?"tgg-key-pressed":""}`,children:[el.jsxs("div",{className:"tgg-shortcuts-hints-item-key",children:[el.jsx(_y,{style:{transform:"rotate(-90deg)"}})," ",s("apps.hints.backspace")]}),el.jsx("div",{className:"tgg-shortcuts-hints-item-description",children:s("apps.hints.back")})]})]})}),el.jsx("div",{className:"tgg-shortcuts-hints-continue",children:s(t?"apps.hints.pressEnter":"apps.hints.pressAllButtons")})]})},TI=ey.div.attrs({className:"tgg-aikon-content"})`
	position: absolute;
	top: calc(88px * ${e=>e.$resizeBy});

	z-index: 909;

	left: 50%;
	right: 50%;
	transform: translateX(-50%);

	width: calc(240px * ${e=>e.$resizeBy});
	height: calc(320px * ${e=>e.$resizeBy});

	filter: brightness(calc(var(--brightness) / 100));

	display: flex;
	flex-direction: column;
	overflow: hidden;

	* {
		font-family: SFProRegular, sans-serif;
	}

	.tgg-main-container {
		position: relative;

		display: flex;
		flex-direction: column;

		height: 100%;
		width: 100%;

		overflow: hidden;

		z-index: 999;
	}

	.tgg-screen-overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: transparent;

		z-index: 999999999;
	}
`,LI=ey.div.attrs({className:"tgg-background"})`
	position: absolute;
	top: 0;
	height: 100%;
	width: 100%;
	z-index: ${e=>e.$zIndex};

	transition: none;

	background-color: var(--tgg-background-dark);

	backdrop-filter: blur(${e=>e.$blur?10:0}px);

	img {
		height: 100%;
		object-fit: cover;
		object-position: center;

		user-select: none;
		-webkit-user-drag: none;
	}
`,AI=({width:e,height:t})=>{const n=cl.useRef(null),r=cl.useRef(null),[i,o]=cl.useState(0),a=vu((e=>e.headerHeight)),s=vu((e=>e.resizeBy)),l=vu((e=>e.settings)),c=vu((e=>e.preShowNotification)),u=vu((e=>e.getWallpaper));vu((e=>e.settingsConfig));cl.useEffect((()=>{const e=document.getElementById("tgg-aikon-content");gI.config({getContainer:()=>e})}),[]),Lh();const d=gu((e=>e.setCurrentApp)),h=gu((e=>e.setHeaderHeight)),p=vu((e=>e.phoneIdentifiers)),f=gu((e=>e.setSecurity)),m=vu((e=>e.phoneData)),g=Ch();vu((e=>e.isOpen)),vu((e=>e.isFocused));const v=gu((e=>e.setIsFocused)),y=vu((e=>e.security)),[b,x]=cl.useState(!1);cl.useEffect((()=>{p.lock?f({isLocked:!0,isOnLockScreen:!0,isOnLockScreenWithPin:!0}):f({isLocked:!1,isOnLockScreen:!1,isOnLockScreenWithPin:!1})}),[]),cl.useLayoutEffect((()=>{var e,t;n.current&&h(null==(e=n.current)?void 0:e.offsetHeight),r.current&&o(null==(t=r.current)?void 0:t.offsetHeight)}),[s]),yp("ui:notify",(e=>((e,t,n="success",r="bottom")=>{gI.open({message:e,description:t,placement:r,duration:1.1,icon:el.jsx(el.Fragment,{}),closable:!1,className:`tgg-notification tgg-notification-${n}`,type:n})})(e.message,void 0,e.type))),yp("setup:show-hint",(()=>{x(!0)})),yp("ui:setup:hide-hint",(()=>{x(!1)})),d(Wp.Home);const w=cl.useMemo((()=>{const e=u;return e.includes("https://")||e.includes("http://")?e:`${Yp}/aikon/wallpapers/${e}`}),[u,l,l.homescreenWallpaper,l.lockscreenWallpaper]);return cl.useEffect((()=>{const e=e=>{("Alt"!==e.key||1!==e.location||(()=>{const e=document.activeElement;return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement})())&&"Alt"===e.key&&1===e.location&&Gp("utils:toggle-focus").catch((e=>{console.error("Error toggling focus",e)}))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]),yp("ui:focus:status",(e=>{v(e.focus)}),{isModal:!0,isCall:!0}),el.jsxs(TI,{$width:e,$height:t,$resizeBy:s,children:[g.pathname!==`${qp}/${Wp.Snake}`&&el.jsx("div",{className:"tgg-screen-overlay",style:{backgroundColor:`rgba(0, 0, 0, ${.7-.7*l.brightness/100})`}}),b&&el.jsx(CI,{}),!b&&el.jsxs(el.Fragment,{children:[el.jsxs("div",{className:"tgg-main-container",children:[el.jsx("div",{id:"tgg-aikon-content",style:{zIndex:999}}),c&&el.jsx(_I,{}),el.jsx(WP,{ref:n}),y.isLocked&&m.callType===vp.None&&el.jsx(sP,{headerHeight:a}),!y.isLocked&&m.callType===vp.None&&(g.pathname===`${qp}/`||g.pathname===`${qp}`)&&el.jsxs(el.Fragment,{children:[el.jsx(dP,{offset:a+i}),el.jsx(iy,{_setHeight:o})]}),el.jsxs(xI,{children:[m.callType!==vp.None&&el.jsx(yI,{}),!y.isLocked&&el.jsxs(el.Fragment,{children:[el.jsx(OP,{}),el.jsx($h,{})]})]})]}),el.jsx(LI,{$zIndex:949,$blur:!1,children:el.jsx(YO.LazyLoadImage,{src:w,alt:w,className:"tgg-wallpaper-test",visibleByDefault:!0,effect:"blur",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}},w)})]})]})};function OI(e){return om({attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}const PI=ey.div.attrs({className:"tgg-img-preview"})`
	position: absolute;
	top: 0;
	left: 0;

	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;

	gap: calc(0.5rem * ${({$resizeBy:e})=>e});

	height: 100%;
	width: 100%;

	background-color: #000000a7;

	z-index: 10000;

	.tgg-preview-img-wrapper {
		position: relative;
		max-height: 90%;
		z-index: 10001;

		.tgg-close-preview {
			position: absolute;
			top: calc(20px * ${({$resizeBy:e})=>e});
			right: calc(20px * ${({$resizeBy:e})=>e});
			border-radius: 15px;
			border: none;
			color: #fff;

			background-color: #00000025;
			border-radius: 50%;
			padding: 5px;

			z-index: 10002;

			&:hover {
				filter: opacity(0.8);
			}
		}

		.tgg-download-icon {
			position: absolute;
			bottom: calc(20px * ${({$resizeBy:e})=>e});
			left: calc(20px * ${({$resizeBy:e})=>e});
			border-radius: 15px;
			border: none;
			color: green;

			background-color: #00000025;
			border-radius: 50%;
			padding: 5px;
		}

		.tgg-save-btn {
			display: flex;
			align-items: center;
			justify-content: center;

			position: absolute;
			bottom: calc(20px * ${({$resizeBy:e})=>e});
			right: calc(20px * ${({$resizeBy:e})=>e});
			border-radius: 15px;
			border: none;
			color: #fff;

			background-color: #00000025;
			border-radius: 50%;
			padding: 5px;

			&:disabled {
				cursor: not-allowed;
			}

			&:hover:not(:disabled) {
				filter: brightness(0.8);
			}
		}

		.tgg-preview-img {
			height: 100%;

			object-fit: contain;

			border: 3.5px solid #ffffff9e;
			border-radius: 15px;
		}
	}
`,RI=()=>{const e=cl.useRef(null),[t,n]=cl.useState(!1),[r,i]=cl.useState(!0),o=vu((e=>e.imgPreview)),a=vu((e=>e.currentApp)),s=vu((e=>e.resizeBy)),l=gu((e=>e.setImgPreview));Wf({selector:"",maxFocus:1,backspaceHandler:()=>{l("")},isModal:!0});const c=t=>{var n,a;r&&o&&e.current&&!(null==(n=e.current)?void 0:n.contains(t.target))?i(!1):o&&e.current&&!(null==(a=e.current)?void 0:a.contains(t.target))&&u(t)};cl.useEffect((()=>(document.body.addEventListener("click",c),()=>{document.body.removeEventListener("click",c)})),[r]);const u=e=>{e.stopPropagation(),l("")},d=(null==o?void 0:o.includes(".webm"))||(null==o?void 0:o.includes("blob"));return el.jsx(PI,{$resizeBy:s,children:el.jsxs("div",{className:"tgg-preview-img-wrapper",ref:e,children:[el.jsx("button",{className:"tgg-close-preview",onClick:e=>u(e),children:el.jsx(OI,{size:25*s})}),t&&el.jsx("div",{className:"tgg-download-icon",children:el.jsx(pm,{size:25*s})}),!d&&a!==Wp.Gallery&&el.jsx("button",{className:"tgg-save-btn",onClick:()=>{t||Gp("gallery:save-photo",o,{}).then((e=>{e&&n(!0)}))},disabled:t,children:el.jsx(Sm,{size:25*s})}),d?el.jsx("video",{className:"tgg-preview-img",controls:!0,autoPlay:!0,children:el.jsx("source",{src:o,type:"video/webm"})}):el.jsx(YO.LazyLoadImage,{src:o,className:"tgg-preview-img",visibleByDefault:!0,effect:"blur"})]})})},II=ey.div.attrs({className:"tgg-aikon-frame"})`
	display: flex;
	flex-direction: column;
	align-items: center;

	transition-duration: 200ms;

	position: fixed;
	left: 40px;

	zoom: ${e=>e.$scale};

	${e=>e.$isSoftOpen?`\n\t\t\t\tbottom: calc(-27.5% * ${e.$resizeBy});\n\n\t\t\t\t/* 4k */ \n\t\t\t\t@media (min-width: 3840px) {\n\t\t\t\t\tbottom: calc(-20% * ${e.$resizeBy});\n\t\t\t\t}\n\n\t\t\t\t/* 2k */\n\t\t\t\t@media (min-width: 2560px) and (max-width: 3839px) {\n\t\t\t\t\tbottom: calc(-30% * ${e.$resizeBy});\n\t\t\t\t}\n\t\t\t`:e.$isOpen?"\n\t\t\t\tbottom: 40px;\n\t\t\t":"\n\t\t\t\tbottom: -100%;\n\t\t\t"}

	width: ${e=>e.$width}px;
	height: ${e=>e.$height}px;

	user-select: none;
	overflow: hidden;

	.tgg-static-content {
		position: relative;
		height: inherit;
	}

	*::-webkit-scrollbar {
		width: 0px;
	}
`,NI=({height:e,width:t})=>{const{i18n:n}=Up(),r=Ch().pathname,i=vu((e=>e.uploadConfig)),o=vu((e=>e.isSoftOpen)),a=vu((e=>e.settings.scale)),s=vu((e=>e.resizeBy)),l=vu((e=>e.isOpen)),c=vu((e=>e.imgPreview)),u=vu((e=>e.settings)),d=gu((e=>e.setSettings)),h=vu((e=>e.settings.theme));return cl.useEffect((()=>{n.changeLanguage(u.language)}),[u]),cl.useEffect((()=>{Gp("settings:get-theme",(e=>{d({...u,theme:e})})).then((e=>{document.documentElement.style.setProperty("--tgg-highlight-color",e||"#ff571f")}))}),[h]),el.jsxs(el.Fragment,{children:[c&&el.jsx(RI,{}),el.jsxs(II,{$width:t,$isOpen:l,$height:e,$resizeBy:s,$isSoftOpen:o,$scale:a,children:[el.jsx(KO,{height:e,width:t,children:el.jsx(AI,{height:e,width:t})}),el.jsx(eP,{})]}),r.includes(Wp.Camera)&&i&&el.jsx(WO,{})]})},jI="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,zI=globalThis,DI="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,BI="9.9.0";function FI(){return $I(zI),zI}function $I(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||BI,t[BI]=t[BI]||{}}function HI(e,t,n=zI){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[BI]=r[BI]||{};return i[e]||(i[e]=t())}const UI=["debug","info","warn","error","log","assert","trace"],VI={};function GI(e){if(!("console"in zI))return e();const t=zI.console,n={},r=Object.keys(VI);r.forEach((e=>{const r=VI[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const WI=HI("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return DI?UI.forEach((n=>{t[n]=(...t)=>{e&&GI((()=>{zI.console[n](`Sentry Logger [${n}]:`,...t)}))}})):UI.forEach((e=>{t[e]=()=>{}})),t})),qI="?",XI=/\(error: (.*)\)/,YI=/captureMessage|captureException/;function JI(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0,r=0)=>{const i=[],o=e.split("\n");for(let a=n;a<o.length;a++){const e=o[a];if(e.length>1024)continue;const n=XI.test(e)?e.replace(XI,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){i.push(t);break}}if(i.length>=50+r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(KI(t).function||"")&&t.pop();t.reverse(),YI.test(KI(t).function||"")&&(t.pop(),YI.test(KI(t).function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||KI(t).filename,function:e.function||qI})))}(i.slice(r))}}function KI(e){return e[e.length-1]||{}}const ZI="<anonymous>";function QI(e){try{return e&&"function"==typeof e&&e.name||ZI}catch(gG){return ZI}}function eN(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(n){return}}}const tN={},nN={};function rN(e,t){tN[e]=tN[e]||[],tN[e].push(t)}function iN(e,t){if(!nN[e]){nN[e]=!0;try{t()}catch(gG){DI&&WI.error(`Error while instrumenting ${e}`,gG)}}}function oN(e,t){const n=e&&tN[e];if(n)for(const r of n)try{r(t)}catch(gG){DI&&WI.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${QI(r)}\nError:`,gG)}}let aN=null;function sN(){aN=zI.onerror,zI.onerror=function(e,t,n,r,i){return oN("error",{column:r,error:i,line:n,msg:e,url:t}),!!aN&&aN.apply(this,arguments)},zI.onerror.__SENTRY_INSTRUMENTED__=!0}let lN=null;function cN(){lN=zI.onunhandledrejection,zI.onunhandledrejection=function(e){return oN("unhandledrejection",e),!lN||lN.apply(this,arguments)},zI.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function uN(){return Date.now()/1e3}const dN=function(){const{performance:e}=zI;if(!(null==e?void 0:e.now))return uN;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let hN;function pN(){return hN||(hN=function(){var e;const{performance:t}=zI;if(!(null==t?void 0:t.now))return[void 0,"none"];const n=36e5,r=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-i):n,a=o<n,s=null==(e=t.timing)?void 0:e.navigationStart,l="number"==typeof s?Math.abs(s+r-i):n;return a||l<n?o<=l?[t.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[i,"dateNow"]}()),hN[0]}const fN=Object.prototype.toString;function mN(e){switch(fN.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return kN(e,Error)}}function gN(e,t){return fN.call(e)===`[object ${t}]`}function vN(e){return gN(e,"ErrorEvent")}function yN(e){return gN(e,"DOMError")}function bN(e){return gN(e,"String")}function xN(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function wN(e){return null===e||xN(e)||"object"!=typeof e&&"function"!=typeof e}function _N(e){return gN(e,"Object")}function SN(e){return"undefined"!=typeof Event&&kN(e,Event)}function EN(e){return Boolean((null==e?void 0:e.then)&&"function"==typeof e.then)}function kN(e,t){try{return e instanceof t}catch(n){return!1}}function MN(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const CN=zI;function TN(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,a=0;const s=" > ",l=s.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(c=LN(n,u),!("html"===c||o>1&&a+i.length*l+c.length>=d));)i.push(c),a+=c.length,n=n.parentNode;return i.reverse().join(s)}catch(n){return"<unknown>"}}function LN(e,t){const n=e,r=[];if(!(null==n?void 0:n.tagName))return"";if(CN.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=(null==t?void 0:t.length)?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(null==i?void 0:i.length)i.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&bN(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const o=["aria-label","type","name","title","alt"];for(const a of o){const e=n.getAttribute(a);e&&r.push(`[${a}="${e}"]`)}return r.join("")}function AN(){try{return CN.document.location.href}catch(e){return""}}function ON(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function PN(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const t=e[r];try{MN(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(gG){n.push("[value cannot be serialized]")}}return n.join(t)}function RN(e,t,n=!1){return!!bN(e)&&(gN(t,"RegExp")?t.test(e):!!bN(t)&&(n?e===t:e.includes(t)))}function IN(e,t=[],n=!1){return t.some((t=>RN(e,t,n)))}function NN(e,t,n){if(!(t in e))return;const r=e[t];if("function"!=typeof r)return;const i=n(r);"function"==typeof i&&zN(i,r);try{e[t]=i}catch{DI&&WI.log(`Failed to replace method "${t}" in object`,e)}}function jN(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){DI&&WI.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function zN(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,jN(e,"__sentry_original__",t)}catch(n){}}function DN(e){return e.__sentry_original__}function BN(e){if(mN(e))return{message:e.message,name:e.name,stack:e.stack,...$N(e)};if(SN(e)){const t={type:e.type,target:FN(e.target),currentTarget:FN(e.currentTarget),...$N(e)};return"undefined"!=typeof CustomEvent&&kN(e,CustomEvent)&&(t.detail=e.detail),t}return e}function FN(e){try{return t=e,"undefined"!=typeof Element&&kN(t,Element)?TN(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function $N(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function HN(e){return UN(e,new Map)}function UN(e,t){if(null===e||"object"!=typeof e)return e;const n=t.get(e);if(void 0!==n)return n;if(Array.isArray(e)){const n=[];return t.set(e,n),e.forEach((e=>{n.push(UN(e,t))})),n}if(function(e){const t=e.constructor;return t===Object||void 0===t}(e)){const n={};t.set(e,n);return Object.keys(e).forEach((r=>{const i=e[r];void 0!==i&&(n[r]=UN(i,t))})),n}return e}function VN(e=function(){const e=zI;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(null==e?void 0:e.randomUUID)return e.randomUUID().replace(/-/g,"");(null==e?void 0:e.getRandomValues)&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(n){}return"10000000100040008000100000000000".replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function GN(e){var t,n;return null==(n=null==(t=e.exception)?void 0:t.values)?void 0:n[0]}function WN(e){const{message:t,event_id:n}=e;if(t)return t;const r=GN(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function qN(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function XN(e,t){const n=GN(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...null==r?void 0:r.data,...t.data};n.mechanism.data=e}}function YN(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{jN(e,"__sentry_captured__",!0)}catch(t){}return!1}var JN;function KN(e){return new QN((t=>{t(e)}))}function ZN(e){return new QN(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(JN||(JN={}));class QN{constructor(e){this._state=JN.PENDING,this._handlers=[],this._runExecutor(e)}then(e,t){return new QN(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(gG){r(gG)}else n(t)},e=>{if(t)try{n(t(e))}catch(gG){r(gG)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new QN(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}_executeHandlers(){if(this._state===JN.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===JN.RESOLVED&&e[1](this._value),this._state===JN.REJECTED&&e[2](this._value),e[0]=!0)}))}_runExecutor(e){const t=(e,t)=>{this._state===JN.PENDING&&(EN(t)?t.then(n,r):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(JN.RESOLVED,e)},r=e=>{t(JN.REJECTED,e)};try{e(n,r)}catch(gG){r(gG)}}}function ej(e){const t=dN(),n={sid:VN(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&tj(n,e),n}function tj(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||dN(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:VN()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function nj(){return VN()}function rj(){return VN().substring(16)}function ij(e,t,n=2){if(!t||"object"!=typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=ij(r[i],t[i],n-1));return r}const oj="_sentrySpan";function aj(e,t){t?jN(e,oj,t):delete e[oj]}function sj(e){return e[oj]}class lj{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:nj(),sampleRand:Math.random()}}clone(){const e=new lj;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,aj(e,sj(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&tj(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,n=t instanceof lj?t.getScopeData():_N(t)?e:void 0,{tags:r,extra:i,user:o,contexts:a,level:s,fingerprint:l=[],propagationContext:c}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...i},this._contexts={...this._contexts,...a},o&&Object.keys(o).length&&(this._user=o),s&&(this._level=s),l.length&&(this._fingerprint=l),c&&(this._propagationContext=c),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,aj(this,void 0),this._attachments=[],this.setPropagationContext({traceId:nj(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){var n;const r="number"==typeof t?t:100;if(r<=0)return this;const i={timestamp:uN(),...e};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),null==(n=this._client)||n.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:sj(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ij(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=(null==t?void 0:t.event_id)||VN();if(!this._client)return WI.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=(null==n?void 0:n.event_id)||VN();if(!this._client)return WI.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=(null==t?void 0:t.event_id)||VN();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(WI.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}class cj{constructor(e,t){let n,r;n=e||new lj,r=t||new lj,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(gG){throw this._popScope(),gG}return EN(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function uj(){const e=$I(FI());return e.stack=e.stack||new cj(HI("defaultCurrentScope",(()=>new lj)),HI("defaultIsolationScope",(()=>new lj)))}function dj(e){return uj().withScope(e)}function hj(e,t){const n=uj();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function pj(e){return uj().withScope((()=>e(uj().getIsolationScope())))}function fj(e){const t=$I(e);return t.acs?t.acs:{withIsolationScope:pj,withScope:dj,withSetScope:hj,withSetIsolationScope:(e,t)=>pj(t),getCurrentScope:()=>uj().getScope(),getIsolationScope:()=>uj().getIsolationScope()}}function mj(){return fj(FI()).getCurrentScope()}function gj(){return fj(FI()).getIsolationScope()}function vj(){return mj().getClient()}function yj(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,o={trace_id:n,span_id:i||rj()};return r&&(o.parent_span_id=r),o}const bj="sentry.source",xj="sentry.profile_id",wj="sentry.exclusive_time";function _j(e){return{scope:e._sentryScope,isolationScope:e._sentryIsolationScope}}function Sj(e){if("boolean"==typeof e)return Number(e);const t="string"==typeof e?parseFloat(e):e;return"number"!=typeof t||isNaN(t)||t<0||t>1?void 0:t}const Ej=/^sentry-/;function kj(e){const t=function(e){if(!e||!bN(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=Mj(t);return Object.entries(n).forEach((([t,n])=>{e[t]=n})),e}),{});return Mj(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Ej)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Mj(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(t&&n&&(e[t]=n),e)),{})}let Cj=!1;function Tj(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Pj(e).parent_span_id,o=_j(e).scope;return HN({parent_span_id:i,span_id:r?(null==o?void 0:o.getPropagationContext().propagationSpanId)||rj():t,trace_id:n})}function Lj(e){return e&&e.length>0?e.map((({context:{spanId:e,traceId:t,traceFlags:n,...r},attributes:i})=>({span_id:e,trace_id:t,sampled:1===n,attributes:i,...r}))):void 0}function Aj(e){return"number"==typeof e?Oj(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Oj(e.getTime()):dN()}function Oj(e){return e>9999999999?e/1e3:e}function Pj(e){if(function(e){return"function"==typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:a,parentSpanId:s,status:l,links:c}=e;return HN({span_id:t,trace_id:n,data:r,description:o,parent_span_id:s,start_timestamp:Aj(i),timestamp:Aj(a)||void 0,status:Rj(l),op:r["sentry.op"],origin:r["sentry.origin"],links:Lj(c)})}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Rj(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}function Ij(e){return e._sentryRootSpan||e}function Nj(){const e=fj(FI());return e.getActiveSpan?e.getActiveSpan():sj(mj())}function jj(){Cj||(GI((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),Cj=!0)}const zj="production";function Dj(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=HN({environment:n.environment||zj,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function Bj(e){var t;const n=vj();if(!n)return{};const r=Ij(e),i=Pj(r),o=i.data,a=r.spanContext().traceState,s=(null==a?void 0:a.get("sentry.sample_rate"))??o["sentry.sample_rate"];function l(e){return"number"!=typeof s&&"string"!=typeof s||(e.sample_rate=`${s}`),e}const c=r._frozenDsc;if(c)return l(c);const u=null==a?void 0:a.get("sentry.dsc"),d=u&&kj(u);if(d)return l(d);const h=Dj(e.spanContext().traceId,n),p=o[bj],f=i.description;return"url"!==p&&f&&(h.transaction=f),function(e){var t;if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=e||(null==(t=vj())?void 0:t.getOptions());return!(!n||null==n.tracesSampleRate&&!n.tracesSampler)}()&&(h.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return 1===t}(r)),h.sample_rand=(null==a?void 0:a.get("sentry.sample_rand"))??(null==(t=_j(r).scope)?void 0:t.getPropagationContext().sampleRand.toString())),l(h),n.emit("createDsc",h,r),h}const Fj=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function $j(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${a}`}function Hj(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Uj(e){const t="string"==typeof e?function(e){const t=Fj.exec(e);if(!t)return void GI((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",o="",a="",s=""]=t.slice(1);let l="",c=s;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return Hj({host:o,pass:i,path:l,projectId:c,port:a,protocol:n,publicKey:r})}(e):Hj(e);if(t&&function(e){if(!DI)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(WI.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(WI.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(WI.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(WI.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}function Vj(e,t=100,n=1/0){try{return Wj("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Gj(e,t=3,n=102400){const r=Vj(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?Gj(e,t-1,n):r;var i}function Wj(e,t,n=1/0,r=1/0,i=function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}()){const[o,a]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;const s=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(MN(t))return"[VueViewModel]";if(_N(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${QI(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return(null==t?void 0:t.constructor)?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}var n}(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return s.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return Wj("",c.toJSON(),l-1,r,i)}catch(p){}const u=Array.isArray(t)?[]:{};let d=0;const h=BN(t);for(const f in h){if(!Object.prototype.hasOwnProperty.call(h,f))continue;if(d>=r){u[f]="[MaxProperties ~]";break}const e=h[f];u[f]=Wj(f,e,l-1,r,i),d++}return a(t),u}function qj(e,t=[]){return[e,t]}function Xj(e,t){const[n,r]=e;return[n,[...r,t]]}function Yj(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function Jj(e){const t=$I(zI);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function Kj(e){const[t,n]=e;let r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[Jj(r),e]:r.push("string"==typeof e?Jj(e):e)}for(const o of n){const[e,t]=o;if(i(`\n${JSON.stringify(e)}\n`),"string"==typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(gG){e=JSON.stringify(Vj(t))}i(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}(r)}function Zj(e){const t="string"==typeof e.data?Jj(e.data):e.data;return[HN({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Qj={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function ez(e){return Qj[e]}function tz(e){if(!(null==e?void 0:e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function nz(e,t,n,r){var i;const o=null==(i=e.sdkProcessingMetadata)?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:$j(r)},...o&&{trace:o}}}function rz(e,t,n,r=0){return new QN(((i,o)=>{const a=e[r];if(null===t||"function"!=typeof a)i(t);else{const s=a({...t},n);jI&&a.id&&null===s&&WI.log(`Event processor "${a.id}" dropped event`),EN(s)?s.then((t=>rz(e,t,n,r+1).then(i))).then(null,o):rz(e,s,n,r+1).then(i).then(null,o)}}))}let iz,oz,az;function sz(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,transactionName:s}=t;Object.keys(n).length&&(e.extra={...n,...e.extra});Object.keys(r).length&&(e.tags={...r,...e.tags});Object.keys(i).length&&(e.user={...i,...e.user});Object.keys(o).length&&(e.contexts={...o,...e.contexts});a&&(e.level=a);s&&"transaction"!==e.type&&(e.transaction=s)}(e,t),r&&function(e,t){e.contexts={trace:Tj(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Bj(t),...e.sdkProcessingMetadata};const n=Ij(t),r=Pj(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,o)}function lz(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:f}=t;cz(e,"extra",n),cz(e,"tags",r),cz(e,"user",i),cz(e,"contexts",o),e.sdkProcessingMetadata=ij(e.sdkProcessingMetadata,s,2),a&&(e.level=a),p&&(e.transactionName=p),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function cz(e,t,n){e[t]=ij(e[t],n,1)}function uz(e,t,n,r,i,o){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,l={...t,event_id:t.event_id||n.event_id||VN(),timestamp:t.timestamp||uN()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){var n,r;const{environment:i,release:o,dist:a,maxValueLength:s=250}=t;e.environment=e.environment||i||zj,!e.release&&o&&(e.release=o);!e.dist&&a&&(e.dist=a);e.message&&(e.message=ON(e.message,s));const l=null==(r=null==(n=e.exception)?void 0:n.values)?void 0:r[0];(null==l?void 0:l.value)&&(l.value=ON(l.value,s));const c=e.request;(null==c?void 0:c.url)&&(c.url=ON(c.url,s))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n,r;const i=function(e){const t=zI._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return az&&n.length===oz||(oz=n.length,az=n.reduce(((n,r)=>{iz||(iz={});const i=iz[r];if(i)n[i[0]]=i[1];else{const i=e(r);for(let e=i.length-1;e>=0;e--){const o=i[e],a=null==o?void 0:o.filename,s=t[r];if(a&&s){n[a]=s,iz[r]=[a,s];break}}}return n}),{})),az}(t);null==(r=null==(n=e.exception)?void 0:n.values)||r.forEach((e=>{var t,n;null==(n=null==(t=e.stacktrace)?void 0:t.frames)||n.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new lj;return n.update(t),n}(r,n.captureContext);n.mechanism&&XN(l,n.mechanism);const d=i?i.getEventProcessors():[],h=HI("globalScope",(()=>new lj)).getScopeData();if(o){lz(h,o.getScopeData())}if(u){lz(h,u.getScopeData())}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),sz(l,h);return rz([...d,...h.eventProcessors],l,n).then((e=>(e&&function(e){var t,n;const r={};if(null==(n=null==(t=e.exception)?void 0:t.values)||n.forEach((e=>{var t,n;null==(n=null==(t=e.stacktrace)?void 0:t.frames)||n.forEach((e=>{e.debug_id&&(e.abs_path?r[e.abs_path]=e.debug_id:e.filename&&(r[e.filename]=e.debug_id),delete e.debug_id)}))})),0===Object.keys(r).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const i=e.debug_meta.images;Object.entries(r).forEach((([e,t])=>{i.push({type:"sourcemap",code_file:e,debug_id:t})}))}(e),"number"==typeof a&&a>0?function(e,t,n){var r,i;if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Vj(e.data,t,n)}})))},...e.user&&{user:Vj(e.user,t,n)},...e.contexts&&{contexts:Vj(e.contexts,t,n)},...e.extra&&{extra:Vj(e.extra,t,n)}};(null==(r=e.contexts)?void 0:r.trace)&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=Vj(e.contexts.trace.data,t,n)));e.spans&&(o.spans=e.spans.map((e=>({...e,...e.data&&{data:Vj(e.data,t,n)}}))));(null==(i=e.contexts)?void 0:i.flags)&&o.contexts&&(o.contexts.flags=Vj(e.contexts.flags,3,n));return o}(e,a,s):e)))}function dz(e,t){return mj().captureException(e,void 0)}function hz(e,t){return mj().captureEvent(e,t)}function pz(e,t){gj().setTag(e,t)}function fz(e){const t=gj(),n=mj(),{userAgent:r}=zI.navigator||{},i=ej({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return"ok"===(null==o?void 0:o.status)&&tj(o,{status:"exited"}),mz(),t.setSession(i),i}function mz(){const e=gj(),t=mj().getSession()||e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),tj(e,t)}(t),gz(),e.setSession()}function gz(){const e=gj(),t=vj(),n=e.getSession();n&&t&&t.captureSession(n)}function vz(e=!1){e?mz():gz()}function yz(e,t,n){return t||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const bz=[];function xz(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))r=[...t,...n];else if("function"==typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r)}function wz(e,t){for(const n of t)(null==n?void 0:n.afterAllSetup)&&n.afterAllSetup(e)}function _z(e,t,n){if(n[t.name])jI&&WI.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===bz.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),bz.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}jI&&WI.log(`Integration installed: ${t.name}`)}}class Sz extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}function Ez(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];(null==n?void 0:n.value)&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(gG){}return t}const kz="Not capturing exception because it's already been captured.",Mz="Discarded session because of missing or non-string release";class Cz{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Uj(e.dsn):jI&&WI.warn("No DSN provided, client will not send events."),this._dsn){const t=yz(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=VN();if(YN(e))return jI&&WI.log(kz),r;const i={event_id:r,...t};return this._process(this.eventFromException(e,i).then((e=>this._captureEvent(e,i,n)))),i.event_id}captureMessage(e,t,n,r){const i={event_id:VN(),...n},o=xN(e)?e:String(e),a=wN(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(a.then((e=>this._captureEvent(e,i,r)))),i.event_id}captureEvent(e,t,n){const r=VN();if((null==t?void 0:t.originalException)&&YN(t.originalException))return jI&&WI.log(kz),r;const i={event_id:r,...t},o=e.sdkProcessingMetadata||{},a=o.capturedSpanScope,s=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,a||n,s)),i.event_id}captureSession(e){this.sendSession(e),tj(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):KN(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((({name:e})=>e.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];_z(this,e,this._integrations),t||wz(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const i=tz(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,null==n?void 0:n.sdk);const a=nz(e,i,r,t);return delete e.sdkProcessingMetadata,qj(a,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of t.attachments||[])n=Xj(n,Zj(i));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const{release:t,environment:n=zj}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(jI&&WI.warn(Mz));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(jI&&WI.warn(Mz));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=function(e,t,n,r){const i=tz(n);return qj({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:$j(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){const r=`${e}:${t}`;jI&&WI.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this._hooks[e];n&&n.forEach((e=>e(...t)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(jI&&WI.error("Error while sending envelope:",e),e))):(jI&&WI.error("Transport disabled"),KN({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&_z(e,t,n)})),n}(this,e),wz(this,e)}_updateSessionFromEvent(e,t){var n;let r="fatal"===t.level,i=!1;const o=null==(n=t.exception)?void 0:n.values;if(o){i=!0;for(const e of o){const t=e.mechanism;if(!1===(null==t?void 0:t.handled)){r=!0;break}}}const a="ok"===e.status;(a&&0===e.errors||a&&r)&&(tj(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new QN((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&(null==o?void 0:o.length)&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),uz(i,e,t,n,this,r).then((e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:yj(n),...e.contexts};const r=function(e,t){const n=t.getPropagationContext();return n.dsc||Dj(n.traceId,e)}(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e}))}_captureEvent(e,t={},n=mj(),r=gj()){return jI&&Tz(e)&&WI.log(`Captured error event \`${Ez(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then((e=>e.event_id),(e=>{jI&&(e instanceof Sz&&"log"===e.logLevel?WI.log(e.message):WI.warn(e))}))}_processEvent(e,t,n,r){const i=this.getOptions(),{sampleRate:o}=i,a=Lz(e),s=Tz(e),l=e.type||"error",c=`before send for type \`${l}\``,u=void 0===o?void 0:Sj(o);if(s&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),ZN(new Sz(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,r).then((e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),new Sz("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=t;let s=n;if(Tz(s)&&i)return i(s,r);if(Lz(s)){if(a){const e=a(function(e){var t;const{trace_id:n,parent_span_id:r,span_id:i,status:o,origin:a,data:s,op:l}=(null==(t=e.contexts)?void 0:t.trace)??{};return HN({data:s??{},description:e.transaction,op:l,parent_span_id:r,span_id:i??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:n??"",origin:a,profile_id:null==s?void 0:s[xj],exclusive_time:null==s?void 0:s[wj],measurements:e.measurements,is_segment:!0})}(s));if(e?s=ij(n,HN({type:"transaction",timestamp:(l=e).timestamp,start_timestamp:l.start_timestamp,transaction:l.description,contexts:{trace:{trace_id:l.trace_id,span_id:l.span_id,parent_span_id:l.parent_span_id,op:l.op,status:l.status,origin:l.origin,data:{...l.data,...l.profile_id&&{[xj]:l.profile_id},...l.exclusive_time&&{[wj]:l.exclusive_time}}}},measurements:l.measurements})):jj(),s.spans){const e=[];for(const t of s.spans){const n=a(t);n?e.push(n):(jj(),e.push(t))}s.spans=e}}if(o){if(s.spans){const e=s.spans.length;s.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(s,r)}}var l;return s}(0,i,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(EN(e))return e.then((e=>{if(!_N(e)&&null!==e)throw new Sz(n);return e}),(e=>{throw new Sz(`${t} rejected with ${e}`)}));if(!_N(e)&&null!==e)throw new Sz(n);return e}(n,c)})).then((i=>{var o;if(null===i){if(this.recordDroppedEvent("before_send",d),a){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new Sz(`${c} returned \`null\`, will not send event.`,"log")}const l=n.getSession()||r.getSession();if(s&&l&&this._updateSessionFromEvent(l,i),a){const e=((null==(o=i.sdkProcessingMetadata)?void 0:o.spanCountBeforeProcessing)||0)-(i.spans?i.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const u=i.transaction_info;if(a&&u&&i.transaction!==e.transaction){const e="custom";i.transaction_info={...u,source:e}}return this.sendEvent(i,t),i})).then(null,(e=>{if(e instanceof Sz)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Sz(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((([e,t])=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t}}))}_flushOutcomes(){jI&&WI.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(jI&&WI.log("No outcomes to send"));if(!this._dsn)return void(jI&&WI.log("No dsn provided, will not send outcomes"));jI&&WI.log("Sending outcomes:",e);const t=(n=e,qj((r=this._options.tunnel&&$j(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:uN(),discarded_events:n}]]));var n,r;this.sendEnvelope(t)}}function Tz(e){return void 0===e.type}function Lz(e){return"transaction"===e.type}function Az(e,t){!0===t.debug&&(jI?WI.enable():GI((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));mj().update(t.initialScope);const n=new e(t);return function(e){mj().setClient(e)}(n),n.init(),n}function Oz(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ZN(new Sz("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new QN(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{KN(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function Pz(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Rz(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=null==n?void 0:n["x-sentry-rate-limits"],a=null==n?void 0:n["retry-after"];if(o)for(const s of o.trim().split(",")){const[e,t,,,n]=s.split(":",5),o=parseInt(e,10),a=1e3*(isNaN(o)?60:o);if(t)for(const s of t.split(";"))"metric_bucket"===s&&n&&!n.split(";").includes("custom")||(i[s]=r+a);else i.all=r+a}else a?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(i.all=r+6e4);return i}function Iz(e,t){const n=null==t?void 0:t.getDsn(),r=null==t?void 0:t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){if(!t)return!1;return Nz(e)===Nz(t)}(e,r)}function Nz(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function jz(e){var t;void 0===(null==(t=e.user)?void 0:t.ip_address)&&(e.user={...e.user,ip_address:"{{auto}}"})}function zz(e){var t;"aggregates"in e?void 0===(null==(t=e.attrs)?void 0:t.ip_address)&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}const Dz=100;function Bz(e,t){const n=vj(),r=gj();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Dz}=n.getOptions();if(o<=0)return;const a={timestamp:uN(),...e},s=i?GI((()=>i(a,t))):a;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,o))}let Fz;const $z=new WeakMap,Hz=()=>({name:"FunctionToString",setupOnce(){Fz=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=DN(this),n=$z.has(vj())&&void 0!==t?t:this;return Fz.apply(n,e)}}catch{}},setup(e){$z.set(e,!0)}}),Uz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Vz=(e={})=>{let t;return{name:"EventFilters",setup(n){const r=n.getOptions();t=Wz(e,r)},processEvent(n,r,i){if(!t){const n=i.getOptions();t=Wz(e,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!(null==t?void 0:t.length))return!1;const n=e.transaction;return!!n&&IN(n,t)}(e,t.ignoreTransactions))return jI&&WI.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${WN(e)}`),!0}else{if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(gG){}return!1}(e))return jI&&WI.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${WN(e)}`),!0;if(function(e,t){if(!(null==t?void 0:t.length))return!1;return Ez(e).some((e=>IN(e,t)))}(e,t.ignoreErrors))return jI&&WI.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${WN(e)}`),!0;if(function(e){var t,n;if(!(null==(n=null==(t=e.exception)?void 0:t.values)?void 0:n.length))return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return jI&&WI.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${WN(e)}`),!0;if(function(e,t){if(!(null==t?void 0:t.length))return!1;const n=qz(e);return!!n&&IN(n,t)}(e,t.denyUrls))return jI&&WI.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${WN(e)}.\nUrl: ${qz(e)}`),!0;if(!function(e,t){if(!(null==t?void 0:t.length))return!0;const n=qz(e);return!n||IN(n,t)}(e,t.allowUrls))return jI&&WI.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${WN(e)}.\nUrl: ${qz(e)}`),!0}return!1}(n,t)?null:n}}},Gz=(e={})=>({...Vz(e),name:"InboundFilters"});function Wz(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Uz],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function qz(e){var t,n;try{const r=[...(null==(t=e.exception)?void 0:t.values)??[]].reverse().find((e=>{var t,n,r;return void 0===(null==(t=e.mechanism)?void 0:t.parent_id)&&(null==(r=null==(n=e.stacktrace)?void 0:n.frames)?void 0:r.length)})),i=null==(n=null==r?void 0:r.stacktrace)?void 0:n.frames;return i?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(i):null}catch(r){return jI&&WI.error(`Cannot extract url for event ${WN(e)}`),null}}function Xz(e,t,n=250,r,i,o,a){var s;if(!(null==(s=o.exception)?void 0:s.values)||!a||!kN(a.originalException,Error))return;const l=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var c,u;l&&(o.exception.values=(c=Yz(e,t,i,a.originalException,r,o.exception.values,l,0),u=n,c.map((e=>(e.value&&(e.value=ON(e.value,u)),e)))))}function Yz(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;let l=[...o];if(kN(r[i],Error)){Jz(a,s);const o=e(t,r[i]),c=l.length;Kz(o,i,c,s),l=Yz(e,t,n,r[i],i,[o,...l],o,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,o)=>{if(kN(r,Error)){Jz(a,s);const c=e(t,r),u=l.length;Kz(c,`errors[${o}]`,u,s),l=Yz(e,t,n,r,i,[c,...l],c,u)}})),l}function Jz(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Kz(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Zz(){"console"in zI&&UI.forEach((function(e){e in zI.console&&NN(zI.console,e,(function(t){return VI[e]=t,function(...t){oN("console",{args:t,level:e});const n=VI[e];null==n||n.apply(zI.console,t)}}))}))}function Qz(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const eD=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!nD(e,t))return!1;if(!tD(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=rD(t),r=rD(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!nD(e,t))return!1;if(!tD(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return jI&&WI.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};function tD(e,t){let n=eN(e),r=eN(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const e=r[i],t=n[i];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function nD(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function rD(e){var t;return(null==(t=e.exception)?void 0:t.values)&&e.exception.values[0]}function iD(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function oD(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const aD=zI;function sD(){if(!("fetch"in aD))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(gG){return!1}}function lD(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function cD(e,t){const n="fetch";rN(n,e),iN(n,(()=>function(e,t=!1){if(t&&!function(){var e;if("string"==typeof EdgeRuntime)return!0;if(!sD())return!1;if(lD(aD.fetch))return!0;let t=!1;const n=aD.document;if(n&&"function"==typeof n.createElement)try{const r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),(null==(e=r.contentWindow)?void 0:e.fetch)&&(t=lD(r.contentWindow.fetch)),n.head.removeChild(r)}catch(r){DI&&WI.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}())return;NN(zI,"fetch",(function(e){return function(...t){const n=new Error,{method:r,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:dD(t),method:uD(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:dD(t),method:uD(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:r,url:i},startTimestamp:1e3*dN(),virtualError:n};return oN("fetch",{...o}),e.apply(zI,t).then((async e=>(oN("fetch",{...o,endTimestamp:1e3*dN(),response:e}),e)),(e=>{if(oN("fetch",{...o,endTimestamp:1e3*dN(),error:e}),mN(e)&&void 0===e.stack&&(e.stack=n.stack,jN(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(o.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e}))}}))}(0,t)))}function uD(e,t){return!!e&&"object"==typeof e&&!!e[t]}function dD(e){return"string"==typeof e?e:e?uD(e,"url")?e.url:e.toString?e.toString():"":""}function hD(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function pD(){return"undefined"!=typeof window&&(!hD()||function(){const e=zI.process;return"renderer"===(null==e?void 0:e.type)}())}const fD=zI;let mD=0;function gD(){return mD>0}function vD(e,t={}){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(DN(e))return e}catch(gG){return e}const n=function(...n){try{const r=n.map((e=>vD(e,t)));return e.apply(this,r)}catch(r){throw mD++,setTimeout((()=>{mD--})),function(...e){const t=fj(FI());if(2===e.length){const[n,r]=e;return n?t.withSetScope(n,r):t.withScope(r)}t.withScope(e[0])}((e=>{e.addEventProcessor((e=>(t.mechanism&&(qN(e,void 0),XN(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),dz(r)})),r}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}zN(n,e),jN(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}function yD(e,t){const n=wD(e,t),r={type:ED(t),value:kD(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function bD(e,t,n,r){const i=vj(),o=null==i?void 0:i.getOptions().normalizeDepth,a=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),s={__serialized__:Gj(t,o)};if(a)return{exception:{values:[yD(e,a)]},extra:s};const l={exception:{values:[{type:SN(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:TD(t,{isUnhandledRejection:r})}]},extra:s};if(n){const t=wD(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}function xD(e,t){return{exception:{values:[yD(e,t)]}}}function wD(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&_D.test(e.message))return 1;return 0}(t),i=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,i)}catch(gG){}return[]}const _D=/Minified React error #\d+;/i;function SD(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function ED(e){const t=null==e?void 0:e.name;if(!t&&SD(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function kD(e){const t=null==e?void 0:e.message;return SD(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function MD(e,t,n,r,i){let o;if(vN(t)&&t.error){return xD(e,t.error)}if(yN(t)||gN(t,"DOMException")){const i=t;if("stack"in t)o=xD(e,t);else{const t=i.name||(yN(i)?"DOMError":"DOMException"),a=i.message?`${t}: ${i.message}`:t;o=CD(e,a,n,r),qN(o,a)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}if(mN(t))return xD(e,t);if(_N(t)||SN(t)){return o=bD(e,t,n,i),XN(o,{synthetic:!0}),o}return o=CD(e,t,n,r),qN(o,`${t}`),XN(o,{synthetic:!0}),o}function CD(e,t,n,r){const i={};if(r&&n){const r=wD(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),XN(i,{synthetic:!0})}if(xN(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function TD(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(BN(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return ON(r,t);for(let i=n.length;i>0;i--){const e=n.slice(0,i).join(", ");if(!(e.length>t))return i===n.length?e:ON(e,t)}return""}(e),r=t?"promise rejection":"exception";if(vN(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(SN(e)){const t=function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(gG){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}class LD extends Cz{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};!function(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:BI}))),version:BI}),e._metadata=i}(t,"browser",["browser"],fD.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&fD.document&&fD.document.addEventListener("visibilitychange",(()=>{"hidden"===fD.document.visibilityState&&this._flushOutcomes()})),this._options.sendDefaultPii&&(this.on("postprocessEvent",jz),this.on("beforeSendSession",zz))}eventFromException(e,t){return function(e,t,n,r){const i=MD(e,t,(null==n?void 0:n.syntheticException)||void 0,r);return XN(i),i.level="error",(null==n?void 0:n.event_id)&&(i.event_id=n.event_id),KN(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=CD(e,t,(null==r?void 0:r.syntheticException)||void 0,i);return o.level=n,(null==r?void 0:r.event_id)&&(o.event_id=r.event_id),KN(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}const AD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,OD=(e,t,n,r)=>{let i,o;return a=>{t.value>=0&&(a||r)&&(o=t.value-(i||0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},PD=zI,RD=(e=!0)=>{var t,n;const r=null==(n=null==(t=PD.performance)?void 0:t.getEntriesByType)?void 0:n.call(t,"navigation")[0];if(!e||r&&r.responseStart>0&&r.responseStart<performance.now())return r},ID=()=>{const e=RD();return(null==e?void 0:e.activationStart)||0},ND=(e,t)=>{var n,r;const i=RD();let o="navigate";i&&((null==(n=PD.document)?void 0:n.prerendering)||ID()>0?o="prerender":(null==(r=PD.document)?void 0:r.wasDiscarded)?o="restore":i.type&&(o=i.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v4-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:o}},jD=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(gG){}},zD=e=>{const t=t=>{var n;"pagehide"!==t.type&&"hidden"!==(null==(n=PD.document)?void 0:n.visibilityState)||e(t)};PD.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},DD=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let BD=-1;const FD=e=>{"hidden"===PD.document.visibilityState&&BD>-1&&(BD="visibilitychange"===e.type?e.timeStamp:0,$D())},$D=()=>{removeEventListener("visibilitychange",FD,!0),removeEventListener("prerenderingchange",FD,!0)},HD=()=>(PD.document&&BD<0&&(BD="hidden"!==PD.document.visibilityState||PD.document.prerendering?1/0:0,addEventListener("visibilitychange",FD,!0),addEventListener("prerenderingchange",FD,!0)),{get firstHiddenTime(){return BD}}),UD=e=>{var t;(null==(t=PD.document)?void 0:t.prerendering)?addEventListener("prerenderingchange",(()=>e()),!0):e()},VD=[1800,3e3],GD=[.1,.25],WD=(e,t={})=>{((e,t={})=>{UD((()=>{const n=HD(),r=ND("FCP");let i;const o=jD("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-ID(),0),r.entries.push(e),i(!0)))}))}));o&&(i=OD(e,r,VD,t.reportAllChanges))}))})(DD((()=>{const n=ND("CLS",0);let r,i=0,o=[];const a=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=o[0],n=o[o.length-1];i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>n.value&&(n.value=i,n.entries=o,r())},s=jD("layout-shift",a);s&&(r=OD(e,n,GD,t.reportAllChanges),zD((()=>{a(s.takeRecords()),r(!0)})),setTimeout(r,0))})))},qD=[100,300];let XD=0,YD=1/0,JD=0;const KD=e=>{e.forEach((e=>{e.interactionId&&(YD=Math.min(YD,e.interactionId),JD=Math.max(JD,e.interactionId),XD=JD?(JD-YD)/7+1:0)}))};let ZD;const QD=[],eB=new Map;const tB=()=>(ZD?XD:performance.interactionCount||0)-0,nB=[],rB=e=>{var t;if(nB.forEach((t=>t(e))),!e.interactionId&&"first-input"!==e.entryType)return;const n=QD[QD.length-1],r=eB.get(e.interactionId);if(r||QD.length<10||n&&e.duration>n.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===(null==(t=r.entries[0])?void 0:t.startTime)&&r.entries.push(e);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};eB.set(t.id,t),QD.push(t)}QD.sort(((e,t)=>t.latency-e.latency)),QD.length>10&&QD.splice(10).forEach((e=>eB.delete(e.id)))}},iB=e=>{var t;const n=PD.requestIdleCallback||PD.setTimeout;let r=-1;return e=DD(e),"hidden"===(null==(t=PD.document)?void 0:t.visibilityState)?e():(r=n(e),zD(e)),r},oB=[200,500],aB=(e,t={})=>{"PerformanceEventTiming"in PD&&"interactionId"in PerformanceEventTiming.prototype&&UD((()=>{"interactionCount"in performance||ZD||(ZD=jD("event",KD,{type:"event",buffered:!0,durationThreshold:0}));const n=ND("INP");let r;const i=e=>{iB((()=>{e.forEach(rB);const t=(()=>{const e=Math.min(QD.length-1,Math.floor(tB()/50));return QD[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())}))},o=jD("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=OD(e,n,oB,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),zD((()=>{i(o.takeRecords()),r(!0)})))}))},sB=[2500,4e3],lB={},cB={},uB={};let dB,hB,pB,fB;function mB(e,t){return _B(e,t),uB[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);jD(e,(t=>{gB(e,{entries:t})}),t)}(e),uB[e]=!0),SB(e,t)}function gB(e,t){const n=cB[e];if(null==n?void 0:n.length)for(const r of n)try{r(t)}catch(gG){AD&&WI.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${QI(r)}\nError:`,gG)}}function vB(){return WD((e=>{gB("cls",{metric:e}),dB=e}),{reportAllChanges:!0})}function yB(){return((e,t={})=>{UD((()=>{const n=HD(),r=ND("FID");let i;const o=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0))},a=e=>{e.forEach(o)},s=jD("first-input",a);i=OD(e,r,qD,t.reportAllChanges),s&&zD(DD((()=>{a(s.takeRecords()),s.disconnect()})))}))})((e=>{gB("fid",{metric:e}),hB=e}))}function bB(){return((e,t={})=>{UD((()=>{const n=HD(),r=ND("LCP");let i;const o=e=>{t.reportAllChanges||(e=e.slice(-1)),e.forEach((e=>{e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-ID(),0),r.entries=[e],i())}))},a=jD("largest-contentful-paint",o);if(a){i=OD(e,r,sB,t.reportAllChanges);const n=DD((()=>{lB[r.id]||(o(a.takeRecords()),a.disconnect(),lB[r.id]=!0,i(!0))}));["keydown","click"].forEach((e=>{PD.document&&addEventListener(e,(()=>iB(n)),{once:!0,capture:!0})})),zD(n)}}))})((e=>{gB("lcp",{metric:e}),pB=e}),{reportAllChanges:!0})}function xB(){return aB((e=>{gB("inp",{metric:e}),fB=e}))}function wB(e,t,n,r,i=!1){let o;return _B(e,t),uB[e]||(o=n(),uB[e]=!0),r&&t({metric:r}),SB(e,t,i?o:void 0)}function _B(e,t){cB[e]=cB[e]||[],cB[e].push(t)}function SB(e,t,n){return()=>{n&&n();const r=cB[e];if(!r)return;const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}let EB,kB,MB,CB;function TB(e){rN("dom",e),iN("dom",LB)}function LB(){if(!PD.document)return;const e=oN.bind(null,"dom"),t=AB(e,!0);PD.document.addEventListener("click",t,!1),PD.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var n,r;const i=null==(n=PD[t])?void 0:n.prototype;(null==(r=null==i?void 0:i.hasOwnProperty)?void 0:r.call(i,"addEventListener"))&&(NN(i,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=AB(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(gG){}return t.call(this,n,r,i)}})),NN(i,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(gG){}return e.call(this,t,n,r)}})))}))}function AB(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(gG){return null}}(n);if(function(e,t){return"keypress"===e&&(!(null==t?void 0:t.tagName)||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;jN(n,"_sentryCaptured",!0),r&&!r._sentryId&&jN(r,"_sentryId",VN());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==kB)return!1;try{if(!e.target||e.target._sentryId!==MB)return!1}catch(gG){}return!0}(n)){e({event:n,name:i,global:t}),kB=n.type,MB=r?r._sentryId:void 0}clearTimeout(EB),EB=PD.setTimeout((()=>{MB=void 0,kB=void 0}),1e3)}}function OB(e){const t="history";rN(t,e),iN(t,PB)}function PB(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const r=CB,i=String(n);if(CB=i,r===i)return e.apply(this,t);oN("history",{from:r,to:i})}return e.apply(this,t)}}PD.addEventListener("popstate",(()=>{const e=PD.location.href,t=CB;if(CB=e,t===e)return;oN("history",{from:t,to:e})})),"history"in aD&&aD.history&&(NN(PD.history,"pushState",e),NN(PD.history,"replaceState",e))}const RB={};function IB(e){const t=RB[e];if(t)return t;let n=PD[e];if(lD(n))return RB[e]=n.bind(PD);const r=PD.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const i=t.contentWindow;(null==i?void 0:i[e])&&(n=i[e]),r.head.removeChild(t)}catch(gG){AD&&WI.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,gG)}return n?RB[e]=n.bind(PD):n}function NB(e){RB[e]=void 0}function jB(...e){return IB("setTimeout")(...e)}const zB="__sentry_xhr_v3__";function DB(){if(!PD.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*dN(),o=bN(n[0])?n[0].toUpperCase():void 0,a=function(e){if(bN(e))return e;try{return e.toString()}catch{}return}(n[1]);if(!o||!a)return e.apply(t,n);t[zB]={method:o,url:a,request_headers:{}},"POST"===o&&a.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const s=()=>{const e=t[zB];if(e&&4===t.readyState){try{e.status_code=t.status}catch(gG){}oN("xhr",{endTimestamp:1e3*dN(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(s(),e.apply(t,n))}):t.addEventListener("readystatechange",s),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[zB];return o&&bN(r)&&bN(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[zB];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return oN("xhr",{startTimestamp:1e3*dN(),xhr:t}),e.apply(t,n)}})}function BB(e){return new URLSearchParams(e).toString()}function FB(e,t=WI){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[BB(e)];if(!e)return[void 0]}catch(n){return AD&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return AD&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function $B(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function HB(e,t=IB("fetch")){let n=0,r=0;return function(e,t,n=Oz(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(Yj(i,((t,n)=>{const i=ez(n);Pz(r,i)?e.recordDroppedEvent("ratelimit_backoff",i):o.push(t)})),0===o.length)return KN({});const a=qj(i[0],o),s=t=>{Yj(a,((n,r)=>{e.recordDroppedEvent(t,ez(r))}))};return n.add((()=>t({body:Kj(a)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&jI&&WI.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Rz(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Sz)return jI&&WI.error("Skipped sending event because buffer is full."),s("queue_overflow"),KN({});throw e}))},flush:e=>n.drain(e)}}(e,(function(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return NB("fetch"),ZN("No fetch implementation available");try{return t(e.url,a).then((e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(gG){return NB("fetch"),n-=o,r--,ZN(gG)}}))}function UB(e,t,n,r){const i={filename:e,function:"<anonymous>"===t?qI:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const VB=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,GB=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,WB=/\((\S*)(?::(\d+))(?::(\d+))\)/,qB=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,XB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,YB=JI(...[[30,e=>{const t=VB.exec(e);if(t){const[,e,n,r]=t;return UB(e,qI,+n,+r)}const n=GB.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=WB.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=JB(n[1]||qI,n[2]);return UB(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=qB.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=XB.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||qI;return[n,e]=JB(n,e),UB(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),JB=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:qI,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},KB="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ZB=1024,QB=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n;t.console&&function(e){const t="console";rN(t,e),iN(t,Zz)}(function(e){return function(t){if(vj()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Qz(t.level),message:PN(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${PN(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Bz(n,{input:t.args,level:t.level})}}(e)),t.dom&&TB(function(e,t){return function(n){if(vj()!==e)return;let r,i,o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>ZB&&(KB&&WI.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=ZB),"string"==typeof o&&(o=[o]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=TN(t,{keyAttrs:o,maxStringLength:a}),i=function(e){if(!CN.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}(t)}catch(gG){r="<unknown>"}if(0===r.length)return;const s={category:`ui.${n.name}`,message:r};i&&(s.data={"ui.component_name":i}),Bz(s,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&(n=function(e){return function(t){if(vj()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[zB];if(!n||!r||!i)return;const{method:o,url:a,status_code:s,body:l}=i,c={method:o,url:a,status_code:s},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:c,type:"http",level:oD(s)};e.emit("beforeOutgoingRequestBreadcrumb",d,u),Bz(d,u)}}(e),rN("xhr",n),iN("xhr",DB)),t.fetch&&cD(function(e){return function(t){if(vj()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const i=t.fetchData,o={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Bz(a,o)}else{const i=t.response,o={...t.fetchData,status_code:null==i?void 0:i.status};t.fetchData.request_body_size,t.fetchData.response_body_size,null==i||i.status;const a={input:t.args,response:i,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:o,type:"http",level:oD(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",s,a),Bz(s,a)}}}(e)),t.history&&OB(function(e){return function(t){if(vj()!==e)return;let n=t.from,r=t.to;const i=iD(fD.location.href);let o=n?iD(n):void 0;const a=iD(r);(null==o?void 0:o.path)||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Bz({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){vj()===e&&Bz({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:WN(t)},{event:t})}}(e))}}};const eF=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],tF=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&NN(fD,"setTimeout",nF),t.setInterval&&NN(fD,"setInterval",nF),t.requestAnimationFrame&&NN(fD,"requestAnimationFrame",rF),t.XMLHttpRequest&&"XMLHttpRequest"in fD&&NN(XMLHttpRequest.prototype,"send",iF);const e=t.eventTarget;if(e){(Array.isArray(e)?e:eF).forEach(oF)}}}};function nF(e){return function(...t){const n=t[0];return t[0]=vD(n,{mechanism:{data:{function:QI(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function rF(e){return function(t){return e.apply(this,[vD(t,{mechanism:{data:{function:"requestAnimationFrame",handler:QI(e)},handled:!1,type:"instrument"}})])}}function iF(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&NN(n,e,(function(t){const n={mechanism:{data:{function:e,handler:QI(t)},handled:!1,type:"instrument"}},r=DN(t);return r&&(n.mechanism.data.handler=QI(r)),vD(t,n)}))})),e.apply(this,t)}}function oF(e){var t,n;const r=null==(t=fD[e])?void 0:t.prototype;(null==(n=null==r?void 0:r.hasOwnProperty)?void 0:n.call(r,"addEventListener"))&&(NN(r,"addEventListener",(function(t){return function(n,r,i){try{(function(e){return"function"==typeof e.handleEvent})(r)&&(r.handleEvent=vD(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:QI(r),target:e},handled:!1,type:"instrument"}}))}catch{}return t.apply(this,[n,vD(r,{mechanism:{data:{function:"addEventListener",handler:QI(r),target:e},handled:!1,type:"instrument"}}),i])}})),NN(r,"removeEventListener",(function(e){return function(t,n,r){try{const i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(gG){}return e.call(this,t,n,r)}})))}const aF=()=>({name:"BrowserSession",setupOnce(){void 0!==fD.document?(fz({ignoreDuration:!0}),vz(),OB((({from:e,to:t})=>{void 0!==e&&e!==t&&(fz({ignoreDuration:!0}),vz())}))):KB&&WI.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),sF=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";rN(t,e),iN(t,sN)}((t=>{const{stackParser:n,attachStacktrace:r}=cF();if(vj()!==e||gD())return;const{msg:i,url:o,line:a,column:s,error:l}=t,c=function(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],c=r,u=n,d=bN(t)&&t.length>0?t:AN();0===l.length&&l.push({colno:c,filename:d,function:qI,in_app:!0,lineno:u});return e}(MD(n,l||i,void 0,r,!1),o,a,s);c.level="error",hz(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),lF("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";rN(t,e),iN(t,cN)}((t=>{const{stackParser:n,attachStacktrace:r}=cF();if(vj()!==e||gD())return;const i=function(e){if(wN(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),o=wN(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:MD(n,i,void 0,r,!0);o.level="error",hz(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),lF("onunhandledrejection"))}}};function lF(e){KB&&WI.log(`Global Handler attached: ${e}`)}function cF(){const e=vj();return(null==e?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const uF=()=>({name:"HttpContext",preprocessEvent(e){var t,n;if(!fD.navigator&&!fD.location&&!fD.document)return;const r=(null==(t=e.request)?void 0:t.url)||AN(),{referrer:i}=fD.document||{},{userAgent:o}=fD.navigator||{},a={...null==(n=e.request)?void 0:n.headers,...i&&{Referer:i},...o&&{"User-Agent":o}},s={...e.request,...r&&{url:r},headers:a};e.request=s}}),dF=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){const o=i.getOptions();Xz(yD,o.stackParser,o.maxValueLength,n,t,e,r)}}};function hF(e){const t={};for(const n of Object.getOwnPropertyNames(e)){const r=n;void 0!==e[r]&&(t[r]=e[r])}return t}const pF=zI,fF="sentryReplaySession",mF="Unable to send Replay",gF=15e4,vF=5e3,yF=2e7,bF=36e5;var xF=Object.defineProperty,wF=(e,t,n)=>((e,t,n)=>t in e?xF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),_F=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(_F||{});function SF(e){const t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function EF(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function kF(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,MF).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function MF(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=kF(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),r="string"==typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],o=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||r)return t}return t||e.cssText}class CF{constructor(){wF(this,"idNodeMap",new Map),wF(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function TF({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function LF({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function AF(e){return e.toLowerCase()}function OF(e){return e.toUpperCase()}const PF="__rrweb_original__";function RF(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?AF(t):null}function IF(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function NF(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(i){return null}const r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==r?void 0:r[1])??null}const jF={};function zF(e){const t=jF[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(gG){}return jF[e]=r.bind(window)}function DF(...e){return zF("setTimeout")(...e)}function BF(...e){return zF("clearTimeout")(...e)}function FF(e){try{return e.contentDocument}catch(gG){}}let $F=1;const HF=new RegExp("[^a-z0-9-_:]");function UF(){return $F++}let VF,GF;const WF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,qF=/^(?:[a-z+]+:)?\/\//i,XF=/^www\..*/i,YF=/^(data:)([^,]*),(.*)/i;function JF(e,t){return(e||"").replace(WF,((e,n,r,i,o,a)=>{const s=r||o||a,l=n||i||"";if(!s)return e;if(qF.test(s)||XF.test(s))return`url(${l}${s}${l})`;if(YF.test(s))return`url(${l}${s}${l})`;if("/"===s[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+s}${l})`;const c=t.split("/"),u=s.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${l}${c.join("/")}${l})`}))}const KF=/^[^ \t\n\r\u000c]+/,ZF=/^[, \t\n\r\u000c]+/;const QF=new WeakMap;function e$(e,t){return t&&""!==t.trim()?n$(e,t):t}function t$(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function n$(e,t){let n=QF.get(e);if(n||(n=e.createElement("a"),QF.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function r$(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?e$(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}const i=[];for(;r(ZF),!(n>=t.length);){let o=r(KF);if(","===o.slice(-1))o=e$(e,o.substring(0,o.length-1)),i.push(o);else{let r="";o=e$(e,o);let a=!1;for(;;){const e=t.charAt(n);if(""===e){i.push((o+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,i.push((o+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?JF(r,n$(e)):"object"===t&&"data"===n?e$(e,r):"function"==typeof o?o(n,r,i):r:e$(e,r):r}function i$(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function o$(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(gG){}return!1}function a$(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:a$(e.parentNode,t,n,r+1):-1}function s$(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch{return!1}}}function l$(e,t,n,r,i,o){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let s=-1,l=-1;if(o){if(l=a$(a,s$(r,i)),l<0)return!0;s=a$(a,s$(t,n),l>=0?l:1/0)}else{if(s=a$(a,s$(t,n)),s<0)return!1;l=a$(a,s$(r,i),s>=0?s:1/0)}return s>=0?!(l>=0)||s<=l:!(l>=0)&&!!o}catch(gG){}return!!o}function c$(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:v={},inlineImages:y,recordCanvas:b,keepIframeSrcFn:x,newlyAddedElement:w=!1}=t,_=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:_F.Document,childNodes:[],compatMode:e.compatMode}:{type:_F.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:_F.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f=!1,rootId:m,maskTextClass:g,unmaskTextClass:v,maskTextSelector:y,unmaskTextSelector:b}=t,x=o$(e,r,i,o),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=AF(e.tagName);return HF.test(t)?"div":t}(e);let _={};const S=e.attributes.length;for(let k=0;k<S;k++){const t=e.attributes[k];t.name&&!i$(w,t.name,t.value)&&(_[t.name]=r$(n,w,AF(t.name),t.value,e,l))}if("link"===w&&a){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=kF(t)),r&&(_.rel=null,_.href=null,_.crossorigin=null,_._cssText=JF(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=kF(e.sheet);t&&(_._cssText=JF(t,n$(n)))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=RF(t),r=IF(t,OF(w),n),i=t.checked;if("submit"!==n&&"button"!==n&&r){const e=l$(t,g,y,v,b,TF({type:n,tagName:OF(w),maskInputOptions:s}));_.value=LF({isMasked:e,element:t,value:r,maskInputFn:c})}i&&(_.checked=i)}"option"===w&&(e.selected&&!s.select?_.selected=!0:delete _.selected);if("canvas"===w&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const i=t.getImageData,o=PF in i?i[PF]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(_.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height;t!==r.toDataURL(u.type,u.quality)&&(_.rr_dataURL=t)}if("img"===w&&d){VF||(VF=n.createElement("canvas"),GF=VF.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",i=t.crossOrigin,o=()=>{t.removeEventListener("load",o);try{VF.width=t.naturalWidth,VF.height=t.naturalHeight,GF.drawImage(t,0,0),_.rr_dataURL=VF.toDataURL(u.type,u.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o));console.warn(`Cannot inline img src=${r}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(i?_.crossOrigin=i:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==w&&"video"!==w||(_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop));if(x){const{width:t,height:n}=e.getBoundingClientRect();_={class:_.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||p(_.src)||(x||FF(e)||(_.rr_src=_.src),delete _.src);let E;try{customElements.get(w)&&(E=!0)}catch(gG){}return{type:_F.Element,tagName:w,attributes:_,childNodes:[],isSVG:t$(e)||void 0,needBlock:x,rootId:m,isCustom:E}}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:f,maskInputFn:g,dataURLOptions:v,inlineImages:y,recordCanvas:b,keepIframeSrcFn:x,newlyAddedElement:w,rootId:_,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){var n;const{maskAllText:r,maskTextClass:i,unmaskTextClass:o,maskTextSelector:a,unmaskTextSelector:s,maskTextFn:l,maskInputOptions:c,maskInputFn:u,rootId:d}=t,h=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const f="STYLE"===h||void 0,m="SCRIPT"===h||void 0,g="TEXTAREA"===h||void 0;if(f&&p){try{e.nextSibling||e.previousSibling||(null==(n=e.parentNode.sheet)?void 0:n.cssRules)&&(p=kF(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}p=JF(p,n$(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");const v=l$(e,i,a,o,s,r);f||m||g||!p||!v||(p=l?l(p,e.parentElement):p.replace(/[\S]/g,"*"));g&&p&&(c.textarea||v)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===h&&p){p=LF({isMasked:l$(e,i,a,o,s,TF({type:null,tagName:h,maskInputOptions:c})),element:e,value:p,maskInputFn:u})}return{type:_F.Text,textContent:p||"",isStyle:f,rootId:d}}(e,{doc:n,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:_});case e.CDATA_SECTION_NODE:return{type:_F.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:_F.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function u$(e){return null==e?"":e.toLowerCase()}function d$(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b={},inlineImages:x=!1,recordCanvas:w=!1,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:E=5e3,onStylesheetLoad:k,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:T=!1}=t;let{preserveWhiteSpace:L=!0}=t;const A=c$(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,dataURLOptions:b,inlineImages:x,recordCanvas:w,keepIframeSrcFn:C,newlyAddedElement:T});if(!A)return console.warn(e,"not serialized"),null;let O;O=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===_F.Comment)return!0;if(e.type===_F.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===NF(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(u$(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===u$(e.attributes.name)||"icon"===u$(e.attributes.rel)||"apple-touch-icon"===u$(e.attributes.rel)||"shortcut icon"===u$(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&u$(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(u$(e.attributes.property).match(/^(og|twitter|fb):/)||u$(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===u$(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===u$(e.attributes.name)||"googlebot"===u$(e.attributes.name)||"bingbot"===u$(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===u$(e.attributes.name)||"generator"===u$(e.attributes.name)||"framework"===u$(e.attributes.name)||"publisher"===u$(e.attributes.name)||"progid"===u$(e.attributes.name)||u$(e.attributes.property).match(/^article:/)||u$(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===u$(e.attributes.name)||"yandex-verification"===u$(e.attributes.name)||"csrf-token"===u$(e.attributes.name)||"p:domain_verify"===u$(e.attributes.name)||"verify-v1"===u$(e.attributes.name)||"verification"===u$(e.attributes.name)||"shopify-checkout-api-token"===u$(e.attributes.name)))return!0}}return!1}(A,y)&&(L||A.type!==_F.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?UF():-2;const P=Object.assign(A,{id:O});if(r.add(e,P),-2===O)return null;_&&_(e);let R=!h;if(P.type===_F.Element){R=R&&!P.needBlock,delete P.needBlock;const t=e.shadowRoot;t&&EF(t)&&(P.isShadowHost=!0)}if((P.type===_F.Document||P.type===_F.Element)&&R){y.headWhitespace&&P.type===_F.Element&&"head"===P.tagName&&(L=!1);const t={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b,inlineImages:x,recordCanvas:w,preserveWhiteSpace:L,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:M,keepIframeSrcFn:C};for(const n of Array.from(e.childNodes)){const e=d$(n,t);e&&P.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=d$(n,t);r&&(EF(e.shadowRoot)&&(r.isShadow=!0),P.childNodes.push(r))}}return e.parentNode&&SF(e.parentNode)&&EF(e.parentNode)&&(P.isShadow=!0),P.type!==_F.Element||"iframe"!==P.tagName||o$(e,i,o,a)||function(e,t,n){const r=e.contentWindow;if(!r)return;let i,o=!1;try{i=r.document.readyState}catch(s){return}if("complete"!==i){const r=DF((()=>{o||(t(),o=!0)}),n);return void e.addEventListener("load",(()=>{BF(r),o=!0,t()}))}const a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return DF(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=FF(e);if(t&&S){const n=d$(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b,inlineImages:x,recordCanvas:w,preserveWhiteSpace:L,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:M,keepIframeSrcFn:C});n&&S(e,n)}}),E),P.type===_F.Element&&"link"===P.tagName&&"string"==typeof P.attributes.rel&&("stylesheet"===P.attributes.rel||"preload"===P.attributes.rel&&"string"==typeof P.attributes.href&&"css"===NF(P.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(a){return}if(r)return;const o=DF((()=>{i||(t(),i=!0)}),n);e.addEventListener("load",(()=>{BF(o),i=!0,t()}))}(e,(()=>{if(k){const t=d$(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y,dataURLOptions:b,inlineImages:x,recordCanvas:w,preserveWhiteSpace:L,onSerialize:_,onIframeLoad:S,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:M,keepIframeSrcFn:C});t&&k(e,t)}}),M),P}function h$(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const p$="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let f$={map:{},getId:()=>(console.error(p$),-1),getNode:()=>(console.error(p$),null),removeNodeFromMap(){console.error(p$)},has:()=>(console.error(p$),!1),reset(){console.error(p$)}};function m$(e,t,n={}){let r=null,i=0;return function(...o){const a=Date.now();i||!1!==n.leading||(i=a);const s=t-(a-i),l=this;s<=0||s>t?(r&&(!function(...e){N$("clearTimeout")(...e)}(r),r=null),i=a,e.apply(l,o)):r||!1===n.trailing||(r=j$((()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,o)}),s))}}function g$(e,t,n,r,i=window){const o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){j$((()=>{n.set.call(this,e)}),0),o&&o.set&&o.set.call(this,e)}}),()=>g$(e,t,o||{},!0)}function v$(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(f$=new Proxy(f$,{get:(e,t,n)=>("map"===t&&console.error(p$),Reflect.get(e,t,n))}));let y$=Date.now;function b$(e){var t,n,r,i,o,a;const s=e.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==s?void 0:s.documentElement.scrollLeft)||(null==(n=null==(t=null==s?void 0:s.body)?void 0:t.parentElement)?void 0:n.scrollLeft)||(null==(r=null==s?void 0:s.body)?void 0:r.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==s?void 0:s.documentElement.scrollTop)||(null==(o=null==(i=null==s?void 0:s.body)?void 0:i.parentElement)?void 0:o.scrollTop)||(null==(a=null==s?void 0:s.body)?void 0:a.scrollTop)||0}}function x$(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function w$(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function _$(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function S$(e,t,n,r,i){if(!e)return!1;const o=_$(e);if(!o)return!1;const a=s$(t,n);if(!i){const e=r&&o.matches(r);return a(o)&&!e}const s=a$(o,a);let l=-1;return!(s<0)&&(r&&(l=a$(o,s$(null,r))),s>-1&&l<0||s<l)}function E$(e,t){return-2===t.getId(e)}function k$(e,t){if(SF(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||k$(e.parentNode,t))}function M$(e){return Boolean(e.changedTouches)}function C$(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function T$(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function L$(e){return Boolean(null==e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(y$=()=>(new Date).getTime());class A${constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function O$(e){var t,n;let r=null;return(null==(n=null==(t=e.getRootNode)?void 0:t.call(e))?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function P$(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=O$(n);)n=t;return n}(e);return t.contains(n)}function R$(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||P$(e))}const I$={};function N$(e){const t=I$[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(gG){}return I$[e]=r.bind(window)}function j$(...e){return N$("setTimeout")(...e)}var z$=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(z$||{}),D$=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(D$||{}),B$=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(B$||{}),F$=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(F$||{}),$$=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))($$||{});function H$(e){try{return e.contentDocument}catch(gG){}}function U$(e){return"__ln"in e}class V${constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&U$(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&U$(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const G$=(e,t)=>`${e}@${t}`;class W${constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new V$,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!R$(i))return;const o=SF(i.parentNode)?this.mirror.getId(O$(i)):this.mirror.getId(i.parentNode),a=r(i);if(-1===o||-1===a)return n.addNode(i);const s=d$(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{C$(e,this.mirror)&&!S$(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),T$(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),L$(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{S$(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});s&&(e.push({parentId:o,nextId:a,node:s}),t.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const s of this.movedSet)X$(this.removes,s,this.mirror)&&!this.movedSet.has(s.parentNode)||i(s);for(const s of this.addedSet)Y$(this.droppedSet,s)||X$(this.removes,s,this.mirror)?Y$(this.movedSet,s)?i(s):this.droppedSet.add(s):i(s);let o=null;for(;n.length;){let e=null;if(o){const t=this.mirror.getId(o.value.parentNode),n=r(o.value);-1!==t&&-1!==n&&(e=o)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}o=e.previous,n.removeNode(e.value),i(e.value)}const a={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!E$(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;S$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:l$(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,_$(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=RF(t),i=t.tagName;r=IF(t,i,n);const o=TF({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=LF({isMasked:l$(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o),element:t,value:r,maskInputFn:this.maskInputFn})}if(S$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(H$(t))return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!i$(t.tagName,n)&&(i.attributes[n]=r$(this.doc,AF(t.tagName),AF(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(gG){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),o=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||o!==n.style.getPropertyPriority(e)?i.styleDiff[e]=""===o?r:[r,o]:i._unchangedStyles[e]=[r,o]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(S$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=SF(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);S$(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||E$(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(q$(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||k$(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[G$(n,r)]?q$(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!SF(e.target)||!EF(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(E$(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[G$(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);S$(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),L$(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function q$(e,t){e.delete(t),t.childNodes.forEach((t=>q$(e,t)))}function X$(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some((e=>e.id===t)))return!0;r=r.parentNode}return!1}(e,t,n)}function Y$(e,t){return 0!==e.size&&J$(e,t)}function J$(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||J$(e,n))}let K$;const Z$=e=>{if(!K$)return e;return(...t)=>{try{return e(...t)}catch(n){if(K$&&!0===K$(n))return()=>{};throw n}}},Q$=[];function eH(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function tH(e,t){var n,r;const i=new W$;Q$.push(i),i.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const a=null==(r=null==(n=null==window?void 0:window.Zone)?void 0:n.__symbol__)?void 0:r.call(n,"MutationObserver");a&&window[a]&&(o=window[a]);const s=new o(Z$((t=>{e.onMutation&&!1===e.onMutation(t)||i.processMutations.bind(i)(t)})));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function nH({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){if(!1===a.mouseInteraction)return()=>{};const s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,l=[];let c=null;return Object.keys(B$).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((a=>{let s=AF(a);const u=(t=>a=>{const s=eH(a);if(S$(s,r,i,o,!0))return;let l=null,u=t;if("pointerType"in a){switch(a.pointerType){case"mouse":l=F$.Mouse;break;case"touch":l=F$.Touch;break;case"pen":l=F$.Pen}l===F$.Touch?B$[t]===B$.MouseDown?u="TouchStart":B$[t]===B$.MouseUp&&(u="TouchEnd"):F$.Pen}else M$(a)&&(l=F$.Touch);null!==l?(c=l,(u.startsWith("Touch")&&l===F$.Touch||u.startsWith("Mouse")&&l===F$.Mouse)&&(l=null)):B$[t]===B$.Click&&(l=c,c=null);const d=M$(a)?a.changedTouches[0]:a;if(!d)return;const h=n.getId(s),{clientX:p,clientY:f}=d;Z$(e)({type:B$[u],id:h,x:p,y:f,...null!==l&&{pointerType:l}})})(a);if(window.PointerEvent)switch(B$[a]){case B$.MouseDown:case B$.MouseUp:s=s.replace("mouse","pointer");break;case B$.TouchStart:case B$.TouchEnd:return}l.push(h$(s,u,t))})),Z$((()=>{l.forEach((e=>e()))}))}function rH({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){return h$("scroll",Z$(m$(Z$((a=>{const s=eH(a);if(!s||S$(s,r,i,o,!0))return;const l=n.getId(s);if(s===t&&t.defaultView){const n=b$(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:s.scrollLeft,y:s.scrollTop})})),a.scroll||100)),t)}const iH=["INPUT","TEXTAREA","SELECT"],oH=new WeakMap;function aH({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:a,ignoreSelector:s,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let n=eH(e);const u=e.isTrusted,g=n&&OF(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||iH.indexOf(g)<0||S$(n,r,i,o,!0))return;const y=n;if(y.classList.contains(a)||s&&y.matches(s))return;const b=RF(n);let x=IF(y,g,b),w=!1;const _=TF({maskInputOptions:l,tagName:g,type:b}),S=l$(n,h,f,p,m,_);"radio"!==b&&"checkbox"!==b||(w=n.checked),x=LF({isMasked:S,element:n,value:x,maskInputFn:c}),v(n,d?{text:x,isChecked:w,userTriggered:u}:{text:x,isChecked:w});const E=n.name;"radio"===b&&E&&w&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach((e=>{if(e!==n){const t=LF({isMasked:S,element:e,value:IF(e,g,b),maskInputFn:c});v(e,d?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}}))}function v(t,r){const i=oH.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){oH.set(t,r);const i=n.getId(t);Z$(e)({...r,id:i})}}const y=("last"===u.input?["change"]:["input","change"]).map((e=>h$(e,Z$(g),t))),b=t.defaultView;if(!b)return()=>{y.forEach((e=>e()))};const x=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return x&&x.set&&y.push(...w.map((e=>g$(e[0],e[1],{set(){Z$(g)({target:this,isTrusted:!1})}},!1,b)))),Z$((()=>{y.forEach((e=>e()))}))}function sH(e){return function(e,t){if(dH("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||dH("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||dH("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||dH("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function lH(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function cH({mirror:e,stylesheetManager:t},n){var r,i,o;let a=null;a="#document"===n.nodeName?e.getId(n):e.getId(n.host);const s="#document"===n.nodeName?null==(r=n.defaultView)?void 0:r.Document:null==(o=null==(i=n.ownerDocument)?void 0:i.defaultView)?void 0:o.ShadowRoot,l=(null==s?void 0:s.prototype)?Object.getOwnPropertyDescriptor(null==s?void 0:s.prototype,"adoptedStyleSheets"):void 0;return null!==a&&-1!==a&&s&&l?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var e;return null==(e=l.get)?void 0:e.call(this)},set(e){var n;const r=null==(n=l.set)?void 0:n.call(this,e);if(null!==a&&-1!==a)try{t.adoptStyleSheets(e,a)}catch(gG){}return r}}),Z$((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))):()=>{}}function uH(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=tH(e,e.doc));const i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let a,s=[];const l=m$(Z$((t=>{const n=Date.now()-a;e(s.map((e=>(e.timeOffset-=n,e))),t),s=[],a=null})),o),c=Z$(m$(Z$((e=>{const t=eH(e),{clientX:n,clientY:i}=M$(e)?e.changedTouches[0]:e;a||(a=y$()),s.push({x:n,y:i,id:r.getId(t),timeOffset:y$()-a}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?D$.Drag:e instanceof MouseEvent?D$.MouseMove:D$.TouchMove)})),i,{trailing:!1})),u=[h$("mousemove",c,n),h$("touchmove",c,n),h$("drag",c,n)];return Z$((()=>{u.forEach((e=>e()))}))}(e),o=nH(e),a=rH(e),s=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return h$("resize",Z$(m$(Z$((()=>{const t=x$(),i=w$();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i)})),200)),t)}(e,{win:n}),l=aH(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:a}){const s=Z$((a=>m$(Z$((o=>{const s=eH(o);if(!s||S$(s,t,n,r,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:d}=s;e({type:a,id:i.getId(s),currentTime:l,volume:c,muted:u,playbackRate:d})})),o.media||500))),l=[h$("play",s($$.Play),a),h$("pause",s($$.Pause),a),h$("seeked",s($$.Seeked),a),h$("volumechange",s($$.VolumeChange),a),h$("ratechange",s($$.RateChange),a)];return Z$((()=>{l.forEach((e=>e()))}))}(e);let u=()=>{},d=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Z$(((r,i,o)=>{const[a,s]=o,{id:l,styleId:c}=lH(i,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:a,index:s}]}),r.apply(i,o)}))});const o=r.CSSStyleSheet.prototype.deleteRule;let a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Z$(((r,i,o)=>{const[a]=o,{id:s,styleId:l}=lH(i,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,removes:[{index:a}]}),r.apply(i,o)}))}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Z$(((r,i,o)=>{const[a]=o,{id:s,styleId:l}=lH(i,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,replace:a}),r.apply(i,o)}))})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:Z$(((r,i,o)=>{const[a]=o,{id:s,styleId:l}=lH(i,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,replaceSync:a}),r.apply(i,o)}))}));const l={};hH("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(hH("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),hH("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),hH("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach((([r,i])=>{c[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(c[r].insertRule,{apply:Z$(((r,i,o)=>{const[a,s]=o,{id:l,styleId:c}=lH(i.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:a,index:[...sH(i),s||0]}]}),r.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(c[r].deleteRule,{apply:Z$(((r,i,o)=>{const[a]=o,{id:s,styleId:l}=lH(i.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||l&&-1!==l)&&e({id:s,styleId:l,removes:[{index:[...sH(i),a]}]}),r.apply(i,o)}))})})),Z$((()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),d=cH(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Z$(((i,a,s)=>{var l;const[c,u,d]=s;if(n.has(c))return o.apply(a,[c,u,d]);const{id:h,styleId:p}=lH(null==(l=a.parentRule)?void 0:l.parentStyleSheet,t,r.styleMirror);return(h&&-1!==h||p&&-1!==p)&&e({id:h,styleId:p,set:{property:c,value:u,priority:d},index:sH(a.parentRule)}),i.apply(a,s)}))});const a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:Z$(((i,o,s)=>{var l;const[c]=s;if(n.has(c))return a.apply(o,[c]);const{id:u,styleId:d}=lH(null==(l=o.parentRule)?void 0:l.parentStyleSheet,t,r.styleMirror);return(u&&-1!==u||d&&-1!==d)&&e({id:u,styleId:d,remove:{property:c},index:sH(o.parentRule)}),i.apply(o,s)}))}),Z$((()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=a}))}(e,{win:n}),e.collectFonts&&(p=function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=v$(t.fonts,"add",(function(t){return function(n){return j$(Z$((()=>{const t=i.get(n);t&&(e(t),i.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=o})),r.push(a),Z$((()=>{r.forEach((e=>e()))}))}(e)));const f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:a}=e;let s=!0;const l=Z$((()=>{const e=t.getSelection();if(!e||s&&(null==e?void 0:e.isCollapsed))return;s=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const a=e.getRangeAt(t),{startContainer:s,startOffset:c,endContainer:u,endOffset:d}=a;S$(s,r,i,o,!0)||S$(u,r,i,o,!0)||l.push({start:n.getId(s),startOffset:c,end:n.getId(u),endOffset:d})}a({ranges:l})}));return l(),h$("selectionchange",l)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?v$(n.customElements,"define",(function(e){return function(n,r,i){try{t({define:{name:n}})}catch(gG){}return e.apply(this,[n,r,i])}})):()=>{}}(e),g=[];for(const v of e.plugins)g.push(v.observer(v.callback,n,v.options));return Z$((()=>{Q$.forEach((e=>e.reset())),null==r||r.disconnect(),i(),o(),a(),s(),l(),c(),u(),d(),h(),p(),f(),m(),g.forEach((e=>e()))}))}function dH(e){return void 0!==window[e]}function hH(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class pH{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);let a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),o.set(a,t)),a}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const i=r.get(t);return i||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class fH{constructor(){this.crossOriginIframeMirror=new pH(UF),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class mH{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new pH(UF),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new pH(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(n=e.contentWindow)||n.addEventListener("message",this.handleMessage.bind(this))),null==(r=this.loadListener)||r.call(this,e);const i=H$(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case z$.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:z$.IncrementalSnapshot,data:{source:D$.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case z$.Meta:case z$.Load:case z$.DomContentLoaded:return!1;case z$.Plugin:return t;case z$.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case z$.IncrementalSnapshot:switch(t.data.source){case D$.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case D$.Drag:case D$.TouchMove:case D$.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case D$.ViewportResize:return!1;case D$.MediaInteraction:case D$.MouseInteraction:case D$.Scroll:case D$.CanvasMutation:case D$.Input:return this.replaceIds(t.data,e,["id"]),t;case D$.StyleSheetRule:case D$.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case D$.Font:return t;case D$.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case D$.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(n=t.data.styles)||n.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,n,r){for(const i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===_F.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class gH{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class vH{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!EF(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=tH({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(rH({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),j$((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(cH({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){const t=H$(e),n=function(e){try{return e.contentWindow}catch(gG){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(v$(e.prototype,"attachShadow",(function(e){return function(r){const i=e.call(this,r);return this.shadowRoot&&R$(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(gG){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var yH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bH="undefined"==typeof Uint8Array?[]:new Uint8Array(256),xH=0;xH<64;xH++)bH[yH.charCodeAt(xH)]=xH;class wH{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class _H{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new A$,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const i of e){let e;this.styleMirror.has(i)?e=this.styleMirror.getId(i):(e=this.styleMirror.add(i),r.push({styleId:e,rules:Array.from(i.rules||CSSRule,((e,t)=>({rule:MF(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class SH{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,function(...e){N$("requestAnimationFrame")(...e)}((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let EH,kH;try{if(2!==Array.from([1],(e=>2*e))[0]){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=(null==(e=t.contentWindow)?void 0:e.Array.from)||Array.from,document.body.removeChild(t)}}catch(vG){console.debug("Unable to override Array.from",vG)}const MH=new CF;function CH(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:v,maskAttributeFn:y,maskInputFn:b,maskTextFn:x,maxCanvasSize:w=null,packFn:_,sampling:S={},dataURLOptions:E={},mousemoveWait:k,recordDOM:M=!0,recordCanvas:C=!1,recordCrossOriginIframes:T=!1,recordAfter:L=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:O=!1,inlineImages:P=!1,plugins:R,keepIframeSrcFn:I=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:j,onMutation:z,getCanvasManager:D}=e;K$=j;const B=!T||window.parent===window;let F=!1;if(!B)try{window.parent.document&&(F=!1)}catch(gG){F=!0}if(B&&!t)throw new Error("emit function is required");if(!B&&!F)return()=>{};void 0!==k&&void 0===S.mousemove&&(S.mousemove=k),MH.reset();const $=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},H=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let U;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let V=0;const G=e=>{for(const t of R||[])t.eventProcessor&&(e=t.eventProcessor(e));return _&&!F&&(e=_(e)),e};EH=(e,i)=>{var o;const a=e;if(a.timestamp=y$(),!(null==(o=Q$[0])?void 0:o.isFrozen())||a.type===z$.FullSnapshot||a.type===z$.IncrementalSnapshot&&a.data.source===D$.Mutation||Q$.forEach((e=>e.unfreeze())),B)null==t||t(G(a),i);else if(F){const e={type:"rrweb",event:G(a),origin:window.location.origin,isCheckout:i};window.parent.postMessage(e,"*")}if(a.type===z$.FullSnapshot)U=a,V=0;else if(a.type===z$.IncrementalSnapshot){if(a.data.source===D$.Mutation&&a.data.isAttachIframe)return;V++;const e=r&&V>=r,t=n&&U&&a.timestamp-U.timestamp>n;(e||t)&&ee(!0)}};const W=e=>{EH({type:z$.IncrementalSnapshot,data:{source:D$.Mutation,...e}})},q=e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.Scroll,...e}}),X=e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.CanvasMutation,...e}}),Y=new _H({mutationCb:W,adoptedStyleSheetCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.AdoptedStyleSheet,...e}})}),J="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new fH:new mH({mirror:MH,mutationCb:W,stylesheetManager:Y,recordCrossOriginIframes:T,wrappedEmit:EH});for(const ne of R||[])ne.getMirror&&ne.getMirror({nodeMirror:MH,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const K=new SH,Z=function(e,t){try{return e?e(t):new wH}catch{return console.warn("Unable to initialize CanvasManager"),new wH}}(D,{mirror:MH,win:window,mutationCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.CanvasMutation,...e}}),recordCanvas:C,blockClass:i,blockSelector:o,unblockSelector:a,maxCanvasSize:w,sampling:S.canvas,dataURLOptions:E,errorHandler:j}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new gH:new vH({mutationCb:W,scrollCb:q,bypassOptions:{onMutation:z,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:$,dataURLOptions:E,maskAttributeFn:y,maskTextFn:x,maskInputFn:b,recordCanvas:C,inlineImages:P,sampling:S,slimDOMOptions:H,iframeManager:J,stylesheetManager:Y,canvasManager:Z,keepIframeSrcFn:I,processedNodeManager:K},mirror:MH}),ee=(e=!1)=>{if(!M)return;EH({type:z$.Meta,data:{href:window.location.href,width:w$(),height:x$()}},e),Y.reset(),Q.init(),Q$.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new CF,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:x,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:S,onStylesheetLoad:E,stylesheetLoadTimeout:k,keepIframeSrcFn:M=()=>!1}=t||{};return d$(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:s,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:b,inlineImages:h,recordCanvas:p,preserveWhiteSpace:x,onSerialize:w,onIframeLoad:_,iframeLoadTimeout:S,onStylesheetLoad:E,stylesheetLoadTimeout:k,keepIframeSrcFn:M,newlyAddedElement:!1})}(document,{mirror:MH,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskAllInputs:$,maskAttributeFn:y,maskInputFn:b,maskTextFn:x,slimDOM:H,dataURLOptions:E,recordCanvas:C,inlineImages:P,onSerialize:e=>{C$(e,MH)&&J.addIframe(e),T$(e,MH)&&Y.trackLinkElement(e),L$(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{J.attachIframe(e,t),e.contentWindow&&Z.addWindow(e.contentWindow),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:I});if(!t)return console.warn("Failed to snapshot the document");EH({type:z$.FullSnapshot,data:{node:t,initialOffset:b$(window)}}),Q$.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,MH.getId(document))};kH=ee;try{const e=[],t=e=>{var t;return Z$(uH)({onMutation:z,mutationCb:W,mousemoveCb:(e,t)=>EH({type:z$.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.MouseInteraction,...e}}),scrollCb:q,viewportResizeCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.ViewportResize,...e}}),inputCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.Input,...e}}),mediaInteractionCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.MediaInteraction,...e}}),styleSheetRuleCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.StyleSheetRule,...e}}),styleDeclarationCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.StyleDeclaration,...e}}),canvasMutationCb:X,fontCb:e=>EH({type:z$.IncrementalSnapshot,data:{source:D$.Font,...e}}),selectionCb:e=>{EH({type:z$.IncrementalSnapshot,data:{source:D$.Selection,...e}})},customElementCb:e=>{EH({type:z$.IncrementalSnapshot,data:{source:D$.CustomElement,...e}})},blockClass:i,ignoreClass:s,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:$,inlineStylesheet:f,sampling:S,recordDOM:M,recordCanvas:C,inlineImages:P,userTriggeredOnInput:A,collectFonts:O,doc:e,maskAttributeFn:y,maskInputFn:b,maskTextFn:x,keepIframeSrcFn:I,blockSelector:o,unblockSelector:a,slimDOMOptions:H,dataURLOptions:E,mirror:MH,iframeManager:J,stylesheetManager:Y,shadowDomManager:Q,processedNodeManager:K,canvasManager:Z,ignoreCSSAttributes:N,plugins:(null==(t=null==R?void 0:R.filter((e=>e.observer)))?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>EH({type:z$.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},{})};J.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}}));const n=()=>{ee(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(h$("DOMContentLoaded",(()=>{EH({type:z$.DomContentLoaded,data:{}}),"DOMContentLoaded"===L&&n()}))),e.push(h$("load",(()=>{EH({type:z$.Load,data:{}}),"load"===L&&n()}),window))),()=>{e.forEach((e=>e())),K.destroy(),kH=void 0,K$=void 0}}catch(te){console.warn(te)}}var TH,LH;CH.mirror=MH,CH.takeFullSnapshot=function(e){if(!kH)throw new Error("please take full snapshot after start recording");kH(e)},(LH=TH||(TH={}))[LH.NotStarted=0]="NotStarted",LH[LH.Running=1]="Running",LH[LH.Stopped=2]="Stopped";function AH(e){return e>9999999999?e:1e3*e}function OH(e){return e>9999999999?e/1e3:e}function PH(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:z$.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Vj(t,10,1e3)}}),"console"===t.category))))}function RH(e){return e.closest("button,a")||e}function IH(e){const t=NH(e);return t&&t instanceof Element?RH(t):t}function NH(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let jH;function zH(e){return jH||(jH=[],NN(pF,"open",(function(e){return function(...t){if(jH)try{jH.forEach((e=>e()))}catch(gG){}return e.apply(pF,t)}}))),jH.push(e),()=>{const t=jH?jH.indexOf(e):-1;t>-1&&jH.splice(t,1)}}const DH=new Set([D$.Mutation,D$.StyleSheetRule,D$.StyleDeclaration,D$.AdoptedStyleSheet,D$.CanvasMutation,D$.Selection,D$.MediaInteraction]);class BH{constructor(e,t,n=PH){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=zH((()=>{this._lastMutation=$H()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!FH.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:OH(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=OH(e)}registerScroll(e=Date.now()){this._lastScroll=OH(e)}registerClick(e){const t=RH(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=$H();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:a}=e;if(i){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",i={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:pF.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:o||1}};this._addBreadcrumbEvent(t,i)}else if(o>1){const e={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:pF.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=jB((()=>this._checkClicks()),1e3)}}const FH=["A","BUTTON","INPUT"];function $H(){return Date.now()/1e3}function HH(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(DH.has(n)&&e.registerMutation(t.timestamp),n===D$.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===D$.MouseInteraction}(t)){const{type:n,id:r}=t.data,i=CH.mirror.getNode(r);i instanceof HTMLElement&&n===B$.Click&&e.registerClick(i)}}catch{}}function UH(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var VH=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(VH||{});const GH=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function WH(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(GH.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const qH=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?IH(e.event):NH(e.event),n=TN(r,{maxStringLength:200})||"<unknown>"}catch(gG){n="<unknown>"}return{target:r,message:n}}(e);return UH({category:`ui.${e.name}`,...XH(t,n)})}(t);if(!n)return;const r="click"===t.name,i=r?t.event:void 0;var o,a,s;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||(o=e.clickDetector,a=n,s=IH(t.event),o.handleClick(a,s)),PH(e,n)};function XH(e,t){const n=CH.mirror.getId(e),r=n&&CH.mirror.getNode(n),i=r&&CH.mirror.getMeta(r),o=i&&function(e){return e.type===VH.Element}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((e=>e.type===VH.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:WH(o.attributes)}}:{}}}function YH(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!o)return null;const s=t||r||i,l=1===o.length;if(!s&&l)return null;const c=TN(a,{maxStringLength:200})||"<unknown>",u=XH(a,c);return UH({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}})}(t);n&&PH(e,n)}const JH={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:a,encodedBodySize:s,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:QH(o),end:QH(i),name:r,data:{size:c,statusCode:l,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:i}=e,o=QH(i);return{type:n,name:r,start:o,end:o+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:m}=e;if(0===i)return null;return{type:`${t}.${m}`,start:QH(p),end:QH(o),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:c,domContentLoadedEventStart:s,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:o,redirectCount:h}}}};function KH(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n))}}function ZH(e){const t=JH[e.entryType];return t?t(e):null}function QH(e){return((pN()||pF.performance.timeOrigin)+e)/1e3}function eU(e){const t=e.entries[e.entries.length-1];return oU(e,"largest-contentful-paint",(null==t?void 0:t.element)?[t.element]:void 0)}function tU(e){return void 0!==e.sources}function nU(e){const t=[],n=[];for(const r of e.entries)if(tU(r)){const e=[];for(const t of r.sources)if(t.node){n.push(t.node);const r=CH.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return oU(e,"cumulative-layout-shift",n,t)}function rU(e){const t=e.entries[e.entries.length-1];return oU(e,"first-input-delay",(null==t?void 0:t.target)?[t.target]:void 0)}function iU(e){const t=e.entries[e.entries.length-1];return oU(e,"interaction-to-next-paint",(null==t?void 0:t.target)?[t.target]:void 0)}function oU(e,t,n,r){const i=e.value,o=e.rating,a=QH(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:o,nodeIds:n?n.map((e=>CH.mirror.getId(e))):void 0,attributions:r}}}function aU(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(mB(e,n))})),r.push(function(e,t=!1){return wB("lcp",e,bB,pB,t)}(KH(eU,e)),function(e,t=!1){return wB("cls",e,vB,dB,t)}(KH(nU,e)),wB("fid",KH(rU,e),yB,hB),function(e){return wB("inp",e,xB,fB)}(KH(iU,e))),()=>{r.forEach((e=>e()))}}const sU="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const lU=["info","warn","error","log"],cU="[Replay] ";function uU(e,t="info"){Bz({category:"console",data:{logger:"replay"},level:t,message:`${cU}${e}`},{level:t})}const dU=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return sU?(lU.forEach((e=>{n[e]=(...n)=>{WI[e](cU,...n),t&&uU(n.join(""),Qz(e))}})),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),WI.error(cU,r),e?dz(r):t&&uU(r,"error")},n.infoTick=(...e)=>{WI.info(cU,...e),t&&setTimeout((()=>uU(e[0])),0)}):lU.forEach((e=>{n[e]=()=>{}})),n}();class hU extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class pU{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>yF)throw new hU;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?AH(e):null}}class fU{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){sU&&dU.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,i)=>{const o=({data:t})=>{const a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",o),!a.success)return sU&&dU.error("Error in compression worker: ",a.response),void i(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class mU{constructor(e){this._worker=new fU(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=AH(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>yF?Promise.reject(new hU):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{sU&&dU.exception(e,'Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class gU{constructor(e){this._fallback=new pU,this._compression=new mU(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(sU&&dU.exception(e,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const o of e)r.push(this._compression.addEvent(o));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(i){sU&&dU.exception(i,"Failed to add events when switching buffers.")}}}function vU({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;sU&&dU.info("Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new gU(n)}catch(t){sU&&dU.exception(t,"Failed to create compression worker")}}(t);if(e)return e}return sU&&dU.info("Using simple buffer"),new pU}function yU(){try{return"sessionStorage"in pF&&!!pF.sessionStorage}catch{return!1}}function bU(e){!function(){if(!yU())return;try{pF.sessionStorage.removeItem(fF)}catch{}}(),e.session=void 0}function xU(e){return void 0!==e&&Math.random()<e}function wU(e){const t=Date.now();return{id:e.id||VN(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function _U(e){if(yU())try{pF.sessionStorage.setItem(fF,JSON.stringify(e))}catch{}}function SU({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=function(e,t){return xU(e)?"session":!!t&&"buffer"}(e,t),o=wU({sampled:i,previousSessionId:r});return n&&_U(o),o}function EU(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function kU(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return EU(e.started,t,r)||EU(e.lastActivity,n,r)}function MU(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!kU(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function CU({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&function(){if(!yU())return null;try{const e=pF.sessionStorage.getItem(fF);if(!e)return null;const t=JSON.parse(e);return sU&&dU.infoTick("Loading existing session"),wU(t)}catch{return null}}();return i?MU(i,{sessionIdleExpire:e,maxReplayDuration:t})?(sU&&dU.infoTick("Session in sessionStorage is expired, creating new one..."),SU(r,{previousSessionId:i.id})):i:(sU&&dU.infoTick("Creating new session"),SU(r,{previousSessionId:n}))}function TU(e,t,n){return!!AU(e,t)&&(LU(e,t,n),!0)}async function LU(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i="buffer"===e.recordingMode;try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=function(e,t){try{if("function"==typeof t&&function(e){return e.type===z$.Custom}(e))return t(e)}catch(n){return sU&&dU.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!o)return;return await r.addEvent(o)}catch(o){const t=o&&o instanceof hU,n=t?"addEventSizeExceeded":"addEvent";if(t&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:n});const a=vj();a&&a.recordDroppedEvent("internal_sdk_error","replay")}}function AU(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=AH(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(sU&&dU.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function OU(e){return!e.type}function PU(e){return"transaction"===e.type}function RU(e){return"feedback"===e.type}function IU(e){return(t,n)=>{if(!e.isEnabled()||!OU(t)&&!PU(t))return;const r=null==n?void 0:n.statusCode;!r||r<200||r>=300||(PU(t)?function(e,t){var n,r;const i=e.getContext();(null==(r=null==(n=t.contexts)?void 0:n.trace)?void 0:r.trace_id)&&i.traceIds.size<100&&i.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;jB((async()=>{try{await e.sendBufferedReplayOrFlush()}catch(vG){e.handleException(vG)}}))}(e,t))}}function NU(e){return t=>{e.isEnabled()&&OU(t)&&function(e,t){var n,r,i;const o=null==(i=null==(r=null==(n=t.exception)?void 0:n.values)?void 0:r[0])?void 0:i.value;if("string"!=typeof o)return;if(o.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||o.match(/(does not match server-rendered HTML|Hydration failed because)/i)){PH(e,UH({category:"replay.hydrate-error",data:{url:AN()}}))}}(e,t)}}function jU(e){const t=vj();t&&t.on("beforeAddBreadcrumb",(t=>function(e,t){if(!e.isEnabled()||!zU(t))return;const n=function(e){if(!zU(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t;const n=null==(t=e.data)?void 0:t.arguments;if(!Array.isArray(n)||0===n.length)return UH(e);let r=!1;const i=n.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>vF?(r=!0,`${e.slice(0,vF)}…`):e;if("object"==typeof e)try{const t=Vj(e,7);return JSON.stringify(t).length>vF?(r=!0,`${JSON.stringify(t,null,2).slice(0,vF)}…`):t}catch{}return e}));return UH({...e,data:{...e.data,arguments:i,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return UH(e)}(t);n&&PH(e,n)}(e,t)))}function zU(e){return!!e.category}function DU(){const e=mj().getPropagationContext().dsc;e&&delete e.replay_id;const t=Nj();if(t){delete Bj(t).replay_id}}function BU(e){return Object.assign(((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!OU(t)&&!PU(t)&&!RU(t))return t;if(!e.checkAndHandleExpiredSession())return DU(),t;if(RU(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:z$.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){var n;return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!(null==(n=t.originalException)?void 0:n.__rrweb__))}(t,n)&&!e.getOptions()._experiments.captureExceptions)return sU&&dU.log("Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==mF&&!(!t.exception||t.type)&&xU(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t}),{id:"Replay"})}function FU(e,t){return t.map((({type:t,start:n,end:r,name:i,data:o})=>{const a=e.throttledAddEvent({type:z$.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof a?Promise.resolve(null):a}))}function $U(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(FU(e,[n]),!1))))}}function HU(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!sU||!e.getOptions()._experiments.traceInternals)&&Iz(t,vj())}(e,t.name)||e.addUpdate((()=>(FU(e,[t]),!0))))}function UU(e){if(!e)return;const t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=BB(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function VU(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function GU(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function WU(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:a,request:s,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:o,statusCode:a,request:s,response:l}}}function qU(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function XU(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>gF,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,gF);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}(n);return r.body=i,(null==o?void 0:o.length)&&(r._meta={warnings:o}),r}function YU(e,t){return Object.entries(e).reduce(((n,[r,i])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n}),{})}function JU(e,t){const n=function(e,t=pF.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(pF.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return IN(n,t)}async function KU(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:a,method:s,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=JU(a,n.networkDetailAllowUrls)&&!JU(a,n.networkDetailDenyUrls),h=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return QU(e[0],t);if(2===e.length)return QU(e[1],t);return{}}(n,t):{};if(!e)return XU(i,r,void 0);const o=$B(n),[a,s]=FB(o,dU),l=XU(i,r,a);if(s)return GU(l,s);return l}(n,t.input,c):qU(c),p=await async function(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&void 0!==i)return qU(i);const o=r?ZU(r.headers,n):{};if(!r||!t&&void 0!==i)return XU(o,i,void 0);const[a,s]=await async function(e){const t=function(e){try{return e.clone()}catch(t){sU&&dU.exception(t,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=jB((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(sU&&dU.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(sU&&dU.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(r),l=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const o=(null==e?void 0:e.length)&&void 0===n?UU(e):n;return r?XU(i,o,t?e:void 0):qU(o)}catch(o){return sU&&dU.exception(o,"Failed to serialize response body"),XU(i,n,void 0)}}(a,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});if(s)return GU(l,s);return l}(d,n,t.response,u);return{startTimestamp:i,endTimestamp:o,url:a,method:s,statusCode:l,request:h,response:p}}(e,t,n),i=WU("resource.fetch",r);HU(n.replay,i)}catch(r){sU&&dU.exception(r,"Failed to capture fetch breadcrumb")}}function ZU(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function QU(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?ZU(n,t):Array.isArray(n)?{}:YU(n,t):{}}async function eV(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:a,xhr:s}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!s||!JU(l,n.networkDetailAllowUrls)||JU(l,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:qU(d),response:qU(h)}}const p=s[zB],f=p?YU(p.request_headers,n.networkRequestHeaders):{},m=YU(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e}),{})}(s),n.networkResponseHeaders),[g,v]=n.networkCaptureBodies?FB(a,dU):[void 0],[y,b]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(gG){t.push(gG)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return sU&&dU.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return sU&&dU.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(gG){t.push(gG)}return sU&&dU.warn("Failed to get xhr response body",...t),[void 0]}(s):[void 0],x=XU(f,d,g),w=XU(m,h,y);return{startTimestamp:i,endTimestamp:o,url:l,method:c,statusCode:u,request:v?GU(x,v):x,response:b?GU(w,b):w}}(e,t,n),i=WU("resource.xhr",r);HU(n.replay,i)}catch(r){sU&&dU.exception(r,"Failed to capture xhr breadcrumb")}}function tV(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=UU(r),o=n.getResponseHeader("content-length")?VU(n.getResponseHeader("content-length")):function(e,t){try{return UU("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e)}catch{return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}function nV(e){const t=vj();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),s={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return null==e?void 0:e.xhr}(n)&&(tV(t,n),eV(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return null==e?void 0:e.response}(n)&&(!function(e,t){const{input:n,response:r}=t,i=UU(n?$B(n):void 0),o=r?VU(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}(t,n),KU(t,n,e))}catch(gG){sU&&dU.exception(gG,"Error when enriching network breadcrumb")}}(s,e,t)))}catch{}}function rV(e,{autoFlushOnFeedback:t}){const n=vj();TB(qH(e)),OB($U(e)),jU(e),nV(e);const r=BU(e);var i;i=r,gj().addEventProcessor(i),n&&(n.on("beforeSendEvent",NU(e)),n.on("afterSendEvent",IU(e)),n.on("createDsc",(t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}})),n.on("spanStart",(t=>{e.lastActiveSpan=t})),n.on("spanEnd",(t=>{e.lastActiveSpan=t})),n.on("beforeSendFeedback",(async(n,r)=>{var i;const o=e.getSessionId();(null==r?void 0:r.includeReplay)&&e.isEnabled()&&o&&(null==(i=n.contexts)?void 0:i.feedback)&&("api"===n.contexts.feedback.source&&t&&await e.flush(),n.contexts.feedback.replay_id=o)})),t&&n.on("openFeedbackWidget",(async()=>{await e.flush()})))}function iV(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}const oV=zI.navigator;function aV(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(sU&&dU.warn("Received replay event after session expired."));const i=r||!t;t=!0,e.clickDetector&&HH(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!TU(e,n,i))return!0;if(!i)return!1;const t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;TU(e,function(e){const t=e.getOptions();return{type:z$.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(sU&&dU.info(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&_U(t))}return(null==t?void 0:t.previousSessionId)||"session"===e.recordingMode&&e.flush(),!0}))}}async function sV({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){const a=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:l,traceIds:c,initialTimestamp:u}=r,d=vj(),h=mj(),p=null==d?void 0:d.getTransport(),f=null==d?void 0:d.getDsn();if(!(d&&p&&f&&o.sampled))return KN({});const m={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:s,replay_id:t,segment_id:n,replay_type:o.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,i);const o=await uz(e.getOptions(),r,i,t,e,gj());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:s,version:l}=(null==a?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:s||"sentry.javascript.unknown",version:l||"0.0.0"},o}({scope:h,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay"),sU&&dU.info("An event processor returned `null`, will not send event."),KN({});delete g.sdkProcessingMetadata;const v=function(e,t,n,r){return qj(nz(e,tz(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,a,f,d.getOptions().tunnel);let y;try{y=await p.send(v)}catch(vG){const t=new Error(mF);try{t.cause=vG}catch{}throw t}if("number"==typeof y.statusCode&&(y.statusCode<200||y.statusCode>=300))throw new lV(y.statusCode);const b=Rz({},y);if(Pz(b,"replay"))throw new cV(b);return y}class lV extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class cV extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function uV(e,t={count:0,interval:5e3}){const{recordingData:n,onError:r}=e;var i,o;if(n.length)try{return await sV(e),!0}catch(vG){if(vG instanceof lV||vG instanceof cV)throw vG;if(i="Replays",o={_retryCount:t.count},gj().setContext(i,o),r&&r(vG),t.count>=3){const e=new Error(`${mF} - max retries exceeded`);try{e.cause=vG}catch{}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{jB((async()=>{try{await uV(e,t),n(!0)}catch(i){r(i)}}),t.interval)}))}}const dV="__THROTTLED";function hV(e,t,n){const r=new Map;let i=!1;return(...o)=>{const a=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(a),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=i;return i=!0,e?"__SKIPPED":dV}i=!1;const s=r.get(a)||0;return r.set(a,s+1),e(...o)}}class pV{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,o;const a=(null==n?void 0:n.maxWait)?Math.max(n.maxWait,t):0;function s(){return l(),r=e(),r}function l(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function c(){return i&&clearTimeout(i),i=jB(s,t),a&&void 0===o&&(o=jB(s,a)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==o?s():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=hV(((e,t)=>function(e,t,n){return AU(e,t)?LU(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new BH(this,i)),sU){const t=e._experiments;dU.setConfig({captureExceptions:!!t.captureExceptions,traceInternals:!!t.traceInternals})}this._handleVisibilityChange=()=>{"visible"===pF.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const e=UH({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{const e=UH({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{YH(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){sU&&dU.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",sU&&dU.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):sU&&dU.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(sU&&dU.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(sU&&dU.info("Buffering is in progress, call `flush()` to save the replay"));sU&&dU.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=CU({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(sU&&dU.info("Buffering is in progress, call `flush()` to save the replay"));sU&&dU.infoTick("Starting replay in buffer mode");const e=CU({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=CH({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:aV(this),.../iPhone|iPad|iPod/i.test((null==oV?void 0:oV.userAgent)??"")||/Macintosh/i.test((null==oV?void 0:oV.userAgent)??"")&&(null==oV?void 0:oV.maxTouchPoints)&&(null==oV?void 0:oV.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(vG){this.handleException(vG)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(vG){return this.handleException(vG),!1}}async stop({forceFlush:e=!1,reason:t}={}){var n;if(this._isEnabled){this._isEnabled=!1;try{sU&&dU.info("Stopping Replay"+(t?` triggered by ${t}`:"")),DU(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),null==(n=this.eventBuffer)||n.destroy(),this.eventBuffer=null,bU(this)}catch(vG){this.handleException(vG)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),sU&&dU.info("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),sU&&dU.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();sU&&dU.info("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var e;return null==(e=this.session)?void 0:e.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&EU(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${pF.location.pathname}${pF.location.hash}${pF.location.search}`,t=`${pF.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===dV){const e=UH({category:"replay.throttled"});this.addUpdate((()=>!TU(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastActiveSpan||Nj(),t=e&&Ij(e),n=(t&&Pj(t).data||{})[bj];if(t&&n&&["route","custom"].includes(n))return Pj(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=vU({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=CU({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!MU(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{pF.document.addEventListener("visibilitychange",this._handleVisibilityChange),pF.addEventListener("blur",this._handleWindowBlur),pF.addEventListener("focus",this._handleWindowFocus),pF.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(rV(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(vG){this.handleException(vG)}this._performanceCleanupCallback=aU(this)}_removeListeners(){try{pF.document.removeEventListener("visibilitychange",this._handleVisibilityChange),pF.removeEventListener("blur",this._handleWindowBlur),pF.removeEventListener("focus",this._handleWindowFocus),pF.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(vG){this.handleException(vG)}}_doChangeToBackgroundTasks(e){if(!this.session)return;kU(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):sU&&dU.info("Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:z$.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(ZH).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter((e=>e.start>=t))}return Promise.all(FU(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){var e;const t=this.getSessionId();if(this.session&&this.eventBuffer&&t){if(await this._addPerformanceEntries(),(null==(e=this.eventBuffer)?void 0:e.hasEvents)&&(await async function(e){try{return Promise.all(FU(e,[iV(pF.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const e=Date.now();if(e-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await uV({replayId:t,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:e,onError:e=>this.handleException(e)})}catch(vG){this.handleException(vG),this.stop({reason:"sendReplay"});const t=vj();if(t){const n=vG instanceof cV?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else sU&&dU.error("No session or eventBuffer found to flush.")}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(sU&&dU.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return sU&&dU.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const o=this.eventBuffer;o&&0===this.session.segmentId&&!o.hasCheckout&&sU&&dU.info("Flushing initial segment without checkout.");const a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(vG){this.handleException(vG)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&_U(this.session)}_onMutationHandler(e){const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=UH({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function fV(e,t){return[...e,...t].join(",")}const mV='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',gV=["content-length","content-type","accept"];let vV=!1;class yV{constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:s={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:u=!0,mutationBreadcrumbLimit:d=750,mutationLimit:h=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:v=!0,networkRequestHeaders:y=[],networkResponseHeaders:b=[],mask:x=[],maskAttributes:w=["title","placeholder"],unmask:_=[],block:S=[],unblock:E=[],ignore:k=[],maskFn:M,beforeAddRecordingEvent:C,beforeErrorSampling:T,onError:L}={}){this.name="Replay";const A=function({mask:e,unmask:t,block:n,unblock:r,ignore:i}){return{maskTextSelector:fV(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:fV(t,[]),blockSelector:fV(n,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:fV(r,[]),ignoreSelector:fV(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:x,unmask:_,block:S,unblock:E,ignore:k});if(this._recordingOptions={maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:w,maskAllText:l,privacyOptions:A,key:e,value:t,el:n}),...A,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(t){}},recordCrossOriginIframes:Boolean(s.recordCrossOriginIframes)},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,bF),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:u,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:h,slowClickTimeout:p,slowClickIgnoreSelectors:f,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:v,networkRequestHeaders:bV(y),networkResponseHeaders:bV(b),beforeAddRecordingEvent:C,beforeErrorSampling:T,onError:L,_experiments:s},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${mV}`:mV),this._isInitialized&&pD())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return vV}set _isInitialized(e){vV=e}afterAllSetup(e){pD()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var e;if(null==(e=this._replay)?void 0:e.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var e;if(null==(e=this._replay)?void 0:e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...HN(e)},i=Sj(n.replaysSessionSampleRate),o=Sj(n.replaysOnErrorSampleRate);null==i&&null==o&&GI((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));null!=i&&(r.sessionSampleRate=i);null!=o&&(r.errorSampleRate=o);return r}(this._initialOptions,e);this._replay=new pV({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}}function bV(e){return[...gV,...e.map((e=>e.toLowerCase()))]}const xV=ey.div.attrs({className:"tgg-phone-container"})``,wV=()=>{const e=cl.useRef(!1),t=vu((e=>e.phoneIdentifiers)),n=vu((e=>e.chooseOsVisible)),r=vu((e=>e.playSound)),i=vu((e=>e.resizeBy)),[o,a]=cl.useState([]),s=e=>{Gp("toggle-NuiFocusKeepInput",e,{})},l=e=>{e.forEach((e=>{if(o.includes(e))return console.log("already added handler for",e);e.addEventListener("blur",(()=>s(!0))),e.addEventListener("focus",(()=>s(!1)));document.activeElement===e&&s(!1),a((t=>[...t,e]))}))};return cl.useEffect((()=>{if(pp()){Cp([{action:"main:set-device-data",data:{device:Iw}}],0)}Gp("main:wake-up",null,{});const e=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof Element&&(e.childNodes.length>0&&l(e.querySelectorAll("input, textarea")),"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName||l([e]))}))}))}));return e.observe(document.body,{childList:!0,subtree:!0}),()=>{e.disconnect()}}),[]),cl.useEffect((()=>{pz("ui-version","1.0.2"),pz("phone-imei",(null==t?void 0:t.imei)??"unknown"),pz("phone-number",(null==t?void 0:t.number)??"unknown"),pz("citizen-id",(null==t?void 0:t.currentOwnerCitizenId)??"unknown"),e.current||(Gp("utils:get-info",null,{endpoint:"https://api.thegtaplace.com",serverVersion:"1.0.0",framework:"React",itemInfo:{name:"phone",inventory:"qb-inventory",require:!0,unique:!0}}).then((e=>{e&&(pz("server-version",(null==e?void 0:e.serverVersion)??"unknown"),pz("framework",(null==e?void 0:e.framework)??"unknown"),pz("server-ip",(null==e?void 0:e.endpoint)??"unknown"),pz("inventory",(null==e?void 0:e.itemInfo.inventory)??"unknown"),pz("require",(null==e?void 0:e.itemInfo.require)??"unknown"),pz("unique",(null==e?void 0:e.itemInfo.unique)??"unknown"))})),e.current=!0)}),[t]),el.jsxs(xV,{$resizeBy:i,children:[r&&el.jsx(UO,{}),el.jsx(Gf,{}),el.jsx(vO,{}),el.jsx(iP,{children:n?el.jsx(el.Fragment,{}):el.jsxs(el.Fragment,{children:[t.os===VO.Blackpear?el.jsx(bO,{}):el.jsx(el.Fragment,{}),t.os===VO.Aikon?el.jsx(NI,{height:mp(727,i),width:mp(300,i)}):el.jsx(el.Fragment,{})]})})]})};var _V=(e=>(e[e.None=0]="None",e[e.Popup=1]="Popup",e[e.Header=2]="Header",e[e.FlexOasisL=3]="FlexOasisL",e[e.PopupLarge=4]="PopupLarge",e[e.Fullscreen=5]="Fullscreen",e[e.HeaderDrop=6]="HeaderDrop",e[e.BackScreen=7]="BackScreen",e[e.FlexOasisS=8]="FlexOasisS",e))(_V||{});function SV(e){var t;if(e.app===Wp.Messages)return(null==(t=e.data)?void 0:t.channelId)?`${e.app}-${e.data.channelId}`:void 0}const EV={chooseOsVisible:!1,isOpen:!1,isSoftOpen:!1,resizeBy:1,playSound:!1,soundData:{type:bp.None,loop:!1},headerHeight:0,clock:{hour:"00",minute:"00"},contrastColor:"var(--tgg-text-color-primary)",phoneLoading:!1,currentApp:Wp.Home,hasOpenApp:$c((e=>e.currentApp!==Wp.Home)),savedIndexes:{},setSavedIndexes:Bc(((e,t)=>{e.savedIndexes=t})),maxTabRows:-1,setMaxTabRows:Bc(((e,t)=>{e.maxTabRows=t})),currentZone:xb.HomeScreen,setCurrentZone:Bc(((e,t)=>{e.currentZone=t})),currentFocus:$c((e=>e.focusableZones[e.currentZone])),focusableZones:{[xb.HomeScreen]:0,[xb.PhoneAppLanding]:0,[xb.PhoneCallsCurrent]:0,[xb.ContactsLanding]:0,[xb.MessagesLanding]:0,[xb.SettingsLanding]:0},setFocusableZones:Bc(((e,t)=>{e.focusableZones=t})),apps:["phone","messages","contacts","calculator","camera","gallery","settings","snake"],settings:{},isFocused:!1,setIsFocused:Bc(((e,t)=>{e.isFocused=t})),imgPreview:"",setImgPreview:Bc(((e,t)=>{e.imgPreview=t})),security:{isLocked:!0,isOnLockScreen:!0,isOnLockScreenWithPin:!1},setIsLocked:Bc(((e,t)=>{e.security.isLocked=t})),setSecurity:Bc(((e,t)=>{e.security=t})),contacts:[],setContacts:Bc(((e,t)=>{e.contacts=t})),settingsConfig:{},setSettingsConfig:Bc(((e,t)=>{e.settingsConfig=t})),setSettingsRingtone:Bc(((e,t)=>{e.settings.ringtone=t})),setSettingsNotification:Bc(((e,t)=>{e.settings.notification=t})),signal:{strengthIcon:"",available:!0,strength:100},setSignal:Bc(((e,t)=>{e.signal={...e.signal,...t},e.signal=t})),footerActions:{left:"",center:"",right:""},setFooterActions:Bc(((e,t)=>{e.footerActions=t})),callAppearance:_V.None,setCallAppearance:Bc(((e,t)=>{e.callAppearance=t})),callDuration:0,setCallDuration:Bc(((e,t)=>{e.callDuration=t})),setSoundData:Bc(((e,t)=>{e.soundData=t})),isCompanyCall:!1,setIsCompanyCall:Bc(((e,t)=>{e.isCompanyCall=t})),companyCallTimeout:"",setCompanyCallTimeout:Bc(((e,t)=>{e.companyCallTimeout=t})),phoneIdentifiers:{},phoneData:{callType:vp.None,callData:{TargetData:{number:"000"}},targetNumber:"000"},setPhoneDataCallType:Bc(((e,t)=>{e.phoneData.callType=t})),setPhoneDataCallData:Bc(((e,t)=>{e.phoneData.callData=t})),setPhoneDataTargetNumber:Bc(((e,t)=>{e.phoneData.targetNumber=t})),contactIsBusy:!1,setContactIsBusy:Bc(((e,t)=>{e.contactIsBusy=t})),wasPlaying:!1,setWasPlaying:Bc(((e,t)=>{e.wasPlaying=t})),isPlaying:!1,setIsPlaying:Bc(((e,t)=>{e.isPlaying=t})),optionsModal:{status:!1},setOptionsModal:Bc(((e,t)=>{e.optionsModal=t})),setPhoneIdentifiers:Bc(((e,t)=>{e.phoneIdentifiers=t})),setChooseOsVisible:Bc(((e,t)=>{e.chooseOsVisible=t})),setIsOpen:Bc(((e,t)=>{e.isOpen=t})),setIsSoftOpen:Bc(((e,t)=>{e.isSoftOpen=t})),setResizeBy:Bc(((e,t)=>{e.resizeBy=t})),setPlaySound:Bc(((e,t)=>{e.playSound=t})),setHeaderHeight:Bc(((e,t)=>{e.headerHeight=t})),setClock:Bc(((e,t)=>{e.clock=t})),setContrastColor:Bc(((e,t)=>{e.contrastColor=t})),setPhoneLoading:Bc(((e,t)=>{e.phoneLoading=t})),setCurrentApp:Bc(((e,t)=>{e.currentApp=t})),setApps:Bc(((e,t)=>{e.apps=t})),setSettings:Bc(((e,t)=>{e.settings=t})),getWallpaper:$c((e=>e.settings.homescreenWallpaper)),preShowNotification:!1,setPreShowNotification:Bc(((e,t)=>{e.preShowNotification=t})),showingNotificationId:"",setShowingNotificationId:Bc(((e,t)=>{e.showingNotificationId=t})),newNotification:!1,setNewNotification:Bc(((e,t)=>{e.newNotification=t})),previousNotifications:[],setPreviousNotifications:Bc(((e,t)=>{e.previousNotifications=t})),stackedNotifications:{},setStackedNotifications:Bc(((e,t)=>{e.stackedNotifications=t})),newNotifications:[],pushNewNotification:Bc(((e,t)=>{e.newNotifications.push(t)})),popLastNotification:Bc(((e,t)=>{const n=e.newNotifications.shift();n&&!t&&((e,t)=>{if(!t)return;e.previousNotifications.length>100&&(e.previousNotifications=[]);const n={...t,read:!1,timestampReceived:t.timestampReceived?gp(t.timestampReceived):dp().unix()},r=SV(n);if(r){const t=[];e.previousNotifications=e.previousNotifications.filter((e=>{const n=SV(e);return n===r&&e.id&&t.push(e.id),n!==r})),t.length&&Cp({action:"ui:notifications:bulk-remove",data:t,internal:!0})}e.previousNotifications.unshift(n),e.previousNotifications.sort(((e,t)=>(t.timestampReceived??0)-(e.timestampReceived??0)));const i=e.previousNotifications.reduce(((e,t)=>(e[t.app]||(e[t.app]=[]),e[t.app].push(t),e)),{});e.stackedNotifications=i})(e,n)})),setNewNotifications:Bc(((e,t)=>{e.newNotifications=t})),uploadConfig:!1,setUploadConfig:Bc(((e,t)=>{e.uploadConfig=t}))},kV=function(e,t){void 0===t&&(t={});var n=Uc(e),r=t,i=r.compose,o=r.devTools,a=void 0!==o&&o,s=r.disableImmer,l=void 0!==s&&s,c=r.enhancers,u=void 0===c?[]:c,d=r.initialState,h=void 0===d?void 0:d,p=r.injections,f=void 0===p?{}:p,m=r.middleware,g=void 0===m?[]:m,v=r.mockActions,y=void 0!==v&&v,b=r.name,x=void 0===b?"EasyPeasyStore":b,w=r.version,_=void 0===w?0:w,S=r.reducerEnhancer,E=void 0===S?function(e){return e}:S,k=function(e){return gl(gl({},e),{},{ePRS:Bc((function(e,t){return t}))})},M={},C=k(n),T=[],L=function(e){return"["+x+"]["+_+"]"+(e.length>0?"["+e.join(".")+"]":"")},A=ou(L,M),O=function(e,t){return function(n){var r=n.getState;return function(n){return function(i){var o=n(i);return i&&"@action.ePRS"!==i.type&&t._i._persistenceConfig.length>0&&e.persist(r()),o}}}}(A,M),P=function(e){return M._i._aCD["@action.ePRS"](e)},R=function(e){void 0===e&&(e={});var t=pu(C,e,f,M);M._i=gl(gl({},t),{},{reducer:E(Zc(l,t._aRD,t._cR,t._cP))})},I=!0===a?{}:a,N=i||(a&&"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(gl({name:x},I)):_l);R(h||{});var j=[cu(M)].concat(g,[kl,su(M),uu(M),O]);y&&j.push((function(){return function(){return function(e){null!=e&&T.push(e)}}}));var z,D,B,F=(z=M._i.reducer,D=M._i._dS,B=N.apply(void 0,[Sl.apply(void 0,j)].concat(u)),wl(z,D,B));F.subscribe((function(){M._i._cS.isInReducer=!1})),M.dispatch=F.dispatch,M.getState=F.getState;var $=function(){Object.keys(F.dispatch).forEach((function(e){delete F.dispatch[e]})),Object.keys(M._i._aC).forEach((function(e){F.dispatch[e]=M._i._aC[e]}))};$();var H=function(e){var t=F.getState();e&&delete t[e],R(t),F.replaceReducer(M._i.reducer),P(M._i._dS),$()},U=au(L,P,M);return Object.assign(F,{addModel:function(e,t){C[e],C[e]=t,H();var n=au(L,P,M,e);return{resolveRehydration:function(){return n}}},clearMockedActions:function(){T=[]},getActions:function(){return M._i._aC},getListeners:function(){return M._i._lAC},getMockedActions:function(){return[].concat(T)},persist:{clear:A.clear,flush:A.flush,resolveRehydration:function(){return U}},reconfigure:function(e){C=k(e),H()},removeModel:function(e){C[e]&&(delete C[e],H(e))}})}((MV=EV,CV={storage:"sessionStorage"},"undefined"==typeof window?MV:gl(gl({},MV),{},((TV={}).$_p=CV,TV))),{name:"yboomer-store"});var MV,CV,TV,LV;Cp([{action:"boomer:set-visible",data:{visible:pp(),softOpen:!1}}],1e3),pp()||function(e={}){const t=function(e={}){var t;return{defaultIntegrations:[Gz(),Hz(),tF(),QB(),sF(),dF(),eD(),uF(),aF()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:null==(t=fD.SENTRY_RELEASE)?void 0:t.id,sendClientReports:!0,...hF(e)}}(e);if(!t.skipBrowserExtensionCheck&&function(){var e;const t=void 0!==fD.window&&fD;if(!t)return!1;const n=t[t.chrome?"chrome":"browser"],r=null==(e=null==n?void 0:n.runtime)?void 0:e.id,i=AN()||"",o=!!r&&fD===fD.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>i.startsWith(`${e}//`))),a=void 0!==t.nw;return!!r&&!o&&!a}())return void(KB&&GI((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")})));KB&&!sD()&&WI.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const n={...t,stackParser:(r=t.stackParser||YB,Array.isArray(r)?JI(...r):r),integrations:xz(t),transport:t.transport||HB};var r;Az(LD,n)}({dsn:"https://e27eaf421b26376e457bb137064d17d8@o4508960990167040.ingest.de.sentry.io/4508998064144464",integrations:[new yV(LV)],tracesSampleRate:1,replaysSessionSampleRate:0,replaysOnErrorSampleRate:.25});const AV=()=>{const e=fu;return cl.useEffect((()=>{const e=new Rw;e.initialize(),window.cameraRender=e}),[]),el.jsx(e,{store:kV,children:el.jsx(Mw,{children:el.jsx(wV,{})})})},OV=ey.div.attrs({className:"tgg-number-input"})`
	height: calc(100% - ${e=>e.$resizeBy}px);

	.tgg-number-input-container {
		width: 100%;
		height: 100%;
		background-color: var(--tgg-highlight-color);
		justify-content: flex-end;
		align-items: flex-end;
		font-size: 32px;
		color: var(--tgg-text-color-primary);
		display: flex;
		flex-wrap: wrap;
		padding: 4px 8px;
		word-break: break-all;
		overflow-wrap: break-word;
		white-space: normal;
		border: none;
		outline: none;
		padding-top: 80%;
	}
`,PV=Wy;function RV(){const{number:e}=Oh(),[t,n]=cl.useState(e||""),[r,i]=cl.useState(!1),o=gu((e=>e.setFooterActions)),a=Lh(),{goBackTo:s}=Ch().state||{},[l,c]=cl.useState(0),u=vu((e=>e.footerActions)),d=vu((e=>e.phoneData)),h=vu((e=>e.security.isLocked)),p=vu((e=>e.phoneIdentifiers)),f=vu((e=>e.signal)),m=vu((e=>e.isFocused)),{t:g}=Up(),v=vu((e=>e.optionsModal)),y=gu((e=>e.setOptionsModal));cl.useEffect((()=>{o(""!==t?{left:Yf.Options,center:Yf.Call,right:Yf.Clear}:{left:"",center:"",right:Yf.Back})}),[t]),cl.useEffect((()=>()=>{y({status:!1,modal:Yy.PhoneOptions,data:{}})}),[]);const b=cl.useCallback((()=>{h||Hf(d)||y({status:!0,modal:Yy.PhoneOptions,data:{number:t,disableOptions:[nb.delete,nb.block]}})}),[d.callType,qp,t,d,y,h]),x=cl.useCallback((e=>{if(!h){if("Backspace"===e.key){if(v.status)return;if(Vf(d))return;n((t=>{""!==t||r||a(s||-1);const n=t.slice(0,-1);return"Backspace"===e.key&&i(!0),n}))}if("Shift"===e.key){if(Hf(d))return;b()}d.callType===vp.None&&e.key>="0"&&e.key<="9"&&n((t=>t.length>=PV?t:t+e.key))}}),[v,r,a,s,d.callType,u.right,u.left,b,h]),w=cl.useCallback((e=>{h||"Backspace"===e.key&&i(!1)}),[h]);cl.useEffect((()=>(window.addEventListener("keydown",x),window.addEventListener("keyup",w),()=>{window.removeEventListener("keydown",x),window.removeEventListener("keyup",w)})),[x,w]);const _=()=>{p.number&&f.available?Cp({action:"ui:phone:call",internal:!0,data:{number:t,isCompany:!1,anonymous:!1}}):Jy(g("general.emergencyCallsOnly"))},S=cl.useCallback((e=>{h||Uf(d)||"Enter"===e.key&&_()}),[t,a,s,d.callType,u.right,u.left,h]);cl.useEffect((()=>{if(!h&&!v.status)return window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}}),[S,v.status,h]),yp("keyboard:enter",(()=>{h||Uf(d)||_()})),yp("keyboard:backspace",(()=>{h||Vf(d)||n((e=>e.slice(0,-1)))})),yp("keyboard:opt",b);for(let E=0;E<=9;E++)yp(`keyboard:${E}`,(()=>{h||n((e=>e.length>=PV?e:e+E))}));return yp("keyboard:green",(()=>{h||(p.number&&f.available?Cp({action:"ui:phone:call",internal:!0,data:{number:t}}):Jy(g("general.emergencyCallsOnly")))})),cl.useEffect((()=>{const e=setInterval((()=>{const e=document.querySelector(".tgg-number-input-container");e&&e.focus()}),300);return d.callType===vp.None&&m||clearInterval(e),()=>{clearInterval(e)}}),[d,m]),el.jsxs(OV,{$resizeBy:l,children:[el.jsx("input",{className:"tgg-number-input-container",value:t}),el.jsx(iy,{_setHeight:c})]})}const IV=ey.div.attrs({className:"tgg-notifications-app"})`
	.tgg-notification-item {
		padding: 8px;

		:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-notification-item-sub-text {
		color: var(--tgg-text-color-secondary);
		font-size: 0.8rem;
	}

	.tgg-notification-empty {
		color: var(--tgg-text-color-primary);
		text-align: center;
	}
`,NV=()=>{const e=vu((e=>e.resizeBy)),{t:t}=Up(),n=Lh(),r=vu((e=>e.previousNotifications)),i=gu((e=>e.setPreviousNotifications)),o=gu((e=>e.setFooterActions));const{currentFocus:a}=Wf({maxFocus:r.length,selector:".tgg-notification-item",disableLeftRight:!0,backspaceHandler:()=>{n(`${Xp}`)},enterHandler:()=>{const e=r[a-1];if(e){const t=r.filter((t=>t.id!==e.id));i(t),function(e){"phone"===e.app&&"missed-call"===e.data.type?n(`${qp}/phone/missed`):"messages"===e.app?n(`${qp}/messages/chat/${e.data.channelId}`,{state:{participants:[e.data.sender],conversationData:{channelId:e.data.channelId,content:e.text,groupMembers:[e.data.sender],isGroup:!1,isOwner:1,lastMessageTimestamp:Date.now()}}}):n(`${Xp}`)}(e)}},shiftHandler:()=>{i([])}});return cl.useEffect((()=>{r.length>0?o({left:Yf.ClearAll,center:Yf.Read,right:Yf.Back}):o({left:"",center:"",right:Yf.Exit})}),[r]),yp("keyboard:opt",(()=>{n(`${Xp}`)})),yp("keyboard:shift",(()=>{n(`${Xp}`)})),el.jsx(IV,{$resizeBy:e,children:el.jsx(ly,{title:t("apps.notifications.title"),children:r.length>0?r.map(((e,n)=>el.jsxs("div",{className:"tgg-notification-item",tabIndex:n,style:{backgroundColor:a===n+1?"var(--tgg-highlight-color)":"transparent"},children:[el.jsx("h1",{style:{color:"var(--tgg-text-color-primary)"},children:e.title}),el.jsx("h4",{className:"tgg-notification-item-sub-text",children:e.data.senderUsername||t("call.unknownCaller")}),el.jsx("p",{className:"tgg-notification-item-sub-text",children:e.text})]},e.id))):el.jsx("div",{className:"tgg-notification-empty",children:el.jsx("h1",{children:t("apps.notifications.noNotifications")})})})})};var jV=(e=>(e.Phone="phone",e.Sound="sound",e.Display="display",e.Security="security",e.Sim="sim",e.About="about",e))(jV||{});const zV=ey.div.attrs({className:"tgg-settings-app"})`
	position: relative;

	display: flex;
	flex-direction: column;
	align-items: space-between;

	height: 100%;

	color: var(--tgg-text-color-primary);

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		scroll-snap-align: start;

		display: flex;

		gap: calc(0.5rem * ${e=>e.$resizeBy});

		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});

		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-row-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}
`,DV=()=>{const e=vu((e=>e.resizeBy));return el.jsx(zV,{$resizeBy:e,children:el.jsx($h,{})})};function BV(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Stream_Off"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M4.911,4.206c-.45-.45-1.16.26-.71.71l.32.32v.01A10.646,10.646,0,0,0,5.541,19.8c.48.43,1.19-.28.71-.71a9.623,9.623,0,0,1-1.01-13.13l2.27,2.27a6.022,6.022,0,0,0,.61,8.18c.48.44,1.19-.27.71-.7a5.024,5.024,0,0,1-.61-6.77l2.61,2.61a1.13,1.13,0,0,0-.09.45,1.248,1.248,0,0,0,1.25,1.24,1.13,1.13,0,0,0,.45-.09l4.77,4.77.86.86a3.024,3.024,0,0,1-.31.31.355.355,0,0,0-.11.16.406.406,0,0,0-.04.19.381.381,0,0,0,.04.19.386.386,0,0,0,.11.17.5.5,0,0,0,.35.14.585.585,0,0,0,.13-.02.432.432,0,0,0,.22-.12c.11-.1.22-.2.32-.3.1.09.19.19.29.29.45.45,1.16-.26.71-.71Z"},child:[]},{tag:"path",attr:{d:"M17.73,4.908a9.624,9.624,0,0,1,2.3,11.1c-.265.582.6,1.09.864.505A10.647,10.647,0,0,0,18.438,4.2c-.475-.433-1.185.272-.708.707Z"},child:[]},{tag:"path",attr:{d:"M15.15,8.291a5.016,5.016,0,0,1,1.6,4.572.515.515,0,0,0,.349.615.5.5,0,0,0,.615-.349,6.042,6.042,0,0,0-1.852-5.546c-.476-.431-1.185.274-.708.708Z"},child:[]}]}]}]})(e)}function FV(e){return om({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Stream_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M6.26,19.089A9.625,9.625,0,0,1,6.234,4.911C6.709,4.475,6,3.769,5.527,4.2A10.516,10.516,0,0,0,5.553,19.8c.475.433,1.184-.273.707-.707Z"},child:[]},{tag:"path",attr:{d:"M8.84,15.706a5.024,5.024,0,0,1-.014-7.412c.474-.437-.234-1.143-.707-.707a6.028,6.028,0,0,0,.014,8.826c.474.434,1.183-.272.707-.707Z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.244"},child:[]},{tag:"path",attr:{d:"M17.74,4.911a9.625,9.625,0,0,1,.026,14.178c-.475.436.234,1.142.707.707A10.516,10.516,0,0,0,18.447,4.2c-.475-.433-1.184.273-.707.707Z"},child:[]},{tag:"path",attr:{d:"M15.16,8.294a5.024,5.024,0,0,1,.014,7.412c-.474.437.234,1.143.707.707a6.028,6.028,0,0,0-.014-8.826c-.474-.434-1.183.272-.707.707Z"},child:[]}]}]}]})(e)}const $V=ey.div.attrs({className:"tgg-phone-settings-app"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}
`,HV=()=>{var e;const t=Lh(),{t:n}=Up(),r=vu((e=>e.resizeBy));vu((e=>e.phoneIdentifiers));const i=vu((e=>e.settings)),o=vu((e=>e.signal)),a=gu((e=>e.setSettings)),s=gu((e=>e.setOptionsModal)),l=gu((e=>e.setSignal)),c=vu((e=>e.settingsConfig)),u=gu((e=>e.setFooterActions));cl.useEffect((()=>{u({left:"",center:Yf.Select,right:Yf.Exit})}),[]);const d=[{icon:null,title:n("apps.phoneSettings.streamerMode"),onClick:()=>{a({...i,streamerMode:!i.streamerMode}),Gp("settings:update-streamer-mode",!i.streamerMode,!0)},children:el.jsx(Qx,{icon:el.jsx(el.Fragment,{children:i.streamerMode?el.jsx(FV,{size:18*r}):el.jsx(BV,{size:18*r})}),title:n("apps.phoneSettings.streamerMode"),bottomText:i.streamerMode?n("apps.phoneSettings.streamerModeOn"):n("apps.phoneSettings.streamerModeOff")})},{icon:null,title:n("apps.phoneSettings.airplaneMode"),onClick:()=>{a({...i,airplane:!i.airplane}),Gp("settings:update-airplane-mode",!i.airplane,!0),i.airplane?l({...o,available:!0,strength:100}):l({...o,available:!1,strength:0})},children:el.jsx(Qx,{icon:el.jsx(el.Fragment,{children:i.airplane?el.jsx(dm,{size:18*r}):el.jsx(hm,{size:18*r})}),title:n("apps.phoneSettings.airplaneMode"),bottomText:i.airplane?n("apps.phoneSettings.airplaneModeOn"):n("apps.phoneSettings.airplaneModeOff")})},{icon:null,title:n("apps.phoneSettings.notifications"),onClick:()=>{a({...i,doNotDisturb:!i.doNotDisturb}),Gp("settings:update-notifications",!i.doNotDisturb,!0)},children:el.jsx(Qx,{icon:el.jsx(el.Fragment,{children:i.doNotDisturb?el.jsx(yy,{size:18*r}):el.jsx(vy,{size:18*r})}),title:n("apps.phoneSettings.notifications"),bottomText:i.doNotDisturb?n("apps.phoneSettings.notificationsOn"):n("apps.phoneSettings.notificationsOff")})},{icon:null,title:n("apps.phoneSettings.hideCallerId"),onClick:()=>{a({...i,hideCallerId:!i.hideCallerId}),Gp("settings:update-hide-caller-id",!i.hideCallerId,!0)},children:el.jsx(Qx,{icon:el.jsx(el.Fragment,{children:i.hideCallerId?el.jsx(Ly,{size:18*r}):el.jsx(mm,{size:18*r})}),title:n("apps.phoneSettings.hideCallerId"),bottomText:i.hideCallerId?n("apps.phoneSettings.hideCallerIdOn"):n("apps.phoneSettings.hideCallerIdOff")})},{icon:null,title:n("apps.phoneSettings.language"),onClick:()=>{s({status:!0,modal:Yy.SettingsOptions,data:{options:c.languages.map((e=>e.label)),callback:e=>{const t=c.languages.find((t=>t.label===e));t&&(a({...i,language:t.value}),Gp("settings:update-language",t.value,!0))}}})},children:el.jsx(Qx,{icon:el.jsx(lm,{size:18*r}),title:n("apps.phoneSettings.language"),bottomText:(null==(e=c.languages.find((e=>e.value===i.language)))?void 0:e.label)||i.language})}],{currentFocus:h}=Wf({selector:".tgg-row-section",maxFocus:d.length,backspaceHandler:()=>{t(`${qp}/${Wp.Settings}`)}});return el.jsx($V,{$resizeBy:r,children:el.jsx(ly,{title:n("apps.phoneSettings.title"),children:d.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,onClick:e.onClick,style:{backgroundColor:h===t+1?"var(--tgg-highlight-color)":"transparent"},children:e.children?e.children:el.jsxs(el.Fragment,{children:[e.icon,el.jsx("span",{className:"tgg-msg-title",children:e.title})]})},t)))})})},UV=ey.div.attrs({className:"tgg-scrollable-settings"})`
	display: flex;
	flex-direction: column;
	width: 100%;

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}

	.tgg-copy-number-text {
		display: flex;
		flex-direction: column;
		align-items: flex-end;
		padding-right: calc(0.5rem * ${e=>e.$resizeBy});
		opacity: 0.75;
	}

	.tgg-copy-number-text-icon {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
	}

	/*  */
	.tgg-slider .ant-slider-handle {
		display: none !important;
	}

	.tgg-slider .ant-slider-track {
		background-color: var(--tgg-text-color-primary) !important;
		height: 16px !important;
	}

	.tgg-slider .ant-slider-rail {
		background-color: var(--tgg-background-dark) !important;
		height: 16px !important;
		opacity: 0.4;
	}
`;function VV({icon:e,title:t,value:n,onChange:r,min:i=0,max:o=100}){const a=vu((e=>e.resizeBy));return el.jsxs(UV,{$resizeBy:a,children:[el.jsxs("div",{className:"tgg-copy-number-text-icon",children:[e,el.jsx("span",{className:"tgg-msg-title",children:t})]}),el.jsx("div",{style:{width:"100%"},children:el.jsx(fO,{min:0,max:100,step:100/((o-i)/.1),value:(n-i)/(o-i)*100,onChange:e=>r(i+e/100*(o-i)),className:"tgg-slider"})})]})}const GV=ey.div.attrs({className:"tgg-sound-settings-app"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}
`,WV=()=>{var e,t;const n=Lh(),{t:r}=Up(),i=vu((e=>e.resizeBy)),o=vu((e=>e.settings)),a=gu((e=>e.setSettings)),s=gu((e=>e.setOptionsModal)),l=vu((e=>e.settingsConfig)),c=gu((e=>e.setFooterActions));cl.useEffect((()=>{c({left:"",center:Yf.Select,right:Yf.Exit})}),[]);const u=cl.useCallback(((e,t)=>l.sounds[t].find((t=>t.key===e))),[l]),d=cl.useCallback((()=>Object.values(kO).find((e=>e.toLowerCase()===o.sound.toLowerCase()))),[o.sound]),h=[{icon:el.jsx(jP,{size:18*i}),title:r("apps.soundSettings.ringtone"),onClick:()=>{s({status:!0,modal:Yy.SoundPreview,zIndex:999999,data:{sounds:l.sounds.ringtones,type:SP.ringtones}})},children:el.jsx(Qx,{icon:el.jsx(jP,{size:18*i}),title:r("apps.soundSettings.ringtone"),bottomText:(null==(e=u(o.ringtone,"ringtones"))?void 0:e.name)||o.ringtone})},{icon:el.jsx(zP,{size:18*i}),title:r("apps.soundSettings.notification"),onClick:()=>{s({status:!0,modal:Yy.SoundPreview,zIndex:999999,data:{sounds:l.sounds.notifications,type:SP.notifications}})},children:el.jsx(Qx,{icon:el.jsx(jP,{size:18*i}),title:r("apps.soundSettings.notification"),bottomText:(null==(t=u(o.notification,"notifications"))?void 0:t.name)||o.notification})},{icon:null,title:r("apps.soundSettings.volume"),onClick:()=>{},children:el.jsx(VV,{icon:o.volume>50?el.jsx(DP,{size:18*i}):o.volume>0?el.jsx(BP,{size:18*i}):el.jsx(FP,{size:18*i}),title:r("apps.soundSettings.volume"),value:o.volume,onChange:e=>{a({...o,volume:e})}})},{icon:el.jsx(jP,{size:18*i}),title:r("apps.soundSettings.soundMode"),onClick:()=>{const e=Object.values(kO);s({status:!0,modal:Yy.SettingsOptions,data:{options:e.map((e=>cP(e))),callback:e=>{const t=e.toLowerCase();a({...o,sound:t}),Gp("settings:update-sound-mode",t,!0)}}})},children:el.jsx(Qx,{icon:el.jsx(jP,{size:18*i}),title:r("apps.soundSettings.soundMode"),bottomText:cP(d()||o.sound)})}],{currentFocus:p}=Wf({selector:".tgg-row-section",maxFocus:h.length,disableLeftRight:!0,backspaceHandler:()=>{n(`${qp}/${Wp.Settings}`)}});return cl.useEffect((()=>{function e(e){if(3!==p)return;if(!["ArrowLeft","ArrowRight"].includes(e.key))return;const t=o.volume;if(isNaN(t)||null==t)return void a({...o,volume:"ArrowLeft"===e.key?0:100});const n="ArrowLeft"===e.key?-20:20,r=Math.min(100,Math.max(0,t+n));a({...o,volume:r}),Gp("settings:update-volume",r,!0)}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[o.volume,p]),el.jsx(GV,{$resizeBy:i,children:el.jsx(ly,{title:r("apps.soundSettings.title"),children:h.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,onClick:e.onClick,style:{backgroundColor:p===t+1?"var(--tgg-highlight-color)":"transparent"},children:e.children?e.children:el.jsxs(el.Fragment,{children:[e.icon,el.jsx("span",{className:"tgg-msg-title",children:e.title})]})},t)))})})},qV=ey.div.attrs({className:"tgg-color-options"})`
	display: flex;
	flex-direction: column;
	width: 100%;

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}

	.tgg-color-title-container {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
	}

	.tgg-color-options-container {
		display: flex;
		flex-direction: row;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		margin-top: calc(0.5rem * ${e=>e.$resizeBy});
		justify-content: flex-end;
	}

	.tgg-color-option {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.5rem * ${e=>e.$resizeBy});
		border-radius: 4px;
		cursor: pointer;
		transition: background-color 0.2s;

		&:hover {
			background-color: var(--tgg-background-dark);
		}
	}

	.tgg-color-option-circle {
		width: calc(1rem * ${e=>e.$resizeBy});
		height: calc(1rem * ${e=>e.$resizeBy});
	}

	.tgg-color-option-text {
		font-size: calc(0.9rem * ${e=>e.$resizeBy});
		color: var(--tgg-text-color-primary);
	}
`;function XV({title:e,colors:t,color:n}){const r=vu((e=>e.resizeBy));return el.jsxs(qV,{$resizeBy:r,children:[el.jsxs("div",{className:"tgg-color-title-container",children:[el.jsx(HP,{}),el.jsx("span",{className:"tgg-msg-title",children:e})]}),el.jsx("div",{className:"tgg-color-options-container",children:t.map(((e,t)=>el.jsx("div",{className:"tgg-color-option-circle",style:{backgroundColor:e,border:e===n?"2px solid var(--tgg-text-color-primary)":"none"}})))})]})}function YV(e){if(!e)return"";const t=function(e){const t=["png","jpg","jpeg","gif","bmp","tiff","ico","webp","svg"];return e.split(".").filter((e=>!t.includes(e))).join("")}(e),n=function(e){return e.replace(`${Yp}/aikon/wallpapers/`,"")}(t);return n}const JV=ey.div.attrs({className:"tgg-display-settings-app"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}
`;function KV(e){let t=Math.floor(10*e)/10+.05,n=Math.ceil(10*e)/10;return(Math.abs(e-t)<=Math.abs(e-n)?t:n).toFixed(2)}const ZV=()=>{const e=Lh(),{t:t}=Up(),n=vu((e=>e.resizeBy)),r=vu((e=>e.settings)),i=vu((e=>e.settingsConfig)),o=vu((e=>e.settings.theme)),a=gu((e=>e.setSettings)),s=gu((e=>e.setOptionsModal)),l=gu((e=>e.setFooterActions));cl.useEffect((()=>{l({left:"",center:Yf.Select,right:Yf.Exit})}),[]);const c=cl.useCallback((e=>{const t=i.wallpapers.find((t=>t.key===YV(e)));return(null==t?void 0:t.name)||e}),[i]),u=[{icon:null,title:t("apps.displaySettings.scaling"),onClick:()=>{a({...r,scale:r.scale}),Gp("settings:update-scale",r.scale,!0)},children:el.jsx(VV,{icon:el.jsx(UP,{size:18*n}),title:t("apps.displaySettings.scaling"),value:Number(KV(Number(r.scale))),min:.65,max:1.15,onChange:e=>{a({...r,scale:KV(e)})}})},{icon:null,title:t("apps.displaySettings.brightness"),onClick:()=>{},children:el.jsx(VV,{icon:el.jsx(Ab,{size:18*n}),title:t("apps.displaySettings.brightness"),value:r.brightness,onChange:e=>{a({...r,brightness:e})}})},{icon:null,title:"",onClick:()=>{},children:el.jsx(el.Fragment,{children:cl.useMemo((()=>el.jsx(XV,{title:t("apps.displaySettings.color"),colors:i.colors,color:o})),[t,i.colors,o])})},{icon:null,title:t("apps.displaySettings.wallpaper"),onClick:()=>{const e=[{title:t("apps.displaySettings.wallpaperUrl"),callback:()=>{s({status:!0,modal:Yy.WallpaperUrl,data:{onCallback:e=>{s({status:!1,modal:Yy.WallpaperUrl,data:{}})}},zIndex:9999})}},...i.wallpapers.map((e=>e.name))];s({status:!0,modal:Yy.SettingsOptions,data:{options:e,callback:e=>{const t=i.wallpapers.find((t=>t.name===e));if(!t)return Gp("settings:set-wallpaper",{wallpaper:e},!0),void a({...r,lockscreenWallpaper:e,homescreenWallpaper:e});const n=JSON.parse(JSON.stringify({...r,lockscreenWallpaper:`${t.key}.${t.extension}`,homescreenWallpaper:`${t.key}.${t.extension}`}));a(n),Gp("settings:set-wallpaper",{wallpaper:`${t.key}.${t.extension}`},!0)}}})},children:el.jsx(Qx,{icon:el.jsx(jP,{size:18*n}),title:t("apps.displaySettings.wallpaper"),bottomText:c(r.homescreenWallpaper)})}],{currentFocus:d}=Wf({selector:".tgg-row-section",maxFocus:u.length,disableLeftRight:!0,backspaceHandler:()=>{e(`${qp}/${Wp.Settings}`)}}),h=cl.useCallback((e=>{if(!["ArrowLeft","ArrowRight"].includes(e.key))return;const t=r.brightness;if(isNaN(t)||null==t)return void a({...r,brightness:"ArrowLeft"===e.key?0:100});const n="ArrowLeft"===e.key?-20:20,i=Math.min(100,Math.max(0,t+n));a({...r,brightness:i}),Gp("settings:update-brightness",i,!0)}),[r,a]),p=cl.useCallback((e=>{if(!["ArrowLeft","ArrowRight"].includes(e.key))return;const t=Number(r.scale);if(isNaN(t)||null==t)return void a({...r,scale:String("ArrowLeft"===e.key?.65:1.1)});const n=Math.min(1.1,Math.max(.65,"ArrowLeft"===e.key?t-.1:t+.1));a({...r,scale:String(n)}),Gp("settings:update-scale",n,!0)}),[r,a]),f=cl.useCallback((e=>{if(!["ArrowLeft","ArrowRight"].includes(e.key))return;const t=o,n=i.colors.indexOf(t)+("ArrowLeft"===e.key?-1:1);n<0||n>i.colors.length-1||(Gp("settings:update-theme",i.colors[n],!0),a({...r,theme:i.colors[n]}))}),[r,i.colors,a]);return cl.useEffect((()=>{function e(e){1===d&&p(e),2===d&&h(e),3===d&&f(e)}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[r.brightness,r.scale,d,o]),el.jsx(JV,{$resizeBy:n,children:el.jsx(ly,{title:t("apps.displaySettings.title"),children:u.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,onClick:e.onClick,style:{backgroundColor:d===t+1?"var(--tgg-highlight-color)":"transparent"},children:e.children?e.children:el.jsxs(el.Fragment,{children:[e.icon,el.jsx("span",{className:"tgg-msg-title",children:e.title})]})},t)))})})},QV=ey.div.attrs({className:"tgg-security-settings-app"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}
`,eG=()=>{const e=Lh(),{t:t}=Up(),n=vu((e=>e.resizeBy)),r=vu((e=>e.settings)),i=vu((e=>e.optionsModal)),o=gu((e=>e.setOptionsModal)),a=gu((e=>e.setFooterActions));cl.useEffect((()=>{a({left:"",center:Yf.Select,right:Yf.Exit})}),[i]);const s=[{icon:null,title:"",onClick:()=>{r.pin?o({status:!0,modal:Yy.PinModal,data:{type:"removePin"}}):o({status:!0,modal:Yy.PinModal,data:{type:"createPin"}})},children:el.jsx(Qx,{title:t("apps.securitySettings.pin"),icon:el.jsx(zy,{}),bottomText:r.pin?t("apps.securitySettings.pinOn"):t("apps.securitySettings.pinOff")})}],{currentFocus:l}=Wf({selector:".tgg-row-section",maxFocus:s.length,backspaceHandler:()=>{e(`${qp}/${Wp.Settings}`)}});return el.jsx(QV,{$resizeBy:n,children:el.jsx(ly,{title:t("apps.securitySettings.title"),children:s.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,onClick:e.onClick,style:{backgroundColor:l===t+1?"var(--tgg-highlight-color)":"transparent"},children:e.children?e.children:el.jsxs(el.Fragment,{children:[e.icon,el.jsx("span",{className:"tgg-msg-title",children:e.title})]})},t)))})})},tG=ey.div.attrs({className:"tgg-about-phone-app"})`
	color: var(--tgg-text-color-primary);

	height: 100%;

	background: rgb(0, 0, 0);
	background: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, #262626 100%);

	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		/* height: calc(65px * ${e=>e.$resizeBy}); */
		align-items: center;

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-msg-title {
		font-size: calc(1rem * ${e=>e.$resizeBy});
	}

	.tgg-small-text {
		font-size: calc(0.8rem * ${e=>e.$resizeBy});
	}
`,nG=()=>{const e=Lh(),{t:t}=Up(),n=vu((e=>e.resizeBy)),r=vu((e=>e.phoneIdentifiers)),i=vu((e=>e.settings)),o=gu((e=>e.setFooterActions)),a=[{icon:el.jsx(by,{size:18*n}),title:t("apps.aboutPhone.os"),onClick:()=>{ew({text:r.os})},children:el.jsx(Qx,{icon:el.jsx(by,{size:18*n}),title:t("apps.aboutPhone.os"),bottomText:r.os})},{icon:el.jsx(_m,{size:18*n}),title:t("apps.aboutPhone.phoneImei"),onClick:()=>{ew({text:r.imei})},children:el.jsx(Qx,{icon:el.jsx(_m,{size:18*n}),title:t("apps.aboutPhone.phoneImei"),bottomText:el.jsx("span",{className:"tgg-small-text",children:r.imei})})},{icon:el.jsx(Ey,{size:18*n}),title:t("apps.aboutPhone.phoneNumber"),onClick:()=>{ew({text:r.number})},children:el.jsx(Qx,{icon:el.jsx(Ey,{size:18*n}),title:t("apps.aboutPhone.phoneNumber"),bottomText:i.streamerMode?Kx(r.number):r.number})},{icon:el.jsx(Ay,{size:18*n}),title:t("apps.aboutPhone.publisher"),onClick:()=>{pp()?window.open("https://scripts.teamsgg.dev/","_blank"):window.invokeNative("openUrl","https://scripts.teamsgg.dev/")},children:el.jsx(Qx,{icon:el.jsx(Ay,{size:18*n}),title:t("apps.aboutPhone.publisher"),bottomText:"TeamsGG Development"})}],{currentFocus:s}=Wf({selector:".tgg-row-section",maxFocus:a.length,backspaceHandler:()=>{e(`${qp}/${Wp.Settings}`)}});return cl.useEffect((()=>{s!==a.length?o({left:"",center:Yf.Copy,right:Yf.Exit}):o({left:"",center:Yf.GoTo,right:Yf.Exit})}),[s]),el.jsx(tG,{$resizeBy:n,children:el.jsx(ly,{title:t("apps.aboutPhone.title"),children:a.map(((e,t)=>el.jsx("div",{className:"tgg-row-section",tabIndex:t+1,onClick:e.onClick,style:{backgroundColor:s===t+1?"var(--tgg-highlight-color)":"transparent"},children:e.children?e.children:el.jsxs(el.Fragment,{children:[e.icon,el.jsx("span",{className:"tgg-msg-title",children:e.title})]})},t)))})})},rG=ey.div.attrs({className:"tgg-sim-manager-settings"})`
	.tgg-row-section {
		display: flex;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
		padding: calc(0.35rem * ${e=>e.$resizeBy}) calc(0.5rem * ${e=>e.$resizeBy});
		height: calc(85px * ${e=>e.$resizeBy});

		.tgg-msg-title {
			font-size: calc(1rem * ${e=>e.$resizeBy});
		}

		&:focus {
			background-color: var(--tgg-highlight-color);
		}
	}

	.tgg-row-section-content {
		display: flex;
		align-items: center;
		gap: calc(0.5rem * ${e=>e.$resizeBy});
	}
`,iG=()=>{const e=vu((e=>e.resizeBy)),{t:t}=Up(),[n,r]=cl.useState(!1),[i,o]=cl.useState([]),a=cl.useRef(!1),s=cl.useRef(!1),l=vu((e=>e.phoneIdentifiers)),c=vu((e=>e.phoneData)),u=vu((e=>e.isOpen)),d=vu((e=>e.signal)),h=vu((e=>e.settings)),p=Lh(),f=gu((e=>e.setPhoneIdentifiers)),m=gu((e=>e.setFooterActions)),g=gu((e=>e.setSignal)),{currentFocus:v,focusItem:y}=Wf({maxFocus:i.length+1,selector:".tgg-row-section",backspaceHandler:()=>{p(`${qp}/${Wp.Settings}`)},enterHandler:()=>{1===v?b():_(i[v-2].number)}});cl.useEffect((()=>{m({left:"",center:1===v?Yf.SimEject:Yf.SimInsert,right:Yf.Exit})}),[v]),cl.useEffect((()=>{u&&(r(!0),w())}),[u]);const b=()=>{a.current||(x()?(a.current=!0,Gp("sim:eject",{slot:1},{success:!0}).then((e=>{a.current=!1,(null==e?void 0:e.success)?(f({...l,number:""}),w(),Jy(t("apps.simSettings.simEjected")),g({...d,available:!1,strength:0})):Jy(t("apps.simSettings.simEjectFailed"))})).catch((()=>{a.current=!1,Jy(t("apps.simSettings.simEjectFailed"))})).finally((()=>{a.current=!1}))):Jy(t("apps.simSettings.cannotEjectSim")))},x=()=>l.number&&c.callType===vp.None,w=()=>{Gp("sim:get:inventory",null,{success:!0,simCards:Nw}).then((e=>{(null==e?void 0:e.success)&&(null==e?void 0:e.simCards)&&o(e.simCards),r(!1)}))},_=cl.useCallback((e=>{s.current||(l.number?Jy(t("apps.simSettings.cannotInsertSim")):(s.current=!0,Gp("sim:insert",{slot:1,simNumber:e},{success:!0}).then((t=>{s.current=!1,(null==t?void 0:t.success)&&(o(i.filter((t=>t.number!==e))),y(".tgg-row-section",1),h.airplane?g({...d,available:!1,strength:0}):g({...d,available:!0,strength:100}),window.scrollTo({top:0}))})).catch((()=>{s.current=!1,Jy(t("apps.simSettings.simInsertFailed"))})).finally((()=>{s.current=!1}))))}),[l.number,i,h.airplane,d,Jy,t]),S=cl.useMemo((()=>[...i].sort(((e,t)=>e.number===l.number?-1:t.number===l.number?1:0))),[i,l.number]);return el.jsx(rG,{$resizeBy:e,children:el.jsx(ly,{title:t("apps.simSettings.title"),children:el.jsxs("div",{children:[el.jsx("div",{className:"tgg-row-section",tabIndex:1,style:{backgroundColor:1===v?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx("div",{children:el.jsx(EI,{size:18*e,color:"rgb(3, 128, 254)"})}),el.jsxs("div",{children:[el.jsx("div",{children:l.number?el.jsxs(el.Fragment,{children:[t("apps.simSettings.sim")," ",1,` (${t("apps.simSettings.activeSim")})`]}):el.jsx(el.Fragment,{children:t("general.noSim")})}),el.jsx("div",{children:l.number})]})]})}),S.map(((n,r)=>el.jsx("div",{className:"tgg-row-section",tabIndex:r+2,style:{backgroundColor:v===r+2?"var(--tgg-highlight-color)":"transparent"},children:el.jsxs("div",{className:"tgg-row-section-content",children:[el.jsx("div",{children:el.jsx(EI,{size:18*e,color:"#16a34a"})}),el.jsxs("div",{children:[el.jsxs("div",{children:[t("apps.simSettings.sim"),n.number===l.number&&` (${t("apps.simSettings.activeSim")})`]}),el.jsx("div",{children:n.number})]})]})},n.id)))]})})})},oG=ey.div.attrs({className:"tgg-camera"})`
	height: inherit;
	background-color: #000;

	.tgg-camera-container {
		position: relative;
		height: 100%;
		overflow: hidden;

		#camera-container-canvas {
			height: 100%;
			width: 100%;
			background-position: center;
			background-size: contain;
			background-repeat: no-repeat;
		}

		.tgg-camera-canvas-blur {
			filter: blur(15px);
			scale: 1.1;
		}
	}
`,aG=()=>{const{t:e}=Up(),t=cl.useRef(null),n=Lh(),[r,i]=cl.useState(!1),[o,a]=cl.useState(!0),[s,l]=cl.useState({height:0,width:0}),c=vu((e=>e.uploadConfig)),u=gu((e=>e.setFooterActions));cl.useEffect((()=>(!pp()&&c&&Gp("camera:open","camera",!0).then((e=>{var t;if(window.cameraRender){const n=document.getElementById("camera-container-canvas");null==(t=window.cameraRender)||t.renderToTarget(n,0,e),setTimeout((()=>{a(!1)}),1e3)}})),u({left:"",center:Yf.Capture,right:Yf.Exit}),()=>{window.cameraRender&&window.cameraRender.removeListener(),Gp("camera:close","camera",!0)})),[]),cl.useEffect((()=>()=>{Gp("utils:set-focus",{focus:!0}).catch((e=>{console.error("Error setting focus",e)}))}),[]),cl.useLayoutEffect((()=>{var e,n;t.current&&l({height:null==(e=t.current)?void 0:e.offsetHeight,width:null==(n=t.current)?void 0:n.offsetWidth})}),[]),yp("kb:camera:take-photo",(()=>{d()})),yp("kb:camera:close",(()=>{h()}));const d=()=>{o||(i(!0),a(!0),Jy(e("apps.gallery.savingPhoto"),"success"),window.cameraRender.requestScreenshot().then((t=>{t&&Gp("gallery:save-photo",t).then((t=>{t&&(a(!1),i(!1),Jy(e("apps.gallery.photoSavedToGallery"),"success"))}))})))},h=()=>{n(Xp)};return el.jsx(oG,{children:el.jsx(ly,{title:"Camera",disableHeader:!0,disableScrollable:!0,children:el.jsxs("div",{id:"camera-container",className:"tgg-camera-container",ref:t,children:[!c&&!pp()&&el.jsx("div",{className:"tgg-setup-webhook text-center",children:"Setup config.upload.lua for camera usage"}),c&&el.jsx("canvas",{className:""+(r?"tgg-camera-canvas-blur":""),id:"camera-container-canvas","data-height":s.height,"data-width":s.width})]})})})},sG=ey.div.attrs({className:"tgg-blocked-contact"})`
	&-container {
		z-index: '999';
		font-size: '50px';
		position: 'relative';
	}

	&-item {
		border: '1px solid black';
		padding: '10px';
		display: 'flex';
		justify-content: 'space-between';

		&:focus {
			background-color: 'var(--tgg-highlight-color)';
		}
	}

	.tgg-book-contact-empty {
		text-align: center;
	}
`,lG=()=>{const[e,t]=cl.useState([]),n=Lh(),{t:r}=Up(),i=vu((e=>e.contacts)),o=vu((e=>e.phoneIdentifiers)),a=vu((e=>e.signal)),s=gu((e=>e.setFooterActions)),l=gu((e=>e.setContacts)),{currentFocus:c}=Wf({maxFocus:i.length,selector:".tgg-blocked-contact-item",backspaceHandler:()=>{n(`${qp}/contacts/`)},shiftHandler:()=>{},enterHandler:()=>{(async n=>{const o=i.find((e=>e.number===n));if(!o)return;if((await Gp("contacts:block-contact",{phoneNumber:o.number,isBlocked:!o.isBlocked})).success){const n=e.filter((e=>e!==o.number)),a=i.map((e=>e.number===o.number?{...e,isBlocked:!e.isBlocked}:e));return t(n),l(a),void Jy(o.isBlocked?r("modals.phoneOptions.contactUnblocked"):r("modals.phoneOptions.contactBlocked"),"success")}Jy(r("modals.phoneOptions.failedToBlockContact"),"error")})(e[c-1])}});return cl.useEffect((()=>{!async function(){const e=await Gp("contacts:get-blocked-contacts",{});e&&t(e)}()}),[]),cl.useEffect((()=>{0!==e.length?s({left:"",center:Yf.Unblock,right:Yf.Back}):s({left:"",center:"",right:Yf.Back})}),[e]),el.jsx(sG,{children:el.jsx(ly,{title:r("apps.contactsBlocked.title"),children:el.jsxs(el.Fragment,{children:[(!o.number||!a.available)&&el.jsx("div",{className:"tgg-book-contact-empty",children:el.jsx("h1",{children:r("general.noSim")})}),o.number&&e.length>0&&e.map(((e,t)=>{const n=i.find((t=>t.number===e)),r=n?n.name:"";return el.jsx("div",{style:{backgroundColor:t+1===c?"var(--tgg-highlight-color)":"",display:"flex",justifyContent:"space-between",padding:"6px"},className:"tgg-book-contact-item tgg-row-section",tabIndex:t+1,children:el.jsxs("div",{children:[el.jsxs("div",{style:{display:"flex",gap:"5px",alignItems:"center",justifyContent:"center"},children:[e," ",el.jsx(um,{size:18})]}),el.jsx("div",{children:r})]})},e+t)})),o.number&&0===e.length&&el.jsx("div",{className:"tgg-book-contact-empty",children:el.jsx("h1",{children:r("apps.contactsBlocked.noBlockedNumbers")})}),o.number&&e.length>0&&el.jsx("div",{className:"tgg-book-contact-empty",children:el.jsx("h1",{children:r("apps.contactsBlocked.endOfBlockedNumbers")})})]})})})},cG=ey.div.attrs({className:"tgg-gallery-app"})`
	box-sizing: border-box;

	.gallery-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 2px;
		box-sizing: border-box;
	}

	.gallery-item {
		box-sizing: border-box;
		border: 1px solid transparent;

		img {
			width: 100%;
			height: 90px;
			object-fit: cover;
			box-sizing: border-box;
		}

		&:focus {
			border: 1px solid var(--tgg-highlight-color);
			outline: none;
		}
	}

	.gallery-preview-container {
		height: 100%;
		background-color: rgba(0, 0, 0);
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.gallery-preview-item {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: center;

		img {
			max-width: 100%;
			max-height: 100%;
			object-fit: contain;
		}
	}
`,uG=[{id:1,phoneImei:`boomer:${Math.floor(1e9+9e9*Math.random())}`,image:"https://picsum.photos/200/300",thumbnail:"https://picsum.photos/200/300",date:new Date(2021,1,1).toISOString().split("T")[0]},{id:2,phoneImei:`boomer:${Math.floor(1e9+9e9*Math.random())}`,image:"https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",thumbnail:"https://images.pexels.com/photos/1366919/pexels-photo-1366919.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",date:new Date(2021,1,1).toISOString().split("T")[0]},{id:3,phoneImei:`boomer:${Math.floor(1e9+9e9*Math.random())}`,image:"https://static.vecteezy.com/system/resources/thumbnails/049/139/500/small/serene-rainforest-scene-with-lush-green-foliage-and-gentle-rainfall-natural-background-for-relaxation-photo.jpg",thumbnail:"https://static.vecteezy.com/system/resources/thumbnails/049/139/500/small/serene-rainforest-scene-with-lush-green-foliage-and-gentle-rainfall-natural-background-for-relaxation-photo.jpg",date:new Date(2021,1,1).toISOString().split("T")[0]}],dG=cl.memo((({item:e,index:t,currentFocus:n})=>el.jsx("div",{className:"gallery-item",tabIndex:t+1,"data-index":t,style:{border:t+1===n?"1px solid var(--tgg-highlight-color)":"1px solid transparent"},children:el.jsx(YO.LazyLoadImage,{visibleByDefault:!0,effect:"blur",src:e.image,alt:`gallery-${e.id}`})}))),hG=cl.memo((({gallery:e,currentFocus:t})=>el.jsx("div",{className:"gallery-grid",children:e.map(((e,n)=>el.jsx(dG,{item:e,index:n,currentFocus:t},e.id)))}))),pG=()=>{var e,t;const n=Lh(),r=vu((e=>e.resizeBy)),{t:i}=Up(),o=gu((e=>e.setFooterActions)),a=vu((e=>e.optionsModal)),s=gu((e=>e.setOptionsModal)),[l,c]=cl.useState(!1),[u,d]=cl.useState(0),[h,p]=cl.useState([]),[f,m]=cl.useState(0),[g,v]=cl.useState(0),[y,b]=cl.useState(!0),x=cl.useCallback(((e=0)=>{Gp("gallery:get-images",{offset:50*e},uG).then((t=>{t&&0!==t.length?(p(0===e?t:e=>[...e,...t]),v((e=>e+t.length))):b(!1)}))}),[]);cl.useEffect((()=>{x(f)}),[f,x]),cl.useEffect((()=>{if(l)return void o({left:Yf.Options,center:"",right:Yf.Back});const e={left:"",center:"",right:Yf.Back};h.length>0&&(e.left=Yf.Options,e.center=Yf.Preview),o(e)}),[l,h]);const w=cl.useCallback((e=>{if(l)if("ArrowLeft"===e.key)d((e=>e>0?e-1:h.length-1));else if("ArrowRight"===e.key)d((e=>e<h.length-1?e+1:0));else if("Escape"===e.key||"Backspace"===e.key){if(a.status)return void s({status:!1});c(!1)}}),[l,h.length,a.status,s]);cl.useEffect((()=>(window.addEventListener("keydown",w),()=>{window.removeEventListener("keydown",w)})),[w]);const{currentFocus:_,focusItem:S}=lP({maxFocus:h.length,selector:".gallery-item",shiftHandler:()=>{0!==h.length&&s({status:!0,data:{options:[{title:i("apps.gallery.delete"),action:()=>{const e=h[l?u:_-1].id;Gp("gallery:delete-photo",{imageId:e}).then((()=>{const t=h.filter((t=>t.id!==e));p(t)}))}},{title:i("apps.gallery.copyImageAddress"),action:()=>{Cp({action:"ui:copy-to-clipboard",internal:!0,data:{text:h[l?u:_-1].image,successMessage:i("apps.gallery.imageAddressCopied")}})}}]},modal:Yy.OptionsList})},enterHandler:()=>{0!==h.length&&(l||(d(_-1),c(!0)))},backspaceHandler:cl.useCallback((()=>{if(l){if(a.status)return void s({status:!1});c(!1)}else n(`${Xp}`)}),[l,a.status,s,c,n,Xp])});return cl.useEffect((()=>{S(".gallery-item",u+1)}),[u]),el.jsx(cG,{$resizeBy:r,children:el.jsx(ly,{title:i("apps.gallery.title"),children:el.jsx(el.Fragment,{children:h.length>0?el.jsx(el.Fragment,{children:l?el.jsx("div",{className:"gallery-preview-container",children:el.jsxs("div",{className:"gallery-preview-item",children:[el.jsx(IP,{color:"white",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)"}}),el.jsx(YO.LazyLoadImage,{visibleByDefault:!0,src:null==(e=h[u])?void 0:e.image,alt:`gallery-preview-${null==(t=h[u])?void 0:t.id}`}),el.jsx(NP,{color:"white",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}})]})}):el.jsx(mb,{dataLength:h.length,next:()=>m((e=>e+1)),hasMore:y,loader:el.jsx(el.Fragment,{}),scrollableTarget:"tgg-container-scrollable",children:el.jsx(hG,{gallery:h,currentFocus:_})})}):el.jsx("div",{style:{color:"var(--tgg-text-color-primary)",textAlign:"center",marginTop:"10px"},children:i("apps.gallery.noImages")})})})})},fG=(mG=[{path:`${qp}`,element:el.jsx(AV,{}),errorElement:el.jsx(ww,{}),children:[{path:`${qp}/number/:number`,element:el.jsx(RV,{})},{path:`${qp}/notifications`,element:el.jsx(NV,{})},{path:Wp.Contacts,element:el.jsx(_b,{}),children:[{path:Em.Create,element:el.jsx(Xy,{})},{path:Em.Book,element:el.jsx(ob,{})},{path:`${Em.Search}`,element:el.jsx(Fy,{})},{path:`${Em.Edit}/:id`,element:el.jsx(sb,{})},{path:`${Em.Search}/:contactName`,element:el.jsx(dy,{})},{path:`${Em.Blocked}`,element:el.jsx(lG,{})},{path:`${qp}/${Wp.Contacts}`,element:el.jsx(Py,{})}]},{path:Wp.Messages,element:el.jsx(Eb,{}),children:[{path:`${nl.Create}`,element:el.jsx(Qy,{})},{path:`${nl.Inbox}`,element:el.jsx(mw,{})},{path:`${nl.Chat}/:channelId`,element:el.jsx(bw,{})},{path:`${qp}/${Wp.Messages}`,element:el.jsx(Ny,{})}]},{path:Wp.Snake,element:el.jsx(cw,{})},{path:Wp.Calculator,element:el.jsx(Mb,{})},{path:Wp.Settings,element:el.jsx(DV,{}),children:[{path:`${jV.Phone}`,element:el.jsx(HV,{})},{path:`${jV.Sound}`,element:el.jsx(WV,{})},{path:`${jV.Display}`,element:el.jsx(ZV,{})},{path:`${jV.Security}`,element:el.jsx(eG,{})},{path:`${jV.Sim}`,element:el.jsx(iG,{})},{path:`${jV.About}`,element:el.jsx(nG,{})},{path:`${qp}/${Wp.Settings}`,element:el.jsx(nw,{})}]},{path:Wp.Phone,element:el.jsx(hw,{}),children:[{path:`${tl.Missed}`,element:el.jsx(uw,{})},{path:`${tl.Received}`,element:el.jsx(bb,{})},{path:`${tl.Dialed}`,element:el.jsx(sw,{})},{path:`${qp}/${Wp.Phone}`,element:el.jsx(aw,{})}]},{path:Wp.Gallery,element:el.jsx(pG,{})},{path:Wp.Camera,element:el.jsx(aG,{})},{path:Wp.Closing,element:el.jsx("div",{children:"Closing"})},{path:"*",element:el.jsx(ww,{})}]}],Pd({basename:void 0,future:Vh({},void 0,{v7_prependBasename:!0}),history:zu({window:void 0}),hydrationData:Wh(),routes:mG,mapRouteProperties:Uh,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize());var mG;Ew.createRoot(document.getElementById("root")).render(el.jsx(ep,{router:fG}));
