import{j as e,A as u,M as B,B as m,T as r,R as b,L as C,G as T,c as $,r as c,W as z,I as v,a as N,F as E,H as g,K as A}from"./index-DWxocKBz.js";import{C as y}from"./Card-BQI7fH89.js";import{I as F}from"./IconHelpHexagonFilled--XV7aaen.js";const P="_container_pk6ez_1",D="_icon_pk6ez_15",G="_iconActive_pk6ez_47",_={container:P,icon:D,iconActive:G},M=({currentTab:o,setCurrentTab:t,options:i,money:n})=>e.jsx(e.Fragment,{children:e.jsxs(u,{className:_.container,gap:"sm",children:[i.map(a=>e.jsx(B,{label:a.label,color:"dark.4",children:e.jsx(m,{className:o==a.name?_.iconActive:_.icon,onClick:()=>{t(a.name)},children:e.jsx("i",{className:a.icon})})},a.name)),e.jsxs(u,{ml:"auto",children:[e.jsx(m,{className:_.icon,children:e.jsx("i",{className:"fa-solid fa-wallet"})}),e.jsx(r,{children:`$${n.toLocaleString("en-US")}`})]})]})}),H="_grid_11rqj_1",R="_blur_11rqj_15",U="_card_11rqj_31",K="_image_11rqj_51",W="_description_11rqj_61",J="_title_11rqj_71",O="_buttonBox_11rqj_85",Q="_button_11rqj_85",V="_help_11rqj_103",X="_helpIcon_11rqj_117",l={grid:H,blur:R,card:U,image:K,description:W,title:J,buttonBox:O,button:Q,help:V,helpIcon:X},Y="_panelBox_1vbtq_1",Z="_text_1vbtq_31",j={panelBox:Y,text:Z},ee=({lang:o})=>{const{blackmarket:t}=o;return e.jsxs(m,{className:j.panelBox,children:[e.jsx(r,{className:j.text,ta:"center",fz:"lg",fw:500,children:t.info.header}),e.jsxs(r,{className:j.text,fz:"sm",c:"dimmed",ml:"xs",mt:"xs",children:[e.jsx("strong",{children:t.info.entrance}),t.info.entranceText]}),e.jsx(r,{className:j.text,fz:"sm",c:"dimmed",ml:"xs",mt:"xs",children:t.info.admin})]})},se=({type:o})=>{const t=b(C),i=b(T),n=$(i.level,i.max),[a,h]=c.useState([]),[x,d]=c.useState(!1),[f,q]=c.useState(0);c.useEffect(()=>{(async()=>{const p=await g("av_gangs","getProducts",o);if(p){const S=p.sort((k,w)=>k.level-w.level);h(S)}})()},[o]),c.useEffect(()=>{a.length>0&&f===a.length&&d(!0)},[f,a.length]);const L=()=>{q(s=>s+1)},I=s=>{g("av_gangs","buyProduct",s)};return e.jsxs(e.Fragment,{children:[!x&&e.jsx(m,{style:{position:"relative",height:"90%",width:"100%"},children:e.jsx(z,{})}),a.map(s=>e.jsx(v,{src:s.photo,style:{display:"none"},onLoad:L},s.shell)),x&&e.jsx(N,{className:l.grid,gutter:"xs",mt:"xs",children:a.map(s=>e.jsx(N.Col,{span:4,children:e.jsxs(y,{withBorder:!0,radius:"md",className:l.card,children:[e.jsxs(y.Section,{className:l.image,children:[e.jsx(m,{className:l.help,children:e.jsx(B,{label:e.jsx(ee,{lang:t}),h:"auto",color:"transparent",withinPortal:!0,children:e.jsx(F,{className:l.helpIcon})})}),n.level<s.level&&e.jsx(m,{className:l.blur}),e.jsx(v,{h:215,src:s.photo,fallbackSrc:"https://dunb17ur4ymx4.cloudfront.net/wysiwyg/1027823/5a3ed30f917b3e1e4f0f00ad29f21cbc138bcd11.jpg"})]}),e.jsx(r,{className:l.title,fw:500,truncate:!0,mt:"sm",children:n.level>=s.level?s.label:t.classified}),e.jsx(r,{className:l.description,fz:"sm",c:"dimmed",lineClamp:4,mt:2,children:n.level>=s.level?s.description:`${t.requiredLevel} ${s.level}`}),e.jsxs(u,{className:l.buttonBox,mt:"xs",children:[n.level>=s.level&&e.jsx(r,{fw:500,c:"gray.5",children:`${t.price}: $${s.price.toLocaleString("en-US")}`}),e.jsx(E,{className:l.button,color:"teal",size:"xs",variant:"subtle",disabled:n.level<s.level,onClick:()=>{I(s)},children:t.buy})]})]})},s.shell))})]})},le=()=>{const[o,t]=c.useState([]),[i,n]=c.useState(""),[a,h]=c.useState(0);return A("updateMoney",x=>{h(x)}),c.useEffect(()=>{(async()=>{const d=await g("av_gangs","getTabs");d&&(t(d.tabs),n(d.tabs[0].name),h(d.money))})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(M,{options:o,currentTab:i,setCurrentTab:n,money:a}),e.jsx(se,{type:i})]})};export{le as default};
