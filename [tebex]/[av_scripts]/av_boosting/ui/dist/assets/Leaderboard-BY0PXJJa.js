import{G as te,b as N,c as I,j as e,B as S,d as re,f as H,C as U,g as T,a0 as z,a1 as R,M as B,U as se,S as oe,Q as ae,R as ne,N as le,r as y,a2 as ce,a3 as ie,W as de}from"./index-if9IWpdg.js";import{S as he}from"./ScrollArea-Bbm58Ta1.js";import{A as me}from"./Avatar-X7e3Row-.js";var E={root:"m_4451eb3a"};const ue={},$=te((t,s)=>{const r=N("Center",ue,t),{classNames:o,className:a,style:d,styles:h,unstyled:u,vars:m,inline:c,mod:v,...l}=r,b=I({name:"Center",props:r,classes:E,className:a,style:d,classNames:o,styles:h,unstyled:u,vars:m});return e.jsx(S,{ref:s,mod:[{inline:c},v],...b("root"),...l})});$.classes=E;$.displayName="@mantine/core/Center";const[pe,ve]=re("Table component was not found in the tree");var C={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function be(t,s){if(!s)return;const r={};return s.columnBorder&&t.withColumnBorders&&(r["data-with-column-border"]=!0),s.rowBorder&&t.withRowBorders&&(r["data-with-row-border"]=!0),s.striped&&t.striped&&(r["data-striped"]=t.striped),s.highlightOnHover&&t.highlightOnHover&&(r["data-hover"]=!0),s.captionSide&&t.captionSide&&(r["data-side"]=t.captionSide),s.stickyHeader&&t.stickyHeader&&(r["data-sticky"]=!0),r}function x(t,s){const r=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,o=H((a,d)=>{const h=N(r,{},a),{classNames:u,className:m,style:c,styles:v,...l}=h,b=ve();return e.jsx(S,{component:t,ref:d,...be(b,s),...b.getStyles(t,{className:m,classNames:u,style:c,styles:v,props:h}),...l})});return o.displayName=`@mantine/core/${r}`,o.classes=C,o}const D=x("th",{columnBorder:!0}),G=x("td",{columnBorder:!0}),k=x("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),W=x("thead",{stickyHeader:!0}),q=x("tbody"),Q=x("tfoot"),V=x("caption",{captionSide:!0});function M({data:t}){return e.jsxs(e.Fragment,{children:[t.caption&&e.jsx(V,{children:t.caption}),t.head&&e.jsx(W,{children:e.jsx(k,{children:t.head.map((s,r)=>e.jsx(D,{children:s},r))})}),t.body&&e.jsx(q,{children:t.body.map((s,r)=>e.jsx(k,{children:s.map((o,a)=>e.jsx(G,{children:o},a))},r))}),t.foot&&e.jsx(Q,{children:e.jsx(k,{children:t.foot.map((s,r)=>e.jsx(D,{children:s},r))})})]})}M.displayName="@mantine/core/TableDataRenderer";const fe={type:"scrollarea"},ye=U((t,{minWidth:s,type:r})=>({scrollContainer:{"--table-min-width":T(s),"--table-overflow":r==="native"?"auto":void 0}})),A=H((t,s)=>{const r=N("TableScrollContainer",fe,t),{classNames:o,className:a,style:d,styles:h,unstyled:u,vars:m,children:c,minWidth:v,type:l,...b}=r,f=I({name:"TableScrollContainer",classes:C,props:r,className:a,style:d,classNames:o,styles:h,unstyled:u,vars:m,varsResolver:ye,rootSelector:"scrollContainer"});return e.jsx(S,{component:l==="scrollarea"?he:"div",...l==="scrollarea"?{offsetScrollbars:"x"}:{},ref:s,...f("scrollContainer"),...b,children:e.jsx("div",{...f("scrollContainerInner"),children:c})})});A.classes=C;A.displayName="@mantine/core/TableScrollContainer";const xe={withRowBorders:!0,verticalSpacing:7},Se=U((t,{layout:s,captionSide:r,horizontalSpacing:o,verticalSpacing:a,borderColor:d,stripedColor:h,highlightOnHoverColor:u,striped:m,highlightOnHover:c,stickyHeaderOffset:v,stickyHeader:l})=>({table:{"--table-layout":s,"--table-caption-side":r,"--table-horizontal-spacing":z(o),"--table-vertical-spacing":z(a),"--table-border-color":d?R(d,t):void 0,"--table-striped-color":m&&h?R(h,t):void 0,"--table-highlight-on-hover-color":c&&u?R(u,t):void 0,"--table-sticky-header-offset":l?T(v):void 0}})),n=H((t,s)=>{const r=N("Table",xe,t),{classNames:o,className:a,style:d,styles:h,unstyled:u,vars:m,horizontalSpacing:c,verticalSpacing:v,captionSide:l,stripedColor:b,highlightOnHoverColor:f,striped:_,highlightOnHover:w,withColumnBorders:i,withRowBorders:p,withTableBorder:J,borderColor:Re,layout:De,variant:K,data:L,children:X,stickyHeader:Y,stickyHeaderOffset:Ie,mod:Z,...ee}=r,O=I({name:"Table",props:r,className:a,style:d,classes:C,classNames:o,styles:h,unstyled:u,rootSelector:"table",vars:m,varsResolver:Se});return e.jsx(pe,{value:{getStyles:O,stickyHeader:Y,striped:_===!0?"odd":_||void 0,highlightOnHover:w,withColumnBorders:i,withRowBorders:p,captionSide:l||"bottom"},children:e.jsx(S,{component:"table",variant:K,ref:s,mod:[{"data-with-table-border":J},Z],...O("table"),...ee,children:X||!!L&&e.jsx(M,{data:L})})})});n.classes=C;n.displayName="@mantine/core/Table";n.Td=G;n.Th=D;n.Tr=k;n.Thead=W;n.Tbody=q;n.Tfoot=Q;n.Caption=V;n.ScrollContainer=A;n.DataRenderer=M;/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Te=B("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var je=B("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge=B("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ce=B("outline","selector","IconSelector",[["path",{d:"M8 9l4 -4l4 4",key:"svg-0"}],["path",{d:"M16 15l-4 4l-4 -4",key:"svg-1"}]]);const _e="_container_ostmr_1",we="_th_ostmr_113",ke="_control_ostmr_121",Ne="_icon_ostmr_139",Be="_input_ostmr_151",g={container:_e,th:we,control:ke,icon:Ne,input:Be},j=({children:t,reversed:s,sorted:r,onSort:o})=>{const a=r?s?je:Te:Ce;return e.jsx(n.Th,{className:g.th,children:e.jsx(se,{onClick:o,className:g.control,children:e.jsxs(oe,{justify:"space-between",children:[e.jsx(ae,{fw:500,fz:"sm",children:t}),e.jsx($,{className:g.icon,children:e.jsx(a,{style:{width:T(16),height:T(16)},stroke:1.5})})]})})})};function F(t,s){const r=s.toLowerCase().trim();return t.filter(o=>Object.keys(t[0]).some(a=>typeof o[a]=="string"?o[a].toLowerCase().includes(r):!1))}function P(t,s){const{sortBy:r}=s;return F(r?[...t].sort((o,a)=>typeof o[r]=="number"&&typeof a[r]=="number"?s.reversed?a[r]-o[r]:o[r]-a[r]:s.reversed?String(a[r]).localeCompare(String(o[r])):String(o[r]).localeCompare(String(a[r]))):t,s.search)}const Ae=()=>{const t=ne(le),[s,r]=y.useState(!0),[o,a]=y.useState([]),[d,h]=y.useState(""),[u,m]=y.useState(o),[c,v]=y.useState(null),[l,b]=y.useState(!1),f=i=>{const p=i===c?!l:!1;b(p),v(i),m(P(o,{sortBy:i,reversed:p,search:d}))},_=i=>{const{value:p}=i.currentTarget;h(p),m(P(o,{sortBy:c,reversed:l,search:p}))},w=u.map(i=>e.jsxs(n.Tr,{children:[e.jsx(n.Td,{children:e.jsx(me,{src:i.photo,size:30})}),e.jsx(n.Td,{children:i.name}),e.jsx(n.Td,{children:i.level}),e.jsx(n.Td,{children:i.hacks}),e.jsx(n.Td,{children:i.deliveries}),e.jsx(n.Td,{children:ce(i.time)})]},i.name));return y.useEffect(()=>{(async()=>{const p=await de("av_boosting","getLeaderboard");p&&(a(p),m(p)),setTimeout(()=>{r(!0)},100)})()},[]),e.jsx(e.Fragment,{children:s?e.jsxs(S,{p:"xs",className:g.container,children:[e.jsx(ie,{placeholder:t.leaderboard.search,mb:"md",leftSection:e.jsx(ge,{style:{width:T(16),height:T(16)},stroke:1.5}),value:d,onChange:_,classNames:{input:g.input}}),e.jsx(S,{children:e.jsxs(n,{horizontalSpacing:"md",verticalSpacing:"xs",miw:700,layout:"fixed",children:[e.jsx(n.Tbody,{children:e.jsxs(n.Tr,{children:[e.jsx(n.Th,{w:60}),e.jsx(j,{sorted:c==="name",reversed:l,onSort:()=>f("name"),children:t.leaderboard.name}),e.jsx(j,{sorted:c==="level",reversed:l,onSort:()=>f("level"),children:t.leaderboard.exp}),e.jsx(j,{sorted:c==="hacks",reversed:l,onSort:()=>f("hacks"),children:t.leaderboard.hacks}),e.jsx(j,{sorted:c==="deliveries",reversed:l,onSort:()=>f("deliveries"),children:t.leaderboard.deliveries}),e.jsx(j,{sorted:c==="time",reversed:l,onSort:()=>f("time"),children:t.leaderboard.best_time})]})}),e.jsx(n.Tbody,{children:w.length>0?w:null})]})})]}):e.jsx(e.Fragment,{})})};export{Ae as default};
