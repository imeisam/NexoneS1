import{p as E,u as L,b as M,j as s,B as q,e as T,g as w,h as D,Y as H,y as A,T as d,R as P,G as O,c as W,L as V,r as C,a as B,M as N,I as Y,A as p,F as b,Z,_ as J,$ as K,H as _}from"./index-DWxocKBz.js";import{C as y}from"./Card-BQI7fH89.js";import{I as Q}from"./IconHelpHexagonFilled--XV7aaen.js";import{R as X}from"./Rating-qUMAm4sC.js";var G={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const ss={},es=T((i,{radius:a,color:o,gradient:g,variant:r,size:m,autoContrast:h})=>{const x=i.variantColorResolver({color:o||i.primaryColor,theme:i,gradient:g,variant:r||"filled",autoContrast:h});return{root:{"--badge-height":w(m,"badge-height"),"--badge-padding-x":w(m,"badge-padding-x"),"--badge-fz":w(m,"badge-fz"),"--badge-radius":a===void 0?void 0:D(a),"--badge-bg":o||r?x.background:void 0,"--badge-color":o||r?x.color:void 0,"--badge-bd":o||r?x.border:void 0,"--badge-dot-color":r==="dot"?H(o,i):void 0}}}),z=E((i,a)=>{const o=L("Badge",ss,i),{classNames:g,className:r,style:m,styles:h,unstyled:x,vars:v,radius:I,color:e,gradient:t,leftSection:n,rightSection:l,children:j,variant:k,fullWidth:S,autoContrast:f,circle:F,mod:U,...$}=o,u=M({name:"Badge",props:o,classes:G,className:r,style:m,classNames:g,styles:h,unstyled:x,vars:v,varsResolver:es});return s.jsxs(q,{variant:k,mod:[{block:S,circle:F},U],...u("root",{variant:k}),ref:a,...$,children:[n&&s.jsx("span",{...u("section"),"data-position":"left",children:n}),s.jsx("span",{...u("label"),children:j}),l&&s.jsx("span",{...u("section"),"data-position":"right",children:l})]})});z.classes=G;z.displayName="@mantine/core/Badge";/**
 * @license @tabler/icons-react v3.7.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R=A("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);const as="_grid_11qqc_1",ts="_card_11qqc_15",ls="_section_11qqc_23",cs="_trash_11qqc_37",ns="_label_11qqc_47",is="_help_11qqc_59",os="_helpIcon_11qqc_73",rs="_panelBox_11qqc_97",ds="_text_11qqc_127",c={grid:as,card:ts,section:ls,trash:cs,label:ns,help:is,helpIcon:os,panelBox:rs,text:ds},ms=({lang:i})=>{const{panel:a}=i.properties;return s.jsxs(q,{className:c.panelBox,children:[s.jsx(d,{className:c.text,ta:"center",fz:"lg",fw:500,children:a.header}),s.jsx(d,{className:c.text,fz:"md",fw:500,children:"Status:"}),s.jsxs(d,{className:c.text,fz:"sm",c:"dimmed",ml:"xs",mt:"xs",children:[s.jsx("strong",{children:a.working}),a.working2]}),s.jsxs(d,{className:c.text,fz:"sm",c:"dimmed",ml:"xs",mt:4,children:[s.jsx("strong",{children:a.stopped}),a.stopped2]}),s.jsx(d,{className:c.text,fz:"md",fw:500,mt:"sm",children:a.upgrades}),s.jsxs(d,{className:c.text,fz:"sm",c:"dimmed",ml:"xs",mt:"xs",children:[s.jsx("strong",{children:a.stash}),a.stash2]}),s.jsxs(d,{className:c.text,fz:"sm",c:"dimmed",ml:"xs",mt:4,children:[s.jsx("strong",{children:a.production}),a.production2]}),s.jsxs(d,{className:c.text,fz:"sm",c:"dimmed",ml:"xs",mt:4,children:[s.jsx("strong",{children:a.security}),a.security2]})]})},xs={stash:s.jsx(Z,{stroke:1.5,style:{width:"18px",height:"18px"}}),production:s.jsx(J,{stroke:1.5,style:{width:"18px",height:"18px"}}),security:s.jsx(K,{stroke:1.5,style:{width:"18px",height:"18px"}})},hs="https://dunb17ur4ymx4.cloudfront.net/wysiwyg/1027823/5a3ed30f917b3e1e4f0f00ad29f21cbc138bcd11.jpg",ps=()=>{const i=P(O),a=W(i.level,i.max),o=P(V),[g,r]=C.useState([]),[m,h]=C.useState(""),x=async(e,t,n,l,j)=>{await _("av_gangs","buyUpgrade",{identifier:e,type:t,shell:n,upgrade:l,level:j})&&r(S=>S.map(f=>f.identifier===e?{...f,upgrades:{...f.upgrades,[l]:j}}:f))},v=(e,t)=>{_("av_gangs","sellProperty",{type:e,identifier:t}),r(n=>n.filter(l=>l.identifier!==t))},I=e=>{_("av_laptop","setGPS",e)};return C.useEffect(()=>{(async()=>{const t=await _("av_gangs","getProperties");t&&r(t)})()},[]),s.jsx(s.Fragment,{children:s.jsx(B,{className:c.grid,gutter:"xs",children:g.map(e=>s.jsx(B.Col,{span:{base:4,xs:6,sm:6,md:6,lg:4},children:s.jsxs(y,{withBorder:!0,radius:"md",p:"md",className:c.card,children:[s.jsxs(y.Section,{children:[s.jsx(q,{className:c.help,children:s.jsx(N,{label:s.jsx(ms,{lang:o}),h:"auto",color:"transparent",withinPortal:!0,children:s.jsx(Q,{className:c.helpIcon})})}),s.jsx(Y,{src:e.photo,alt:e.label,fallbackSrc:hs,h:215})]}),s.jsxs(y.Section,{className:c.section,mt:"md",children:[s.jsxs(p,{justify:"apart",children:[s.jsx(d,{fz:"lg",fw:500,children:e.label}),s.jsx(z,{size:"sm",variant:"light",color:e.working?"teal":"red",children:e.working?"Working":"Stopped"})]}),s.jsx(d,{mt:"md",className:c.label,c:"dimmed",children:"Upgrades"}),s.jsx(p,{mt:"xs",justify:"center",children:Object.keys(e.upgrades).map(t=>s.jsxs(p,{gap:"sm",style:{display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:[s.jsx(N,{label:o.properties[t],color:"dark.4",fz:"xs",children:xs[t]}),s.jsx(X,{value:e.upgrades[t],count:3,mt:4,emptySymbol:s.jsx(R,{color:"gray",size:16}),fullSymbol:n=>{const l=e.availableUpgrades[t].prices[n-1];return s.jsx(N,{fw:500,color:"dark.4",c:"gray.3",label:l&&a.level>=l.level?`$${l.price}`:`Needs Level ${l==null?void 0:l.level}`,withinPortal:!0,disabled:n<=e.upgrades[t],children:s.jsx(R,{color:"#38D9A9",size:16})})},readOnly:e.upgrades[t]===3,onChange:n=>{const l=e.availableUpgrades[t].prices[n-1];l&&(n<=e.upgrades[t]||a.level<l.level)||x(e.identifier,e.type,e.shell,t,n)}})]},t))})]}),s.jsx(p,{mt:"xs",grow:e.identifier===m,children:m!==e.identifier?s.jsxs(s.Fragment,{children:[s.jsx(b,{variant:"light",radius:"md",color:"teal",style:{flex:1},size:"sm",onClick:()=>{I(e.entry)},children:"Set GPS Route"}),s.jsx(b,{variant:"subtle",color:"red.5",radius:"md",onClick:()=>{h(e.identifier)},children:s.jsx(d,{children:"Sell"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(b,{variant:"subtle",radius:"md",color:"teal",size:"sm",onClick:()=>{v(e.type,e.identifier)},children:"Confirm"}),s.jsx(b,{variant:"light",radius:"md",color:"red",size:"sm",onClick:()=>{h("")},children:"Cancel"})]})})]})},e.identifier))})})};export{ps as default};
